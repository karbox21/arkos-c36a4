function oN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var dB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var T1={exports:{}},Gd={},N1={exports:{}},hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N5;function aN(){if(N5)return hn;N5=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function w(oe){return oe===null||typeof oe!="object"?null:(oe=g&&oe[g]||oe["@@iterator"],typeof oe=="function"?oe:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function P(oe,M,X){this.props=oe,this.context=M,this.refs=E,this.updater=X||y}P.prototype.isReactComponent={},P.prototype.setState=function(oe,M){if(typeof oe!="object"&&typeof oe!="function"&&oe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,oe,M,"setState")},P.prototype.forceUpdate=function(oe){this.updater.enqueueForceUpdate(this,oe,"forceUpdate")};function I(){}I.prototype=P.prototype;function L(oe,M,X){this.props=oe,this.context=M,this.refs=E,this.updater=X||y}var F=L.prototype=new I;F.constructor=L,T(F,P.prototype),F.isPureReactComponent=!0;var H=Array.isArray,te=Object.prototype.hasOwnProperty,le={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function k(oe,M,X){var ie,he={},me=null,ne=null;if(M!=null)for(ie in M.ref!==void 0&&(ne=M.ref),M.key!==void 0&&(me=""+M.key),M)te.call(M,ie)&&!U.hasOwnProperty(ie)&&(he[ie]=M[ie]);var ce=arguments.length-2;if(ce===1)he.children=X;else if(1<ce){for(var ge=Array(ce),xe=0;xe<ce;xe++)ge[xe]=arguments[xe+2];he.children=ge}if(oe&&oe.defaultProps)for(ie in ce=oe.defaultProps,ce)he[ie]===void 0&&(he[ie]=ce[ie]);return{$$typeof:n,type:oe,key:me,ref:ne,props:he,_owner:le.current}}function B(oe,M){return{$$typeof:n,type:oe.type,key:M,ref:oe.ref,props:oe.props,_owner:oe._owner}}function W(oe){return typeof oe=="object"&&oe!==null&&oe.$$typeof===n}function j(oe){var M={"=":"=0",":":"=2"};return"$"+oe.replace(/[=:]/g,function(X){return M[X]})}var D=/\/+/g;function V(oe,M){return typeof oe=="object"&&oe!==null&&oe.key!=null?j(""+oe.key):M.toString(36)}function ee(oe,M,X,ie,he){var me=typeof oe;(me==="undefined"||me==="boolean")&&(oe=null);var ne=!1;if(oe===null)ne=!0;else switch(me){case"string":case"number":ne=!0;break;case"object":switch(oe.$$typeof){case n:case e:ne=!0}}if(ne)return ne=oe,he=he(ne),oe=ie===""?"."+V(ne,0):ie,H(he)?(X="",oe!=null&&(X=oe.replace(D,"$&/")+"/"),ee(he,M,X,"",function(xe){return xe})):he!=null&&(W(he)&&(he=B(he,X+(!he.key||ne&&ne.key===he.key?"":(""+he.key).replace(D,"$&/")+"/")+oe)),M.push(he)),1;if(ne=0,ie=ie===""?".":ie+":",H(oe))for(var ce=0;ce<oe.length;ce++){me=oe[ce];var ge=ie+V(me,ce);ne+=ee(me,M,X,ge,he)}else if(ge=w(oe),typeof ge=="function")for(oe=ge.call(oe),ce=0;!(me=oe.next()).done;)me=me.value,ge=ie+V(me,ce++),ne+=ee(me,M,X,ge,he);else if(me==="object")throw M=String(oe),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(oe).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return ne}function Ee(oe,M,X){if(oe==null)return oe;var ie=[],he=0;return ee(oe,ie,"","",function(me){return M.call(X,me,he++)}),ie}function de(oe){if(oe._status===-1){var M=oe._result;M=M(),M.then(function(X){(oe._status===0||oe._status===-1)&&(oe._status=1,oe._result=X)},function(X){(oe._status===0||oe._status===-1)&&(oe._status=2,oe._result=X)}),oe._status===-1&&(oe._status=0,oe._result=M)}if(oe._status===1)return oe._result.default;throw oe._result}var Ae={current:null},re={transition:null},ye={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:re,ReactCurrentOwner:le};function fe(){throw Error("act(...) is not supported in production builds of React.")}return hn.Children={map:Ee,forEach:function(oe,M,X){Ee(oe,function(){M.apply(this,arguments)},X)},count:function(oe){var M=0;return Ee(oe,function(){M++}),M},toArray:function(oe){return Ee(oe,function(M){return M})||[]},only:function(oe){if(!W(oe))throw Error("React.Children.only expected to receive a single React element child.");return oe}},hn.Component=P,hn.Fragment=t,hn.Profiler=s,hn.PureComponent=L,hn.StrictMode=r,hn.Suspense=u,hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,hn.act=fe,hn.cloneElement=function(oe,M,X){if(oe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+oe+".");var ie=T({},oe.props),he=oe.key,me=oe.ref,ne=oe._owner;if(M!=null){if(M.ref!==void 0&&(me=M.ref,ne=le.current),M.key!==void 0&&(he=""+M.key),oe.type&&oe.type.defaultProps)var ce=oe.type.defaultProps;for(ge in M)te.call(M,ge)&&!U.hasOwnProperty(ge)&&(ie[ge]=M[ge]===void 0&&ce!==void 0?ce[ge]:M[ge])}var ge=arguments.length-2;if(ge===1)ie.children=X;else if(1<ge){ce=Array(ge);for(var xe=0;xe<ge;xe++)ce[xe]=arguments[xe+2];ie.children=ce}return{$$typeof:n,type:oe.type,key:he,ref:me,props:ie,_owner:ne}},hn.createContext=function(oe){return oe={$$typeof:a,_currentValue:oe,_currentValue2:oe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},oe.Provider={$$typeof:i,_context:oe},oe.Consumer=oe},hn.createElement=k,hn.createFactory=function(oe){var M=k.bind(null,oe);return M.type=oe,M},hn.createRef=function(){return{current:null}},hn.forwardRef=function(oe){return{$$typeof:c,render:oe}},hn.isValidElement=W,hn.lazy=function(oe){return{$$typeof:p,_payload:{_status:-1,_result:oe},_init:de}},hn.memo=function(oe,M){return{$$typeof:d,type:oe,compare:M===void 0?null:M}},hn.startTransition=function(oe){var M=re.transition;re.transition={};try{oe()}finally{re.transition=M}},hn.unstable_act=fe,hn.useCallback=function(oe,M){return Ae.current.useCallback(oe,M)},hn.useContext=function(oe){return Ae.current.useContext(oe)},hn.useDebugValue=function(){},hn.useDeferredValue=function(oe){return Ae.current.useDeferredValue(oe)},hn.useEffect=function(oe,M){return Ae.current.useEffect(oe,M)},hn.useId=function(){return Ae.current.useId()},hn.useImperativeHandle=function(oe,M,X){return Ae.current.useImperativeHandle(oe,M,X)},hn.useInsertionEffect=function(oe,M){return Ae.current.useInsertionEffect(oe,M)},hn.useLayoutEffect=function(oe,M){return Ae.current.useLayoutEffect(oe,M)},hn.useMemo=function(oe,M){return Ae.current.useMemo(oe,M)},hn.useReducer=function(oe,M,X){return Ae.current.useReducer(oe,M,X)},hn.useRef=function(oe){return Ae.current.useRef(oe)},hn.useState=function(oe){return Ae.current.useState(oe)},hn.useSyncExternalStore=function(oe,M,X){return Ae.current.useSyncExternalStore(oe,M,X)},hn.useTransition=function(){return Ae.current.useTransition()},hn.version="18.3.1",hn}var P5;function My(){return P5||(P5=1,N1.exports=aN()),N1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C5;function lN(){if(C5)return Gd;C5=1;var n=My(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,d){var p,g={},w=null,y=null;d!==void 0&&(w=""+d),u.key!==void 0&&(w=""+u.key),u.ref!==void 0&&(y=u.ref);for(p in u)r.call(u,p)&&!i.hasOwnProperty(p)&&(g[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)g[p]===void 0&&(g[p]=u[p]);return{$$typeof:e,type:c,key:w,ref:y,props:g,_owner:s.current}}return Gd.Fragment=t,Gd.jsx=a,Gd.jsxs=a,Gd}var I5;function cN(){return I5||(I5=1,T1.exports=lN()),T1.exports}var b=cN(),z=My();const zr=Oy(z),u_=oN({__proto__:null,default:zr},[z]);var Cp={},P1={exports:{}},Yi={},C1={exports:{}},I1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k5;function uN(){return k5||(k5=1,function(n){function e(re,ye){var fe=re.length;re.push(ye);e:for(;0<fe;){var oe=fe-1>>>1,M=re[oe];if(0<s(M,ye))re[oe]=ye,re[fe]=M,fe=oe;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ye=re[0],fe=re.pop();if(fe!==ye){re[0]=fe;e:for(var oe=0,M=re.length,X=M>>>1;oe<X;){var ie=2*(oe+1)-1,he=re[ie],me=ie+1,ne=re[me];if(0>s(he,fe))me<M&&0>s(ne,he)?(re[oe]=ne,re[me]=fe,oe=me):(re[oe]=he,re[ie]=fe,oe=ie);else if(me<M&&0>s(ne,fe))re[oe]=ne,re[me]=fe,oe=me;else break e}}return ye}function s(re,ye){var fe=re.sortIndex-ye.sortIndex;return fe!==0?fe:re.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var u=[],d=[],p=1,g=null,w=3,y=!1,T=!1,E=!1,P=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(re){for(var ye=t(d);ye!==null;){if(ye.callback===null)r(d);else if(ye.startTime<=re)r(d),ye.sortIndex=ye.expirationTime,e(u,ye);else break;ye=t(d)}}function H(re){if(E=!1,F(re),!T)if(t(u)!==null)T=!0,de(te);else{var ye=t(d);ye!==null&&Ae(H,ye.startTime-re)}}function te(re,ye){T=!1,E&&(E=!1,I(k),k=-1),y=!0;var fe=w;try{for(F(ye),g=t(u);g!==null&&(!(g.expirationTime>ye)||re&&!j());){var oe=g.callback;if(typeof oe=="function"){g.callback=null,w=g.priorityLevel;var M=oe(g.expirationTime<=ye);ye=n.unstable_now(),typeof M=="function"?g.callback=M:g===t(u)&&r(u),F(ye)}else r(u);g=t(u)}if(g!==null)var X=!0;else{var ie=t(d);ie!==null&&Ae(H,ie.startTime-ye),X=!1}return X}finally{g=null,w=fe,y=!1}}var le=!1,U=null,k=-1,B=5,W=-1;function j(){return!(n.unstable_now()-W<B)}function D(){if(U!==null){var re=n.unstable_now();W=re;var ye=!0;try{ye=U(!0,re)}finally{ye?V():(le=!1,U=null)}}else le=!1}var V;if(typeof L=="function")V=function(){L(D)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Ee=ee.port2;ee.port1.onmessage=D,V=function(){Ee.postMessage(null)}}else V=function(){P(D,0)};function de(re){U=re,le||(le=!0,V())}function Ae(re,ye){k=P(function(){re(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){T||y||(T=!0,de(te))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(re){switch(w){case 1:case 2:case 3:var ye=3;break;default:ye=w}var fe=w;w=ye;try{return re()}finally{w=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ye){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var fe=w;w=re;try{return ye()}finally{w=fe}},n.unstable_scheduleCallback=function(re,ye,fe){var oe=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?oe+fe:oe):fe=oe,re){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=fe+M,re={id:p++,callback:ye,priorityLevel:re,startTime:fe,expirationTime:M,sortIndex:-1},fe>oe?(re.sortIndex=fe,e(d,re),t(u)===null&&re===t(d)&&(E?(I(k),k=-1):E=!0,Ae(H,fe-oe))):(re.sortIndex=M,e(u,re),T||y||(T=!0,de(te))),re},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(re){var ye=w;return function(){var fe=w;w=ye;try{return re.apply(this,arguments)}finally{w=fe}}}}(I1)),I1}var R5;function hN(){return R5||(R5=1,C1.exports=uN()),C1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L5;function dN(){if(L5)return Yi;L5=1;var n=My(),e=hN();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(s[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function w(o){return u.call(g,o)?!0:u.call(p,o)?!1:d.test(o)?g[o]=!0:(p[o]=!0,!1)}function y(o,l,h,v){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function T(o,l,h,v){if(l===null||typeof l>"u"||y(o,l,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function E(o,l,h,v,S,C,K){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=C,this.removeEmptyString=K}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){P[o]=new E(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];P[l]=new E(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){P[o]=new E(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){P[o]=new E(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){P[o]=new E(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){P[o]=new E(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){P[o]=new E(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){P[o]=new E(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){P[o]=new E(o,5,!1,o.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(I,L);P[l]=new E(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(I,L);P[l]=new E(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(I,L);P[l]=new E(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){P[o]=new E(o,1,!1,o.toLowerCase(),null,!1,!1)}),P.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){P[o]=new E(o,1,!1,o.toLowerCase(),null,!0,!0)});function F(o,l,h,v){var S=P.hasOwnProperty(l)?P[l]:null;(S!==null?S.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(T(l,h,S,v)&&(h=null),v||S===null?w(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):S.mustUseProperty?o[S.propertyName]=h===null?S.type===3?!1:"":h:(l=S.attributeName,v=S.attributeNamespace,h===null?o.removeAttribute(l):(S=S.type,h=S===3||S===4&&h===!0?"":""+h,v?o.setAttributeNS(v,l,h):o.setAttribute(l,h))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),le=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),j=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),re=Symbol.iterator;function ye(o){return o===null||typeof o!="object"?null:(o=re&&o[re]||o["@@iterator"],typeof o=="function"?o:null)}var fe=Object.assign,oe;function M(o){if(oe===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);oe=l&&l[1]||""}return`
`+oe+o}var X=!1;function ie(o,l){if(!o||X)return"";X=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Me){var v=Me}Reflect.construct(o,[],l)}else{try{l.call()}catch(Me){v=Me}o.call(l.prototype)}else{try{throw Error()}catch(Me){v=Me}o()}}catch(Me){if(Me&&v&&typeof Me.stack=="string"){for(var S=Me.stack.split(`
`),C=v.stack.split(`
`),K=S.length-1,pe=C.length-1;1<=K&&0<=pe&&S[K]!==C[pe];)pe--;for(;1<=K&&0<=pe;K--,pe--)if(S[K]!==C[pe]){if(K!==1||pe!==1)do if(K--,pe--,0>pe||S[K]!==C[pe]){var be=`
`+S[K].replace(" at new "," at ");return o.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",o.displayName)),be}while(1<=K&&0<=pe);break}}}finally{X=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?M(o):""}function he(o){switch(o.tag){case 5:return M(o.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return o=ie(o.type,!1),o;case 11:return o=ie(o.type.render,!1),o;case 1:return o=ie(o.type,!0),o;default:return""}}function me(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case U:return"Fragment";case le:return"Portal";case B:return"Profiler";case k:return"StrictMode";case V:return"Suspense";case ee:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case j:return(o.displayName||"Context")+".Consumer";case W:return(o._context.displayName||"Context")+".Provider";case D:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ee:return l=o.displayName||null,l!==null?l:me(o.type)||"Memo";case de:l=o._payload,o=o._init;try{return me(o(l))}catch{}}return null}function ne(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(l);case 8:return l===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ce(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ge(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function xe(o){var l=ge(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),v=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var S=h.get,C=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return S.call(this)},set:function(K){v=""+K,C.call(this,K)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(K){v=""+K},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function je(o){o._valueTracker||(o._valueTracker=xe(o))}function ze(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return o&&(v=ge(o)?o.checked?"true":"false":o.value),o=v,o!==h?(l.setValue(o),!0):!1}function He(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ht(o,l){var h=l.checked;return fe({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Oe(o,l){var h=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;h=ce(l.value!=null?l.value:h),o._wrapperState={initialChecked:v,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ue(o,l){l=l.checked,l!=null&&F(o,"checked",l,!1)}function xt(o,l){ue(o,l);var h=ce(l.value),v=l.type;if(h!=null)v==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(v==="submit"||v==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Ke(o,l.type,h):l.hasOwnProperty("defaultValue")&&Ke(o,l.type,ce(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function ut(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Ke(o,l,h){(l!=="number"||He(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var et=Array.isArray;function rt(o,l,h,v){if(o=o.options,l){l={};for(var S=0;S<h.length;S++)l["$"+h[S]]=!0;for(h=0;h<o.length;h++)S=l.hasOwnProperty("$"+o[h].value),o[h].selected!==S&&(o[h].selected=S),S&&v&&(o[h].defaultSelected=!0)}else{for(h=""+ce(h),l=null,S=0;S<o.length;S++){if(o[S].value===h){o[S].selected=!0,v&&(o[S].defaultSelected=!0);return}l!==null||o[S].disabled||(l=o[S])}l!==null&&(l.selected=!0)}}function st(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return fe({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function vt(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if(et(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:ce(h)}}function jt(o,l){var h=ce(l.value),v=ce(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),v!=null&&(o.defaultValue=""+v)}function Ut(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Et(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Et(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var rn,It=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,v,S){MSApp.execUnsafeLocalFunction(function(){return o(l,h,v,S)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(rn=rn||document.createElement("div"),rn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=rn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function $t(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(o){er.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),ot[l]=ot[o]})});function sn(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||ot.hasOwnProperty(o)&&ot[o]?(""+l).trim():l+"px"}function Tr(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var v=h.indexOf("--")===0,S=sn(h,l[h],v);h==="float"&&(h="cssFloat"),v?o.setProperty(h,S):o[h]=S}}var dn=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nn(o,l){if(l){if(dn[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function ms(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var on=null;function Gs(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ln=null,tr=null,Nr=null;function jn(o){if(o=bc(o)){if(typeof Ln!="function")throw Error(t(280));var l=o.stateNode;l&&(l=Cu(l),Ln(o.stateNode,o.type,l))}}function Pt(o){tr?Nr?Nr.push(o):Nr=[o]:tr=o}function cn(){if(tr){var o=tr,l=Nr;if(Nr=tr=null,jn(o),l)for(o=0;o<l.length;o++)jn(l[o])}}function ns(o,l){return o(l)}function ir(){}var Pr=!1;function Kr(o,l,h){if(Pr)return o(l,h);Pr=!0;try{return ns(o,l,h)}finally{Pr=!1,(tr!==null||Nr!==null)&&(ir(),cn())}}function dt(o,l){var h=o.stateNode;if(h===null)return null;var v=Cu(h);if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var Yr=!1;if(c)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch{Yr=!1}function it(o,l,h,v,S,C,K,pe,be){var Me=Array.prototype.slice.call(arguments,3);try{l.apply(h,Me)}catch(Je){this.onError(Je)}}var pt=!1,Tt=null,Yt=!1,Ot=null,Wt={onError:function(o){pt=!0,Tt=o}};function gn(o,l,h,v,S,C,K,pe,be){pt=!1,Tt=null,it.apply(Wt,arguments)}function nr(o,l,h,v,S,C,K,pe,be){if(gn.apply(this,arguments),pt){if(pt){var Me=Tt;pt=!1,Tt=null}else throw Error(t(198));Yt||(Yt=!0,Ot=Me)}}function Bn(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function Yn(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function an(o){if(Bn(o)!==o)throw Error(t(188))}function St(o){var l=o.alternate;if(!l){if(l=Bn(o),l===null)throw Error(t(188));return l!==o?null:o}for(var h=o,v=l;;){var S=h.return;if(S===null)break;var C=S.alternate;if(C===null){if(v=S.return,v!==null){h=v;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===h)return an(S),o;if(C===v)return an(S),l;C=C.sibling}throw Error(t(188))}if(h.return!==v.return)h=S,v=C;else{for(var K=!1,pe=S.child;pe;){if(pe===h){K=!0,h=S,v=C;break}if(pe===v){K=!0,v=S,h=C;break}pe=pe.sibling}if(!K){for(pe=C.child;pe;){if(pe===h){K=!0,h=C,v=S;break}if(pe===v){K=!0,v=C,h=S;break}pe=pe.sibling}if(!K)throw Error(t(189))}}if(h.alternate!==v)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?o:l}function gs(o){return o=St(o),o!==null?$n(o):null}function $n(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=$n(o);if(l!==null)return l;o=o.sibling}return null}var or=e.unstable_scheduleCallback,Xr=e.unstable_cancelCallback,Ks=e.unstable_shouldYield,Zi=e.unstable_requestPaint,Ct=e.unstable_now,Hn=e.unstable_getCurrentPriorityLevel,pr=e.unstable_ImmediatePriority,ar=e.unstable_UserBlockingPriority,rs=e.unstable_NormalPriority,Ri=e.unstable_LowPriority,nc=e.unstable_IdlePriority,vo=null,Rs=null;function $o(o){if(Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(vo,o,void 0,(o.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:dl,Xn=Math.log,hl=Math.LN2;function dl(o){return o>>>=0,o===0?32:31-(Xn(o)/hl|0)|0}var Ho=64,wo=4194304;function xo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function is(o,l){var h=o.pendingLanes;if(h===0)return 0;var v=0,S=o.suspendedLanes,C=o.pingedLanes,K=h&268435455;if(K!==0){var pe=K&~S;pe!==0?v=xo(pe):(C&=K,C!==0&&(v=xo(C)))}else K=h&~S,K!==0?v=xo(K):C!==0&&(v=xo(C));if(v===0)return 0;if(l!==0&&l!==v&&(l&S)===0&&(S=v&-v,C=l&-l,S>=C||S===16&&(C&4194240)!==0))return l;if((v&4)!==0&&(v|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=v;0<l;)h=31-ss(l),S=1<<h,v|=o[h],l&=~S;return v}function Na(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(o,l){for(var h=o.suspendedLanes,v=o.pingedLanes,S=o.expirationTimes,C=o.pendingLanes;0<C;){var K=31-ss(C),pe=1<<K,be=S[K];be===-1?((pe&h)===0||(pe&v)!==0)&&(S[K]=Na(pe,l)):be<=l&&(o.expiredLanes|=pe),C&=~pe}}function os(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function bo(){var o=Ho;return Ho<<=1,(Ho&4194240)===0&&(Ho=64),o}function _o(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function eo(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-ss(l),o[l]=h}function Dn(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var v=o.eventTimes;for(o=o.expirationTimes;0<h;){var S=31-ss(h),C=1<<S;l[S]=0,v[S]=-1,o[S]=-1,h&=~C}}function to(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var v=31-ss(h),S=1<<v;S&l|o[v]&l&&(o[v]|=l),h&=~S}}var ln=0;function Li(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var rc,Pa,sc,ji,Wo,So=!1,vi=[],wn=null,wi=null,Ys=null,Dt=new Map,Xs=new Map,Di=[],Oi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fl(o,l){switch(o){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Dt.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(l.pointerId)}}function as(o,l,h,v,S,C){return o===null||o.nativeEvent!==C?(o={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:C,targetContainers:[S]},l!==null&&(l=bc(l),l!==null&&Pa(l)),o):(o.eventSystemFlags|=v,l=o.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),o)}function Ca(o,l,h,v,S){switch(l){case"focusin":return wn=as(wn,o,l,h,v,S),!0;case"dragenter":return wi=as(wi,o,l,h,v,S),!0;case"mouseover":return Ys=as(Ys,o,l,h,v,S),!0;case"pointerover":var C=S.pointerId;return Dt.set(C,as(Dt.get(C)||null,o,l,h,v,S)),!0;case"gotpointercapture":return C=S.pointerId,Xs.set(C,as(Xs.get(C)||null,o,l,h,v,S)),!0}return!1}function Ia(o){var l=Va(o.target);if(l!==null){var h=Bn(l);if(h!==null){if(l=h.tag,l===13){if(l=Yn(h),l!==null){o.blockedOn=l,Wo(o.priority,function(){sc(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function no(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=Ko(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var v=new h.constructor(h.type,h);on=v,h.target.dispatchEvent(v),on=null}else return l=bc(h),l!==null&&Pa(l),o.blockedOn=h,!1;l.shift()}return!0}function Go(o,l,h){no(o)&&h.delete(l)}function ic(){So=!1,wn!==null&&no(wn)&&(wn=null),wi!==null&&no(wi)&&(wi=null),Ys!==null&&no(Ys)&&(Ys=null),Dt.forEach(Go),Xs.forEach(Go)}function Ls(o,l){o.blockedOn===l&&(o.blockedOn=null,So||(So=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ic)))}function ls(o){function l(S){return Ls(S,o)}if(0<vi.length){Ls(vi[0],o);for(var h=1;h<vi.length;h++){var v=vi[h];v.blockedOn===o&&(v.blockedOn=null)}}for(wn!==null&&Ls(wn,o),wi!==null&&Ls(wi,o),Ys!==null&&Ls(Ys,o),Dt.forEach(l),Xs.forEach(l),h=0;h<Di.length;h++)v=Di[h],v.blockedOn===o&&(v.blockedOn=null);for(;0<Di.length&&(h=Di[0],h.blockedOn===null);)Ia(h),h.blockedOn===null&&Di.shift()}var ys=H.ReactCurrentBatchConfig,Ao=!0;function Pn(o,l,h,v){var S=ln,C=ys.transition;ys.transition=null;try{ln=1,Eo(o,l,h,v)}finally{ln=S,ys.transition=C}}function pl(o,l,h,v){var S=ln,C=ys.transition;ys.transition=null;try{ln=4,Eo(o,l,h,v)}finally{ln=S,ys.transition=C}}function Eo(o,l,h,v){if(Ao){var S=Ko(o,l,h,v);if(S===null)Tu(o,l,v,To,h),fl(o,v);else if(Ca(S,o,l,h,v))v.stopPropagation();else if(fl(o,v),l&4&&-1<Oi.indexOf(o)){for(;S!==null;){var C=bc(S);if(C!==null&&rc(C),C=Ko(o,l,h,v),C===null&&Tu(o,l,v,To,h),C===S)break;S=C}S!==null&&v.stopPropagation()}else Tu(o,l,v,null,h)}}var To=null;function Ko(o,l,h,v){if(To=null,o=Gs(v),o=Va(o),o!==null)if(l=Bn(o),l===null)o=null;else if(h=l.tag,h===13){if(o=Yn(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return To=o,null}function ka(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hn()){case pr:return 1;case ar:return 4;case rs:case Ri:return 16;case nc:return 536870912;default:return 16}default:return 16}}var vs=null,js=null,gr=null;function ml(){if(gr)return gr;var o,l=js,h=l.length,v,S="value"in vs?vs.value:vs.textContent,C=S.length;for(o=0;o<h&&l[o]===S[o];o++);var K=h-o;for(v=1;v<=K&&l[h-v]===S[C-v];v++);return gr=S.slice(o,1<v?1-v:void 0)}function xi(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Cr(){return!0}function Yo(){return!1}function lr(o){function l(h,v,S,C,K){this._reactName=h,this._targetInst=S,this.type=v,this.nativeEvent=C,this.target=K,this.currentTarget=null;for(var pe in o)o.hasOwnProperty(pe)&&(h=o[pe],this[pe]=h?h(C):C[pe]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Cr:Yo,this.isPropagationStopped=Yo,this}return fe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),l}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=lr(bi),Mi=fe({},bi,{view:0,detail:0}),gl=lr(Mi),No,Fi,_i,so=fe({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:at,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==_i&&(_i&&o.type==="mousemove"?(No=o.screenX-_i.screenX,Fi=o.screenY-_i.screenY):Fi=No=0,_i=o),No)},movementY:function(o){return"movementY"in o?o.movementY:Fi}}),Po=lr(so),Ra=fe({},so,{dataTransfer:0}),oc=lr(Ra),io=fe({},Mi,{relatedTarget:0}),Vi=lr(io),La=fe({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),ws=lr(La),ja=fe({},bi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),_=lr(ja),$=fe({},bi,{data:0}),ae=lr($),ve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ce={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Be={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ye(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Be[o])?!!l[o]:!1}function at(){return Ye}var m=fe({},Mi,{key:function(o){if(o.key){var l=ve[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=xi(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ce[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:at,charCode:function(o){return o.type==="keypress"?xi(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?xi(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),N=lr(m),O=fe({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J=lr(O),Ne=fe({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:at}),Le=lr(Ne),Xe=fe({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xt=lr(Xe),un=fe({},so,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Qt=lr(un),Cn=[9,13,27,32],On=c&&"CompositionEvent"in window,Ds=null;c&&"documentMode"in document&&(Ds=document.documentMode);var cs=c&&"TextEvent"in window&&!Ds,oo=c&&(!On||Ds&&8<Ds&&11>=Ds),ao=" ",ac=!1;function lc(o,l){switch(o){case"keyup":return Cn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yl(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var yr=!1;function cc(o,l){switch(o){case"compositionend":return yl(l);case"keypress":return l.which!==32?null:(ac=!0,ao);case"textInput":return o=l.data,o===ao&&ac?null:o;default:return null}}function uc(o,l){if(yr)return o==="compositionend"||!On&&lc(o,l)?(o=ml(),gr=js=vs=null,yr=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return oo&&l.locale!=="ko"?null:l.data;default:return null}}var hc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dc(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!hc[o.type]:l==="textarea"}function Os(o,l,h,v){Pt(v),l=mh(l,"onChange"),0<l.length&&(h=new ro("onChange","change",null,h,v),o.push({event:h,listeners:l}))}var vl=null,Xo=null;function dh(o){Au(o,0)}function Ms(o){var l=Nl(o);if(ze(l))return o}function fc(o,l){if(o==="change")return l}var xu=!1;if(c){var pc;if(c){var Co="oninput"in document;if(!Co){var Da=document.createElement("div");Da.setAttribute("oninput","return;"),Co=typeof Da.oninput=="function"}pc=Co}else pc=!1;xu=pc&&(!document.documentMode||9<document.documentMode)}function Fs(){vl&&(vl.detachEvent("onpropertychange",xs),Xo=vl=null)}function xs(o){if(o.propertyName==="value"&&Ms(Xo)){var l=[];Os(l,Xo,o,Gs(o)),Kr(dh,l)}}function Oa(o,l,h){o==="focusin"?(Fs(),vl=l,Xo=h,vl.attachEvent("onpropertychange",xs)):o==="focusout"&&Fs()}function Qo(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ms(Xo)}function Jo(o,l){if(o==="click")return Ms(l)}function mc(o,l){if(o==="input"||o==="change")return Ms(l)}function Zo(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var An=typeof Object.is=="function"?Object.is:Zo;function ea(o,l){if(An(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var S=h[v];if(!u.call(l,S)||!An(o[S],l[S]))return!1}return!0}function bs(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Si(o,l){var h=bs(o);o=0;for(var v;h;){if(h.nodeType===3){if(v=o+h.textContent.length,o<=l&&v>=l)return{node:h,offset:l-o};o=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=bs(h)}}function wl(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?wl(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function bu(){for(var o=window,l=He();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=He(o.document)}return l}function xl(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function bl(o){var l=bu(),h=o.focusedElem,v=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&wl(h.ownerDocument.documentElement,h)){if(v!==null&&xl(h)){if(l=v.start,o=v.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var S=h.textContent.length,C=Math.min(v.start,S);v=v.end===void 0?C:Math.min(v.end,S),!o.extend&&C>v&&(S=v,v=C,C=S),S=Si(h,C);var K=Si(h,v);S&&K&&(o.rangeCount!==1||o.anchorNode!==S.node||o.anchorOffset!==S.offset||o.focusNode!==K.node||o.focusOffset!==K.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),o.removeAllRanges(),C>v?(o.addRange(l),o.extend(K.node,K.offset)):(l.setEnd(K.node,K.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var _l=c&&"documentMode"in document&&11>=document.documentMode,Ai=null,ta=null,Io=null,na=!1;function ra(o,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;na||Ai==null||Ai!==He(v)||(v=Ai,"selectionStart"in v&&xl(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Io&&ea(Io,v)||(Io=v,v=mh(ta,"onSelect"),0<v.length&&(l=new ro("onSelect","select",null,l,h),o.push({event:l,listeners:v}),l.target=Ai)))}function Ma(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var us={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Qs={},Wn={};c&&(Wn=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Mn(o){if(Qs[o])return Qs[o];if(!us[o])return o;var l=us[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in Wn)return Qs[o]=l[h];return o}var vr=Mn("animationend"),Ir=Mn("animationiteration"),ko=Mn("animationstart"),gc=Mn("transitionend"),Sl=new Map,_u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ro(o,l){Sl.set(o,l),i(l,[o])}for(var yc=0;yc<_u.length;yc++){var Vs=_u[yc],Bi=Vs.toLowerCase(),fh=Vs[0].toUpperCase()+Vs.slice(1);Ro(Bi,"on"+fh)}Ro(vr,"onAnimationEnd"),Ro(Ir,"onAnimationIteration"),Ro(ko,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(gc,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function Su(o,l,h){var v=o.type||"unknown-event";o.currentTarget=h,nr(v,l,void 0,o),o.currentTarget=null}function Au(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var v=o[h],S=v.event;v=v.listeners;e:{var C=void 0;if(l)for(var K=v.length-1;0<=K;K--){var pe=v[K],be=pe.instance,Me=pe.currentTarget;if(pe=pe.listener,be!==C&&S.isPropagationStopped())break e;Su(S,pe,Me),C=be}else for(K=0;K<v.length;K++){if(pe=v[K],be=pe.instance,Me=pe.currentTarget,pe=pe.listener,be!==C&&S.isPropagationStopped())break e;Su(S,pe,Me),C=be}}}if(Yt)throw o=Ot,Yt=!1,Ot=null,o}function Gn(o,l){var h=l[Zs];h===void 0&&(h=l[Zs]=new Set);var v=o+"__bubble";h.has(v)||(Eu(l,o,2,!1),h.add(v))}function ph(o,l,h){var v=0;l&&(v|=4),Eu(h,o,v,l)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Al(o){if(!o[vc]){o[vc]=!0,r.forEach(function(h){h!=="selectionchange"&&(Yf.has(h)||ph(h,!1,o),ph(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[vc]||(l[vc]=!0,ph("selectionchange",!1,l))}}function Eu(o,l,h,v){switch(ka(l)){case 1:var S=Pn;break;case 4:S=pl;break;default:S=Eo}h=S.bind(null,l,h,o),S=void 0,!Yr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),v?S!==void 0?o.addEventListener(l,h,{capture:!0,passive:S}):o.addEventListener(l,h,!0):S!==void 0?o.addEventListener(l,h,{passive:S}):o.addEventListener(l,h,!1)}function Tu(o,l,h,v,S){var C=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var K=v.tag;if(K===3||K===4){var pe=v.stateNode.containerInfo;if(pe===S||pe.nodeType===8&&pe.parentNode===S)break;if(K===4)for(K=v.return;K!==null;){var be=K.tag;if((be===3||be===4)&&(be=K.stateNode.containerInfo,be===S||be.nodeType===8&&be.parentNode===S))return;K=K.return}for(;pe!==null;){if(K=Va(pe),K===null)return;if(be=K.tag,be===5||be===6){v=C=K;continue e}pe=pe.parentNode}}v=v.return}Kr(function(){var Me=C,Je=Gs(h),Ze=[];e:{var Qe=Sl.get(o);if(Qe!==void 0){var mt=ro,bt=o;switch(o){case"keypress":if(xi(h)===0)break e;case"keydown":case"keyup":mt=N;break;case"focusin":bt="focus",mt=Vi;break;case"focusout":bt="blur",mt=Vi;break;case"beforeblur":case"afterblur":mt=Vi;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Le;break;case vr:case Ir:case ko:mt=ws;break;case gc:mt=Xt;break;case"scroll":mt=gl;break;case"wheel":mt=Qt;break;case"copy":case"cut":case"paste":mt=_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=J}var At=(l&4)!==0,Br=!At&&o==="scroll",Re=At?Qe!==null?Qe+"Capture":null:Qe;At=[];for(var Te=Me,De;Te!==null;){De=Te;var nt=De.stateNode;if(De.tag===5&&nt!==null&&(De=nt,Re!==null&&(nt=dt(Te,Re),nt!=null&&At.push(Nu(Te,nt,De)))),Br)break;Te=Te.return}0<At.length&&(Qe=new mt(Qe,bt,null,h,Je),Ze.push({event:Qe,listeners:At}))}}if((l&7)===0){e:{if(Qe=o==="mouseover"||o==="pointerover",mt=o==="mouseout"||o==="pointerout",Qe&&h!==on&&(bt=h.relatedTarget||h.fromElement)&&(Va(bt)||bt[_s]))break e;if((mt||Qe)&&(Qe=Je.window===Je?Je:(Qe=Je.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,mt?(bt=h.relatedTarget||h.toElement,mt=Me,bt=bt?Va(bt):null,bt!==null&&(Br=Bn(bt),bt!==Br||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(mt=null,bt=Me),mt!==bt)){if(At=Po,nt="onMouseLeave",Re="onMouseEnter",Te="mouse",(o==="pointerout"||o==="pointerover")&&(At=J,nt="onPointerLeave",Re="onPointerEnter",Te="pointer"),Br=mt==null?Qe:Nl(mt),De=bt==null?Qe:Nl(bt),Qe=new At(nt,Te+"leave",mt,h,Je),Qe.target=Br,Qe.relatedTarget=De,nt=null,Va(Je)===Me&&(At=new At(Re,Te+"enter",bt,h,Je),At.target=De,At.relatedTarget=Br,nt=At),Br=nt,mt&&bt)t:{for(At=mt,Re=bt,Te=0,De=At;De;De=El(De))Te++;for(De=0,nt=Re;nt;nt=El(nt))De++;for(;0<Te-De;)At=El(At),Te--;for(;0<De-Te;)Re=El(Re),De--;for(;Te--;){if(At===Re||Re!==null&&At===Re.alternate)break t;At=El(At),Re=El(Re)}At=null}else At=null;mt!==null&&Xf(Ze,Qe,mt,At,!1),bt!==null&&Br!==null&&Xf(Ze,Br,bt,At,!0)}}e:{if(Qe=Me?Nl(Me):window,mt=Qe.nodeName&&Qe.nodeName.toLowerCase(),mt==="select"||mt==="input"&&Qe.type==="file")var Nt=fc;else if(dc(Qe))if(xu)Nt=mc;else{Nt=Qo;var Mt=Oa}else(mt=Qe.nodeName)&&mt.toLowerCase()==="input"&&(Qe.type==="checkbox"||Qe.type==="radio")&&(Nt=Jo);if(Nt&&(Nt=Nt(o,Me))){Os(Ze,Nt,h,Je);break e}Mt&&Mt(o,Qe,Me),o==="focusout"&&(Mt=Qe._wrapperState)&&Mt.controlled&&Qe.type==="number"&&Ke(Qe,"number",Qe.value)}switch(Mt=Me?Nl(Me):window,o){case"focusin":(dc(Mt)||Mt.contentEditable==="true")&&(Ai=Mt,ta=Me,Io=null);break;case"focusout":Io=ta=Ai=null;break;case"mousedown":na=!0;break;case"contextmenu":case"mouseup":case"dragend":na=!1,ra(Ze,h,Je);break;case"selectionchange":if(_l)break;case"keydown":case"keyup":ra(Ze,h,Je)}var Ft;if(On)e:{switch(o){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else yr?lc(o,h)&&(Gt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Gt="onCompositionStart");Gt&&(oo&&h.locale!=="ko"&&(yr||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&yr&&(Ft=ml()):(vs=Je,js="value"in vs?vs.value:vs.textContent,yr=!0)),Mt=mh(Me,Gt),0<Mt.length&&(Gt=new ae(Gt,o,null,h,Je),Ze.push({event:Gt,listeners:Mt}),Ft?Gt.data=Ft:(Ft=yl(h),Ft!==null&&(Gt.data=Ft)))),(Ft=cs?cc(o,h):uc(o,h))&&(Me=mh(Me,"onBeforeInput"),0<Me.length&&(Je=new ae("onBeforeInput","beforeinput",null,h,Je),Ze.push({event:Je,listeners:Me}),Je.data=Ft))}Au(Ze,l)})}function Nu(o,l,h){return{instance:o,listener:l,currentTarget:h}}function mh(o,l){for(var h=l+"Capture",v=[];o!==null;){var S=o,C=S.stateNode;S.tag===5&&C!==null&&(S=C,C=dt(o,h),C!=null&&v.unshift(Nu(o,C,S)),C=dt(o,l),C!=null&&v.push(Nu(o,C,S))),o=o.return}return v}function El(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Xf(o,l,h,v,S){for(var C=l._reactName,K=[];h!==null&&h!==v;){var pe=h,be=pe.alternate,Me=pe.stateNode;if(be!==null&&be===v)break;pe.tag===5&&Me!==null&&(pe=Me,S?(be=dt(h,C),be!=null&&K.unshift(Nu(h,be,pe))):S||(be=dt(h,C),be!=null&&K.push(Nu(h,be,pe)))),h=h.return}K.length!==0&&o.push({event:l,listeners:K})}var Bg=/\r\n?/g,Ug=/\u0000|\uFFFD/g;function Qf(o){return(typeof o=="string"?o:""+o).replace(Bg,`
`).replace(Ug,"")}function gh(o,l,h){if(l=Qf(l),Qf(o)!==l&&h)throw Error(t(425))}function wc(){}var Pu=null,Tl=null;function Id(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var kd=typeof setTimeout=="function"?setTimeout:void 0,Jf=typeof clearTimeout=="function"?clearTimeout:void 0,Zf=typeof Promise=="function"?Promise:void 0,zg=typeof queueMicrotask=="function"?queueMicrotask:typeof Zf<"u"?function(o){return Zf.resolve(null).then(o).catch(qg)}:kd;function qg(o){setTimeout(function(){throw o})}function Rd(o,l){var h=l,v=0;do{var S=h.nextSibling;if(o.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(v===0){o.removeChild(S),ls(l);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=S}while(h);ls(l)}function Bs(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function Ui(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var Js=Math.random().toString(36).slice(2),Lo="__reactFiber$"+Js,xc="__reactProps$"+Js,_s="__reactContainer$"+Js,Zs="__reactEvents$"+Js,$g="__reactListeners$"+Js,Hg="__reactHandles$"+Js;function Va(o){var l=o[Lo];if(l)return l;for(var h=o.parentNode;h;){if(l=h[_s]||h[Lo]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=Ui(o);o!==null;){if(h=o[Lo])return h;o=Ui(o)}return l}o=h,h=o.parentNode}return null}function bc(o){return o=o[Lo]||o[_s],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Nl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Cu(o){return o[xc]||null}var Ld=[],sa=-1;function lo(o){return{current:o}}function Fn(o){0>sa||(o.current=Ld[sa],Ld[sa]=null,sa--)}function Un(o,l){sa++,Ld[sa]=o.current,o.current=l}var Ba={},hs=lo(Ba),ei=lo(!1),Pl=Ba;function _c(o,l){var h=o.type.contextTypes;if(!h)return Ba;var v=o.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var S={},C;for(C in h)S[C]=l[C];return v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=S),S}function ti(o){return o=o.childContextTypes,o!=null}function yh(){Fn(ei),Fn(hs)}function ep(o,l,h){if(hs.current!==Ba)throw Error(t(168));Un(hs,l),Un(ei,h)}function jd(o,l,h){var v=o.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var S in v)if(!(S in l))throw Error(t(108,ne(o)||"Unknown",S));return fe({},h,v)}function Cl(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ba,Pl=hs.current,Un(hs,o),Un(ei,ei.current),!0}function tp(o,l,h){var v=o.stateNode;if(!v)throw Error(t(169));h?(o=jd(o,l,Pl),v.__reactInternalMemoizedMergedChildContext=o,Fn(ei),Fn(hs),Un(hs,o)):Fn(ei),Un(ei,h)}var ia=null,Iu=!1,f=!1;function x(o){ia===null?ia=[o]:ia.push(o)}function A(o){Iu=!0,x(o)}function R(){if(!f&&ia!==null){f=!0;var o=0,l=ln;try{var h=ia;for(ln=1;o<h.length;o++){var v=h[o];do v=v(!0);while(v!==null)}ia=null,Iu=!1}catch(S){throw ia!==null&&(ia=ia.slice(o+1)),or(pr,R),S}finally{ln=l,f=!1}}return null}var q=[],G=0,Y=null,Q=0,Z=[],se=0,we=null,Ie=1,ke="";function Pe(o,l){q[G++]=Q,q[G++]=Y,Y=o,Q=l}function We(o,l,h){Z[se++]=Ie,Z[se++]=ke,Z[se++]=we,we=o;var v=Ie;o=ke;var S=32-ss(v)-1;v&=~(1<<S),h+=1;var C=32-ss(l)+S;if(30<C){var K=S-S%5;C=(v&(1<<K)-1).toString(32),v>>=K,S-=K,Ie=1<<32-ss(l)+S|h<<S|v,ke=C+o}else Ie=1<<C|h<<S|v,ke=o}function Fe(o){o.return!==null&&(Pe(o,1),We(o,1,0))}function _e(o){for(;o===Y;)Y=q[--G],q[G]=null,Q=q[--G],q[G]=null;for(;o===we;)we=Z[--se],Z[se]=null,ke=Z[--se],Z[se]=null,Ie=Z[--se],Z[se]=null}var Se=null,qe=null,Ue=!1,$e=null;function ft(o,l){var h=Vo(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function lt(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Se=o,qe=Bs(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Se=o,qe=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=we!==null?{id:Ie,overflow:ke}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Vo(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,Se=o,qe=null,!0):!1;default:return!1}}function kt(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ct(o){if(Ue){var l=qe;if(l){var h=l;if(!lt(o,l)){if(kt(o))throw Error(t(418));l=Bs(h.nextSibling);var v=Se;l&&lt(o,l)?ft(v,h):(o.flags=o.flags&-4097|2,Ue=!1,Se=o)}}else{if(kt(o))throw Error(t(418));o.flags=o.flags&-4097|2,Ue=!1,Se=o}}}function xn(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Se=o}function bn(o){if(o!==Se)return!1;if(!Ue)return xn(o),Ue=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Id(o.type,o.memoizedProps)),l&&(l=qe)){if(kt(o))throw fn(),Error(t(418));for(;l;)ft(o,l),l=Bs(l.nextSibling)}if(xn(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){qe=Bs(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}qe=null}}else qe=Se?Bs(o.stateNode.nextSibling):null;return!0}function fn(){for(var o=qe;o;)o=Bs(o.nextSibling)}function nn(){qe=Se=null,Ue=!1}function Vn(o){$e===null?$e=[o]:$e.push(o)}var zn=H.ReactCurrentBatchConfig;function Ht(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var v=h.stateNode}if(!v)throw Error(t(147,o));var S=v,C=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===C?l.ref:(l=function(K){var pe=S.refs;K===null?delete pe[C]:pe[C]=K},l._stringRef=C,l)}if(typeof o!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,o))}return o}function cr(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Us(o){var l=o._init;return l(o._payload)}function br(o){function l(Re,Te){if(o){var De=Re.deletions;De===null?(Re.deletions=[Te],Re.flags|=16):De.push(Te)}}function h(Re,Te){if(!o)return null;for(;Te!==null;)l(Re,Te),Te=Te.sibling;return null}function v(Re,Te){for(Re=new Map;Te!==null;)Te.key!==null?Re.set(Te.key,Te):Re.set(Te.index,Te),Te=Te.sibling;return Re}function S(Re,Te){return Re=jc(Re,Te),Re.index=0,Re.sibling=null,Re}function C(Re,Te,De){return Re.index=De,o?(De=Re.alternate,De!==null?(De=De.index,De<Te?(Re.flags|=2,Te):De):(Re.flags|=2,Te)):(Re.flags|=1048576,Te)}function K(Re){return o&&Re.alternate===null&&(Re.flags|=2),Re}function pe(Re,Te,De,nt){return Te===null||Te.tag!==6?(Te=x1(De,Re.mode,nt),Te.return=Re,Te):(Te=S(Te,De),Te.return=Re,Te)}function be(Re,Te,De,nt){var Nt=De.type;return Nt===U?Je(Re,Te,De.props.children,nt,De.key):Te!==null&&(Te.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===de&&Us(Nt)===Te.type)?(nt=S(Te,De.props),nt.ref=Ht(Re,Te,De),nt.return=Re,nt):(nt=bp(De.type,De.key,De.props,null,Re.mode,nt),nt.ref=Ht(Re,Te,De),nt.return=Re,nt)}function Me(Re,Te,De,nt){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==De.containerInfo||Te.stateNode.implementation!==De.implementation?(Te=b1(De,Re.mode,nt),Te.return=Re,Te):(Te=S(Te,De.children||[]),Te.return=Re,Te)}function Je(Re,Te,De,nt,Nt){return Te===null||Te.tag!==7?(Te=Fu(De,Re.mode,nt,Nt),Te.return=Re,Te):(Te=S(Te,De),Te.return=Re,Te)}function Ze(Re,Te,De){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return Te=x1(""+Te,Re.mode,De),Te.return=Re,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case te:return De=bp(Te.type,Te.key,Te.props,null,Re.mode,De),De.ref=Ht(Re,null,Te),De.return=Re,De;case le:return Te=b1(Te,Re.mode,De),Te.return=Re,Te;case de:var nt=Te._init;return Ze(Re,nt(Te._payload),De)}if(et(Te)||ye(Te))return Te=Fu(Te,Re.mode,De,null),Te.return=Re,Te;cr(Re,Te)}return null}function Qe(Re,Te,De,nt){var Nt=Te!==null?Te.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Nt!==null?null:pe(Re,Te,""+De,nt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case te:return De.key===Nt?be(Re,Te,De,nt):null;case le:return De.key===Nt?Me(Re,Te,De,nt):null;case de:return Nt=De._init,Qe(Re,Te,Nt(De._payload),nt)}if(et(De)||ye(De))return Nt!==null?null:Je(Re,Te,De,nt,null);cr(Re,De)}return null}function mt(Re,Te,De,nt,Nt){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return Re=Re.get(De)||null,pe(Te,Re,""+nt,Nt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case te:return Re=Re.get(nt.key===null?De:nt.key)||null,be(Te,Re,nt,Nt);case le:return Re=Re.get(nt.key===null?De:nt.key)||null,Me(Te,Re,nt,Nt);case de:var Mt=nt._init;return mt(Re,Te,De,Mt(nt._payload),Nt)}if(et(nt)||ye(nt))return Re=Re.get(De)||null,Je(Te,Re,nt,Nt,null);cr(Te,nt)}return null}function bt(Re,Te,De,nt){for(var Nt=null,Mt=null,Ft=Te,Gt=Te=0,Ts=null;Ft!==null&&Gt<De.length;Gt++){Ft.index>Gt?(Ts=Ft,Ft=null):Ts=Ft.sibling;var Rn=Qe(Re,Ft,De[Gt],nt);if(Rn===null){Ft===null&&(Ft=Ts);break}o&&Ft&&Rn.alternate===null&&l(Re,Ft),Te=C(Rn,Te,Gt),Mt===null?Nt=Rn:Mt.sibling=Rn,Mt=Rn,Ft=Ts}if(Gt===De.length)return h(Re,Ft),Ue&&Pe(Re,Gt),Nt;if(Ft===null){for(;Gt<De.length;Gt++)Ft=Ze(Re,De[Gt],nt),Ft!==null&&(Te=C(Ft,Te,Gt),Mt===null?Nt=Ft:Mt.sibling=Ft,Mt=Ft);return Ue&&Pe(Re,Gt),Nt}for(Ft=v(Re,Ft);Gt<De.length;Gt++)Ts=mt(Ft,Re,Gt,De[Gt],nt),Ts!==null&&(o&&Ts.alternate!==null&&Ft.delete(Ts.key===null?Gt:Ts.key),Te=C(Ts,Te,Gt),Mt===null?Nt=Ts:Mt.sibling=Ts,Mt=Ts);return o&&Ft.forEach(function(Dc){return l(Re,Dc)}),Ue&&Pe(Re,Gt),Nt}function At(Re,Te,De,nt){var Nt=ye(De);if(typeof Nt!="function")throw Error(t(150));if(De=Nt.call(De),De==null)throw Error(t(151));for(var Mt=Nt=null,Ft=Te,Gt=Te=0,Ts=null,Rn=De.next();Ft!==null&&!Rn.done;Gt++,Rn=De.next()){Ft.index>Gt?(Ts=Ft,Ft=null):Ts=Ft.sibling;var Dc=Qe(Re,Ft,Rn.value,nt);if(Dc===null){Ft===null&&(Ft=Ts);break}o&&Ft&&Dc.alternate===null&&l(Re,Ft),Te=C(Dc,Te,Gt),Mt===null?Nt=Dc:Mt.sibling=Dc,Mt=Dc,Ft=Ts}if(Rn.done)return h(Re,Ft),Ue&&Pe(Re,Gt),Nt;if(Ft===null){for(;!Rn.done;Gt++,Rn=De.next())Rn=Ze(Re,Rn.value,nt),Rn!==null&&(Te=C(Rn,Te,Gt),Mt===null?Nt=Rn:Mt.sibling=Rn,Mt=Rn);return Ue&&Pe(Re,Gt),Nt}for(Ft=v(Re,Ft);!Rn.done;Gt++,Rn=De.next())Rn=mt(Ft,Re,Gt,Rn.value,nt),Rn!==null&&(o&&Rn.alternate!==null&&Ft.delete(Rn.key===null?Gt:Rn.key),Te=C(Rn,Te,Gt),Mt===null?Nt=Rn:Mt.sibling=Rn,Mt=Rn);return o&&Ft.forEach(function(iN){return l(Re,iN)}),Ue&&Pe(Re,Gt),Nt}function Br(Re,Te,De,nt){if(typeof De=="object"&&De!==null&&De.type===U&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case te:e:{for(var Nt=De.key,Mt=Te;Mt!==null;){if(Mt.key===Nt){if(Nt=De.type,Nt===U){if(Mt.tag===7){h(Re,Mt.sibling),Te=S(Mt,De.props.children),Te.return=Re,Re=Te;break e}}else if(Mt.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===de&&Us(Nt)===Mt.type){h(Re,Mt.sibling),Te=S(Mt,De.props),Te.ref=Ht(Re,Mt,De),Te.return=Re,Re=Te;break e}h(Re,Mt);break}else l(Re,Mt);Mt=Mt.sibling}De.type===U?(Te=Fu(De.props.children,Re.mode,nt,De.key),Te.return=Re,Re=Te):(nt=bp(De.type,De.key,De.props,null,Re.mode,nt),nt.ref=Ht(Re,Te,De),nt.return=Re,Re=nt)}return K(Re);case le:e:{for(Mt=De.key;Te!==null;){if(Te.key===Mt)if(Te.tag===4&&Te.stateNode.containerInfo===De.containerInfo&&Te.stateNode.implementation===De.implementation){h(Re,Te.sibling),Te=S(Te,De.children||[]),Te.return=Re,Re=Te;break e}else{h(Re,Te);break}else l(Re,Te);Te=Te.sibling}Te=b1(De,Re.mode,nt),Te.return=Re,Re=Te}return K(Re);case de:return Mt=De._init,Br(Re,Te,Mt(De._payload),nt)}if(et(De))return bt(Re,Te,De,nt);if(ye(De))return At(Re,Te,De,nt);cr(Re,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,Te!==null&&Te.tag===6?(h(Re,Te.sibling),Te=S(Te,De),Te.return=Re,Re=Te):(h(Re,Te),Te=x1(De,Re.mode,nt),Te.return=Re,Re=Te),K(Re)):h(Re,Te)}return Br}var Mr=br(!0),In=br(!1),Ss=lo(null),As=null,ur=null,Fr=null;function ds(){Fr=ur=As=null}function ni(o){var l=Ss.current;Fn(Ss),o._currentValue=l}function zi(o,l,h){for(;o!==null;){var v=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),o===h)break;o=o.return}}function hr(o,l){As=o,Fr=ur=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Wi=!0),o.firstContext=null)}function kr(o){var l=o._currentValue;if(Fr!==o)if(o={context:o,memoizedValue:l,next:null},ur===null){if(As===null)throw Error(t(308));ur=o,As.dependencies={lanes:0,firstContext:o}}else ur=ur.next=o;return l}var Ei=null;function Ua(o){Ei===null?Ei=[o]:Ei.push(o)}function oa(o,l,h,v){var S=l.interleaved;return S===null?(h.next=h,Ua(l)):(h.next=S.next,S.next=h),l.interleaved=h,kn(o,v)}function kn(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var jo=!1;function vh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dd(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function qi(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function $i(o,l,h){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(En&2)!==0){var S=v.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),v.pending=l,kn(o,h)}return S=v.interleaved,S===null?(l.next=l,Ua(v)):(l.next=S.next,S.next=l),v.interleaved=l,kn(o,h)}function Il(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,to(o,h)}}function Hi(o,l){var h=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var S=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var K={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};C===null?S=C=K:C=C.next=K,h=h.next}while(h!==null);C===null?S=C=l:C=C.next=l}else S=C=l;h={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:v.shared,effects:v.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function aa(o,l,h,v){var S=o.updateQueue;jo=!1;var C=S.firstBaseUpdate,K=S.lastBaseUpdate,pe=S.shared.pending;if(pe!==null){S.shared.pending=null;var be=pe,Me=be.next;be.next=null,K===null?C=Me:K.next=Me,K=be;var Je=o.alternate;Je!==null&&(Je=Je.updateQueue,pe=Je.lastBaseUpdate,pe!==K&&(pe===null?Je.firstBaseUpdate=Me:pe.next=Me,Je.lastBaseUpdate=be))}if(C!==null){var Ze=S.baseState;K=0,Je=Me=be=null,pe=C;do{var Qe=pe.lane,mt=pe.eventTime;if((v&Qe)===Qe){Je!==null&&(Je=Je.next={eventTime:mt,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var bt=o,At=pe;switch(Qe=l,mt=h,At.tag){case 1:if(bt=At.payload,typeof bt=="function"){Ze=bt.call(mt,Ze,Qe);break e}Ze=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=At.payload,Qe=typeof bt=="function"?bt.call(mt,Ze,Qe):bt,Qe==null)break e;Ze=fe({},Ze,Qe);break e;case 2:jo=!0}}pe.callback!==null&&pe.lane!==0&&(o.flags|=64,Qe=S.effects,Qe===null?S.effects=[pe]:Qe.push(pe))}else mt={eventTime:mt,lane:Qe,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},Je===null?(Me=Je=mt,be=Ze):Je=Je.next=mt,K|=Qe;if(pe=pe.next,pe===null){if(pe=S.shared.pending,pe===null)break;Qe=pe,pe=Qe.next,Qe.next=null,S.lastBaseUpdate=Qe,S.shared.pending=null}}while(!0);if(Je===null&&(be=Ze),S.baseState=be,S.firstBaseUpdate=Me,S.lastBaseUpdate=Je,l=S.shared.interleaved,l!==null){S=l;do K|=S.lane,S=S.next;while(S!==l)}else C===null&&(S.shared.lanes=0);ju|=K,o.lanes=K,o.memoizedState=Ze}}function kl(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var v=o[l],S=v.callback;if(S!==null){if(v.callback=null,v=h,typeof S!="function")throw Error(t(191,S));S.call(v)}}}var Sc={},Ti=lo(Sc),Ac=lo(Sc),za=lo(Sc);function la(o){if(o===Sc)throw Error(t(174));return o}function Ec(o,l){switch(Un(za,l),Un(Ac,o),Un(Ti,Sc),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Rt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Rt(l,o)}Fn(Ti),Un(Ti,l)}function Do(){Fn(Ti),Fn(Ac),Fn(za)}function np(o){la(za.current);var l=la(Ti.current),h=Rt(l,o.type);l!==h&&(Un(Ac,o),Un(Ti,h))}function Od(o){Ac.current===o&&(Fn(Ti),Fn(Ac))}var Qn=lo(0);function co(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Md=[];function Fd(){for(var o=0;o<Md.length;o++)Md[o]._workInProgressVersionPrimary=null;Md.length=0}var wh=H.ReactCurrentDispatcher,xh=H.ReactCurrentBatchConfig,Oo=0,rr=null,Rr=null,_r=null,Tc=!1,ca=!1,Nc=0,Wg=0;function Vr(){throw Error(t(321))}function bh(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!An(o[h],l[h]))return!1;return!0}function ku(o,l,h,v,S,C){if(Oo=C,rr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,wh.current=o===null||o.memoizedState===null?kT:RT,o=h(v,S),ca){C=0;do{if(ca=!1,Nc=0,25<=C)throw Error(t(301));C+=1,_r=Rr=null,l.updateQueue=null,wh.current=LT,o=h(v,S)}while(ca)}if(wh.current=ap,l=Rr!==null&&Rr.next!==null,Oo=0,_r=Rr=rr=null,Tc=!1,l)throw Error(t(300));return o}function Mo(){var o=Nc!==0;return Nc=0,o}function uo(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?rr.memoizedState=_r=o:_r=_r.next=o,_r}function Ni(){if(Rr===null){var o=rr.alternate;o=o!==null?o.memoizedState:null}else o=Rr.next;var l=_r===null?rr.memoizedState:_r.next;if(l!==null)_r=l,Rr=o;else{if(o===null)throw Error(t(310));Rr=o,o={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},_r===null?rr.memoizedState=_r=o:_r=_r.next=o}return _r}function Ru(o,l){return typeof l=="function"?l(o):l}function _h(o){var l=Ni(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var v=Rr,S=v.baseQueue,C=h.pending;if(C!==null){if(S!==null){var K=S.next;S.next=C.next,C.next=K}v.baseQueue=S=C,h.pending=null}if(S!==null){C=S.next,v=v.baseState;var pe=K=null,be=null,Me=C;do{var Je=Me.lane;if((Oo&Je)===Je)be!==null&&(be=be.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),v=Me.hasEagerState?Me.eagerState:o(v,Me.action);else{var Ze={lane:Je,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};be===null?(pe=be=Ze,K=v):be=be.next=Ze,rr.lanes|=Je,ju|=Je}Me=Me.next}while(Me!==null&&Me!==C);be===null?K=v:be.next=pe,An(v,l.memoizedState)||(Wi=!0),l.memoizedState=v,l.baseState=K,l.baseQueue=be,h.lastRenderedState=v}if(o=h.interleaved,o!==null){S=o;do C=S.lane,rr.lanes|=C,ju|=C,S=S.next;while(S!==o)}else S===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function qa(o){var l=Ni(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=o;var v=h.dispatch,S=h.pending,C=l.memoizedState;if(S!==null){h.pending=null;var K=S=S.next;do C=o(C,K.action),K=K.next;while(K!==S);An(C,l.memoizedState)||(Wi=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),h.lastRenderedState=C}return[C,v]}function rp(){}function Vd(o,l){var h=rr,v=Ni(),S=l(),C=!An(v.memoizedState,S);if(C&&(v.memoizedState=S,Wi=!0),v=v.queue,Eh(ip.bind(null,h,v,o),[o]),v.getSnapshot!==l||C||_r!==null&&_r.memoizedState.tag&1){if(h.flags|=2048,Pi(9,Bd.bind(null,h,v,S,l),void 0,null),Es===null)throw Error(t(349));(Oo&30)!==0||sp(h,l,S)}return S}function sp(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=rr.updateQueue,l===null?(l={lastEffect:null,stores:null},rr.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function Bd(o,l,h,v){l.value=h,l.getSnapshot=v,Pc(l)&&Sh(o)}function ip(o,l,h){return h(function(){Pc(l)&&Sh(o)})}function Pc(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!An(o,h)}catch{return!0}}function Sh(o){var l=kn(o,1);l!==null&&pa(l,o,1,-1)}function Lu(o){var l=uo();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:o},l.queue=o,o=o.dispatch=IT.bind(null,rr,o),[l.memoizedState,o]}function Pi(o,l,h,v){return o={tag:o,create:l,destroy:h,deps:v,next:null},l=rr.updateQueue,l===null?(l={lastEffect:null,stores:null},rr.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(v=h.next,h.next=o,o.next=v,l.lastEffect=o)),o}function ua(){return Ni().memoizedState}function ho(o,l,h,v){var S=uo();rr.flags|=o,S.memoizedState=Pi(1|l,h,void 0,v===void 0?null:v)}function Rl(o,l,h,v){var S=Ni();v=v===void 0?null:v;var C=void 0;if(Rr!==null){var K=Rr.memoizedState;if(C=K.destroy,v!==null&&bh(v,K.deps)){S.memoizedState=Pi(l,h,C,v);return}}rr.flags|=o,S.memoizedState=Pi(1|l,h,C,v)}function Ah(o,l){return ho(8390656,8,o,l)}function Eh(o,l){return Rl(2048,8,o,l)}function op(o,l){return Rl(4,2,o,l)}function Th(o,l){return Rl(4,4,o,l)}function Nh(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function E2(o,l,h){return h=h!=null?h.concat([o]):null,Rl(4,4,Nh.bind(null,l,o),h)}function Gg(){}function T2(o,l){var h=Ni();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&bh(l,v[1])?v[0]:(h.memoizedState=[o,l],o)}function N2(o,l){var h=Ni();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&bh(l,v[1])?v[0]:(o=o(),h.memoizedState=[o,l],o)}function P2(o,l,h){return(Oo&21)===0?(o.baseState&&(o.baseState=!1,Wi=!0),o.memoizedState=h):(An(h,l)||(h=bo(),rr.lanes|=h,ju|=h,o.baseState=!0),l)}function PT(o,l){var h=ln;ln=h!==0&&4>h?h:4,o(!0);var v=xh.transition;xh.transition={};try{o(!1),l()}finally{ln=h,xh.transition=v}}function C2(){return Ni().memoizedState}function CT(o,l,h){var v=Rc(o);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},I2(o))k2(l,h);else if(h=oa(o,l,h,v),h!==null){var S=Ii();pa(h,o,v,S),R2(h,l,v)}}function IT(o,l,h){var v=Rc(o),S={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(I2(o))k2(l,S);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var K=l.lastRenderedState,pe=C(K,h);if(S.hasEagerState=!0,S.eagerState=pe,An(pe,K)){var be=l.interleaved;be===null?(S.next=S,Ua(l)):(S.next=be.next,be.next=S),l.interleaved=S;return}}catch{}finally{}h=oa(o,l,S,v),h!==null&&(S=Ii(),pa(h,o,v,S),R2(h,l,v))}}function I2(o){var l=o.alternate;return o===rr||l!==null&&l===rr}function k2(o,l){ca=Tc=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function R2(o,l,h){if((h&4194240)!==0){var v=l.lanes;v&=o.pendingLanes,h|=v,l.lanes=h,to(o,h)}}var ap={readContext:kr,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},kT={readContext:kr,useCallback:function(o,l){return uo().memoizedState=[o,l===void 0?null:l],o},useContext:kr,useEffect:Ah,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,ho(4194308,4,Nh.bind(null,l,o),h)},useLayoutEffect:function(o,l){return ho(4194308,4,o,l)},useInsertionEffect:function(o,l){return ho(4,2,o,l)},useMemo:function(o,l){var h=uo();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var v=uo();return l=h!==void 0?h(l):l,v.memoizedState=v.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},v.queue=o,o=o.dispatch=CT.bind(null,rr,o),[v.memoizedState,o]},useRef:function(o){var l=uo();return o={current:o},l.memoizedState=o},useState:Lu,useDebugValue:Gg,useDeferredValue:function(o){return uo().memoizedState=o},useTransition:function(){var o=Lu(!1),l=o[0];return o=PT.bind(null,o[1]),uo().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var v=rr,S=uo();if(Ue){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),Es===null)throw Error(t(349));(Oo&30)!==0||sp(v,l,h)}S.memoizedState=h;var C={value:h,getSnapshot:l};return S.queue=C,Ah(ip.bind(null,v,C,o),[o]),v.flags|=2048,Pi(9,Bd.bind(null,v,C,h,l),void 0,null),h},useId:function(){var o=uo(),l=Es.identifierPrefix;if(Ue){var h=ke,v=Ie;h=(v&~(1<<32-ss(v)-1)).toString(32)+h,l=":"+l+"R"+h,h=Nc++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=Wg++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},RT={readContext:kr,useCallback:T2,useContext:kr,useEffect:Eh,useImperativeHandle:E2,useInsertionEffect:op,useLayoutEffect:Th,useMemo:N2,useReducer:_h,useRef:ua,useState:function(){return _h(Ru)},useDebugValue:Gg,useDeferredValue:function(o){var l=Ni();return P2(l,Rr.memoizedState,o)},useTransition:function(){var o=_h(Ru)[0],l=Ni().memoizedState;return[o,l]},useMutableSource:rp,useSyncExternalStore:Vd,useId:C2,unstable_isNewReconciler:!1},LT={readContext:kr,useCallback:T2,useContext:kr,useEffect:Eh,useImperativeHandle:E2,useInsertionEffect:op,useLayoutEffect:Th,useMemo:N2,useReducer:qa,useRef:ua,useState:function(){return qa(Ru)},useDebugValue:Gg,useDeferredValue:function(o){var l=Ni();return Rr===null?l.memoizedState=o:P2(l,Rr.memoizedState,o)},useTransition:function(){var o=qa(Ru)[0],l=Ni().memoizedState;return[o,l]},useMutableSource:rp,useSyncExternalStore:Vd,useId:C2,unstable_isNewReconciler:!1};function ha(o,l){if(o&&o.defaultProps){l=fe({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function Kg(o,l,h,v){l=o.memoizedState,h=h(v,l),h=h==null?l:fe({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var lp={isMounted:function(o){return(o=o._reactInternals)?Bn(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var v=Ii(),S=Rc(o),C=qi(v,S);C.payload=l,h!=null&&(C.callback=h),l=$i(o,C,S),l!==null&&(pa(l,o,S,v),Il(l,o,S))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var v=Ii(),S=Rc(o),C=qi(v,S);C.tag=1,C.payload=l,h!=null&&(C.callback=h),l=$i(o,C,S),l!==null&&(pa(l,o,S,v),Il(l,o,S))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=Ii(),v=Rc(o),S=qi(h,v);S.tag=2,l!=null&&(S.callback=l),l=$i(o,S,v),l!==null&&(pa(l,o,v,h),Il(l,o,v))}};function L2(o,l,h,v,S,C,K){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,C,K):l.prototype&&l.prototype.isPureReactComponent?!ea(h,v)||!ea(S,C):!0}function j2(o,l,h){var v=!1,S=Ba,C=l.contextType;return typeof C=="object"&&C!==null?C=kr(C):(S=ti(l)?Pl:hs.current,v=l.contextTypes,C=(v=v!=null)?_c(o,S):Ba),l=new l(h,C),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=lp,o.stateNode=l,l._reactInternals=o,v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=S,o.__reactInternalMemoizedMaskedChildContext=C),l}function D2(o,l,h,v){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==o&&lp.enqueueReplaceState(l,l.state,null)}function Yg(o,l,h,v){var S=o.stateNode;S.props=h,S.state=o.memoizedState,S.refs={},vh(o);var C=l.contextType;typeof C=="object"&&C!==null?S.context=kr(C):(C=ti(l)?Pl:hs.current,S.context=_c(o,C)),S.state=o.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Kg(o,l,C,h),S.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(l=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),l!==S.state&&lp.enqueueReplaceState(S,S.state,null),aa(o,h,S,v),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308)}function Ph(o,l){try{var h="",v=l;do h+=he(v),v=v.return;while(v);var S=h}catch(C){S=`
Error generating stack: `+C.message+`
`+C.stack}return{value:o,source:l,stack:S,digest:null}}function Xg(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function Qg(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var jT=typeof WeakMap=="function"?WeakMap:Map;function O2(o,l,h){h=qi(-1,h),h.tag=3,h.payload={element:null};var v=l.value;return h.callback=function(){mp||(mp=!0,d1=v),Qg(o,l)},h}function M2(o,l,h){h=qi(-1,h),h.tag=3;var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var S=l.value;h.payload=function(){return v(S)},h.callback=function(){Qg(o,l)}}var C=o.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(h.callback=function(){Qg(o,l),typeof v!="function"&&(Ic===null?Ic=new Set([this]):Ic.add(this));var K=l.stack;this.componentDidCatch(l.value,{componentStack:K!==null?K:""})}),h}function F2(o,l,h){var v=o.pingCache;if(v===null){v=o.pingCache=new jT;var S=new Set;v.set(l,S)}else S=v.get(l),S===void 0&&(S=new Set,v.set(l,S));S.has(h)||(S.add(h),o=KT.bind(null,o,l,h),l.then(o,o))}function V2(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function B2(o,l,h,v,S){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=qi(-1,1),l.tag=2,$i(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=S,o)}var DT=H.ReactCurrentOwner,Wi=!1;function Ci(o,l,h,v){l.child=o===null?In(l,null,h,v):Mr(l,o.child,h,v)}function U2(o,l,h,v,S){h=h.render;var C=l.ref;return hr(l,S),v=ku(o,l,h,v,C,S),h=Mo(),o!==null&&!Wi?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,Ll(o,l,S)):(Ue&&h&&Fe(l),l.flags|=1,Ci(o,l,v,S),l.child)}function z2(o,l,h,v,S){if(o===null){var C=h.type;return typeof C=="function"&&!w1(C)&&C.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=C,q2(o,l,C,v,S)):(o=bp(h.type,null,v,l,l.mode,S),o.ref=l.ref,o.return=l,l.child=o)}if(C=o.child,(o.lanes&S)===0){var K=C.memoizedProps;if(h=h.compare,h=h!==null?h:ea,h(K,v)&&o.ref===l.ref)return Ll(o,l,S)}return l.flags|=1,o=jc(C,v),o.ref=l.ref,o.return=l,l.child=o}function q2(o,l,h,v,S){if(o!==null){var C=o.memoizedProps;if(ea(C,v)&&o.ref===l.ref)if(Wi=!1,l.pendingProps=v=C,(o.lanes&S)!==0)(o.flags&131072)!==0&&(Wi=!0);else return l.lanes=o.lanes,Ll(o,l,S)}return Jg(o,l,h,v,S)}function $2(o,l,h){var v=l.pendingProps,S=v.children,C=o!==null?o.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(Ih,fo),fo|=h;else{if((h&1073741824)===0)return o=C!==null?C.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Un(Ih,fo),fo|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=C!==null?C.baseLanes:h,Un(Ih,fo),fo|=v}else C!==null?(v=C.baseLanes|h,l.memoizedState=null):v=h,Un(Ih,fo),fo|=v;return Ci(o,l,S,h),l.child}function H2(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Jg(o,l,h,v,S){var C=ti(h)?Pl:hs.current;return C=_c(l,C),hr(l,S),h=ku(o,l,h,v,C,S),v=Mo(),o!==null&&!Wi?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,Ll(o,l,S)):(Ue&&v&&Fe(l),l.flags|=1,Ci(o,l,h,S),l.child)}function W2(o,l,h,v,S){if(ti(h)){var C=!0;Cl(l)}else C=!1;if(hr(l,S),l.stateNode===null)up(o,l),j2(l,h,v),Yg(l,h,v,S),v=!0;else if(o===null){var K=l.stateNode,pe=l.memoizedProps;K.props=pe;var be=K.context,Me=h.contextType;typeof Me=="object"&&Me!==null?Me=kr(Me):(Me=ti(h)?Pl:hs.current,Me=_c(l,Me));var Je=h.getDerivedStateFromProps,Ze=typeof Je=="function"||typeof K.getSnapshotBeforeUpdate=="function";Ze||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(pe!==v||be!==Me)&&D2(l,K,v,Me),jo=!1;var Qe=l.memoizedState;K.state=Qe,aa(l,v,K,S),be=l.memoizedState,pe!==v||Qe!==be||ei.current||jo?(typeof Je=="function"&&(Kg(l,h,Je,v),be=l.memoizedState),(pe=jo||L2(l,h,pe,v,Qe,be,Me))?(Ze||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(l.flags|=4194308)):(typeof K.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=be),K.props=v,K.state=be,K.context=Me,v=pe):(typeof K.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{K=l.stateNode,Dd(o,l),pe=l.memoizedProps,Me=l.type===l.elementType?pe:ha(l.type,pe),K.props=Me,Ze=l.pendingProps,Qe=K.context,be=h.contextType,typeof be=="object"&&be!==null?be=kr(be):(be=ti(h)?Pl:hs.current,be=_c(l,be));var mt=h.getDerivedStateFromProps;(Je=typeof mt=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(pe!==Ze||Qe!==be)&&D2(l,K,v,be),jo=!1,Qe=l.memoizedState,K.state=Qe,aa(l,v,K,S);var bt=l.memoizedState;pe!==Ze||Qe!==bt||ei.current||jo?(typeof mt=="function"&&(Kg(l,h,mt,v),bt=l.memoizedState),(Me=jo||L2(l,h,Me,v,Qe,bt,be)||!1)?(Je||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(v,bt,be),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(v,bt,be)),typeof K.componentDidUpdate=="function"&&(l.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof K.componentDidUpdate!="function"||pe===o.memoizedProps&&Qe===o.memoizedState||(l.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||pe===o.memoizedProps&&Qe===o.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=bt),K.props=v,K.state=bt,K.context=be,v=Me):(typeof K.componentDidUpdate!="function"||pe===o.memoizedProps&&Qe===o.memoizedState||(l.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||pe===o.memoizedProps&&Qe===o.memoizedState||(l.flags|=1024),v=!1)}return Zg(o,l,h,v,C,S)}function Zg(o,l,h,v,S,C){H2(o,l);var K=(l.flags&128)!==0;if(!v&&!K)return S&&tp(l,h,!1),Ll(o,l,C);v=l.stateNode,DT.current=l;var pe=K&&typeof h.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,o!==null&&K?(l.child=Mr(l,o.child,null,C),l.child=Mr(l,null,pe,C)):Ci(o,l,pe,C),l.memoizedState=v.state,S&&tp(l,h,!0),l.child}function G2(o){var l=o.stateNode;l.pendingContext?ep(o,l.pendingContext,l.pendingContext!==l.context):l.context&&ep(o,l.context,!1),Ec(o,l.containerInfo)}function K2(o,l,h,v,S){return nn(),Vn(S),l.flags|=256,Ci(o,l,h,v),l.child}var e1={dehydrated:null,treeContext:null,retryLane:0};function t1(o){return{baseLanes:o,cachePool:null,transitions:null}}function Y2(o,l,h){var v=l.pendingProps,S=Qn.current,C=!1,K=(l.flags&128)!==0,pe;if((pe=K)||(pe=o!==null&&o.memoizedState===null?!1:(S&2)!==0),pe?(C=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(S|=1),Un(Qn,S&1),o===null)return ct(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(K=v.children,o=v.fallback,C?(v=l.mode,C=l.child,K={mode:"hidden",children:K},(v&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=K):C=_p(K,v,0,null),o=Fu(o,v,h,null),C.return=l,o.return=l,C.sibling=o,l.child=C,l.child.memoizedState=t1(h),l.memoizedState=e1,o):n1(l,K));if(S=o.memoizedState,S!==null&&(pe=S.dehydrated,pe!==null))return OT(o,l,K,v,pe,S,h);if(C){C=v.fallback,K=l.mode,S=o.child,pe=S.sibling;var be={mode:"hidden",children:v.children};return(K&1)===0&&l.child!==S?(v=l.child,v.childLanes=0,v.pendingProps=be,l.deletions=null):(v=jc(S,be),v.subtreeFlags=S.subtreeFlags&14680064),pe!==null?C=jc(pe,C):(C=Fu(C,K,h,null),C.flags|=2),C.return=l,v.return=l,v.sibling=C,l.child=v,v=C,C=l.child,K=o.child.memoizedState,K=K===null?t1(h):{baseLanes:K.baseLanes|h,cachePool:null,transitions:K.transitions},C.memoizedState=K,C.childLanes=o.childLanes&~h,l.memoizedState=e1,v}return C=o.child,o=C.sibling,v=jc(C,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=h),v.return=l,v.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=v,l.memoizedState=null,v}function n1(o,l){return l=_p({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function cp(o,l,h,v){return v!==null&&Vn(v),Mr(l,o.child,null,h),o=n1(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function OT(o,l,h,v,S,C,K){if(h)return l.flags&256?(l.flags&=-257,v=Xg(Error(t(422))),cp(o,l,K,v)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(C=v.fallback,S=l.mode,v=_p({mode:"visible",children:v.children},S,0,null),C=Fu(C,S,K,null),C.flags|=2,v.return=l,C.return=l,v.sibling=C,l.child=v,(l.mode&1)!==0&&Mr(l,o.child,null,K),l.child.memoizedState=t1(K),l.memoizedState=e1,C);if((l.mode&1)===0)return cp(o,l,K,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var pe=v.dgst;return v=pe,C=Error(t(419)),v=Xg(C,v,void 0),cp(o,l,K,v)}if(pe=(K&o.childLanes)!==0,Wi||pe){if(v=Es,v!==null){switch(K&-K){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|K))!==0?0:S,S!==0&&S!==C.retryLane&&(C.retryLane=S,kn(o,S),pa(v,o,S,-1))}return v1(),v=Xg(Error(t(421))),cp(o,l,K,v)}return S.data==="$?"?(l.flags|=128,l.child=o.child,l=YT.bind(null,o),S._reactRetry=l,null):(o=C.treeContext,qe=Bs(S.nextSibling),Se=l,Ue=!0,$e=null,o!==null&&(Z[se++]=Ie,Z[se++]=ke,Z[se++]=we,Ie=o.id,ke=o.overflow,we=l),l=n1(l,v.children),l.flags|=4096,l)}function X2(o,l,h){o.lanes|=l;var v=o.alternate;v!==null&&(v.lanes|=l),zi(o.return,l,h)}function r1(o,l,h,v,S){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:S}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=h,C.tailMode=S)}function Q2(o,l,h){var v=l.pendingProps,S=v.revealOrder,C=v.tail;if(Ci(o,l,v.children,h),v=Qn.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&X2(o,h,l);else if(o.tag===19)X2(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}if(Un(Qn,v),(l.mode&1)===0)l.memoizedState=null;else switch(S){case"forwards":for(h=l.child,S=null;h!==null;)o=h.alternate,o!==null&&co(o)===null&&(S=h),h=h.sibling;h=S,h===null?(S=l.child,l.child=null):(S=h.sibling,h.sibling=null),r1(l,!1,S,h,C);break;case"backwards":for(h=null,S=l.child,l.child=null;S!==null;){if(o=S.alternate,o!==null&&co(o)===null){l.child=S;break}o=S.sibling,S.sibling=h,h=S,S=o}r1(l,!0,h,null,C);break;case"together":r1(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function up(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Ll(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),ju|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,h=jc(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=jc(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function MT(o,l,h){switch(l.tag){case 3:G2(l),nn();break;case 5:np(l);break;case 1:ti(l.type)&&Cl(l);break;case 4:Ec(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,S=l.memoizedProps.value;Un(Ss,v._currentValue),v._currentValue=S;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(Un(Qn,Qn.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?Y2(o,l,h):(Un(Qn,Qn.current&1),o=Ll(o,l,h),o!==null?o.sibling:null);Un(Qn,Qn.current&1);break;case 19:if(v=(h&l.childLanes)!==0,(o.flags&128)!==0){if(v)return Q2(o,l,h);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Un(Qn,Qn.current),v)break;return null;case 22:case 23:return l.lanes=0,$2(o,l,h)}return Ll(o,l,h)}var J2,s1,Z2,e5;J2=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},s1=function(){},Z2=function(o,l,h,v){var S=o.memoizedProps;if(S!==v){o=l.stateNode,la(Ti.current);var C=null;switch(h){case"input":S=ht(o,S),v=ht(o,v),C=[];break;case"select":S=fe({},S,{value:void 0}),v=fe({},v,{value:void 0}),C=[];break;case"textarea":S=st(o,S),v=st(o,v),C=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(o.onclick=wc)}Nn(h,v);var K;h=null;for(Me in S)if(!v.hasOwnProperty(Me)&&S.hasOwnProperty(Me)&&S[Me]!=null)if(Me==="style"){var pe=S[Me];for(K in pe)pe.hasOwnProperty(K)&&(h||(h={}),h[K]="")}else Me!=="dangerouslySetInnerHTML"&&Me!=="children"&&Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&Me!=="autoFocus"&&(s.hasOwnProperty(Me)?C||(C=[]):(C=C||[]).push(Me,null));for(Me in v){var be=v[Me];if(pe=S!=null?S[Me]:void 0,v.hasOwnProperty(Me)&&be!==pe&&(be!=null||pe!=null))if(Me==="style")if(pe){for(K in pe)!pe.hasOwnProperty(K)||be&&be.hasOwnProperty(K)||(h||(h={}),h[K]="");for(K in be)be.hasOwnProperty(K)&&pe[K]!==be[K]&&(h||(h={}),h[K]=be[K])}else h||(C||(C=[]),C.push(Me,h)),h=be;else Me==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,pe=pe?pe.__html:void 0,be!=null&&pe!==be&&(C=C||[]).push(Me,be)):Me==="children"?typeof be!="string"&&typeof be!="number"||(C=C||[]).push(Me,""+be):Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&(s.hasOwnProperty(Me)?(be!=null&&Me==="onScroll"&&Gn("scroll",o),C||pe===be||(C=[])):(C=C||[]).push(Me,be))}h&&(C=C||[]).push("style",h);var Me=C;(l.updateQueue=Me)&&(l.flags|=4)}},e5=function(o,l,h,v){h!==v&&(l.flags|=4)};function Ud(o,l){if(!Ue)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function ri(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,v=0;if(l)for(var S=o.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=v,o.childLanes=h,l}function FT(o,l,h){var v=l.pendingProps;switch(_e(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(l),null;case 1:return ti(l.type)&&yh(),ri(l),null;case 3:return v=l.stateNode,Do(),Fn(ei),Fn(hs),Fd(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&(bn(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,$e!==null&&(m1($e),$e=null))),s1(o,l),ri(l),null;case 5:Od(l);var S=la(za.current);if(h=l.type,o!==null&&l.stateNode!=null)Z2(o,l,h,v,S),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(t(166));return ri(l),null}if(o=la(Ti.current),bn(l)){v=l.stateNode,h=l.type;var C=l.memoizedProps;switch(v[Lo]=l,v[xc]=C,o=(l.mode&1)!==0,h){case"dialog":Gn("cancel",v),Gn("close",v);break;case"iframe":case"object":case"embed":Gn("load",v);break;case"video":case"audio":for(S=0;S<Fa.length;S++)Gn(Fa[S],v);break;case"source":Gn("error",v);break;case"img":case"image":case"link":Gn("error",v),Gn("load",v);break;case"details":Gn("toggle",v);break;case"input":Oe(v,C),Gn("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!C.multiple},Gn("invalid",v);break;case"textarea":vt(v,C),Gn("invalid",v)}Nn(h,C),S=null;for(var K in C)if(C.hasOwnProperty(K)){var pe=C[K];K==="children"?typeof pe=="string"?v.textContent!==pe&&(C.suppressHydrationWarning!==!0&&gh(v.textContent,pe,o),S=["children",pe]):typeof pe=="number"&&v.textContent!==""+pe&&(C.suppressHydrationWarning!==!0&&gh(v.textContent,pe,o),S=["children",""+pe]):s.hasOwnProperty(K)&&pe!=null&&K==="onScroll"&&Gn("scroll",v)}switch(h){case"input":je(v),ut(v,C,!0);break;case"textarea":je(v),Ut(v);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(v.onclick=wc)}v=S,l.updateQueue=v,v!==null&&(l.flags|=4)}else{K=S.nodeType===9?S:S.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Et(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=K.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof v.is=="string"?o=K.createElement(h,{is:v.is}):(o=K.createElement(h),h==="select"&&(K=o,v.multiple?K.multiple=!0:v.size&&(K.size=v.size))):o=K.createElementNS(o,h),o[Lo]=l,o[xc]=v,J2(o,l,!1,!1),l.stateNode=o;e:{switch(K=ms(h,v),h){case"dialog":Gn("cancel",o),Gn("close",o),S=v;break;case"iframe":case"object":case"embed":Gn("load",o),S=v;break;case"video":case"audio":for(S=0;S<Fa.length;S++)Gn(Fa[S],o);S=v;break;case"source":Gn("error",o),S=v;break;case"img":case"image":case"link":Gn("error",o),Gn("load",o),S=v;break;case"details":Gn("toggle",o),S=v;break;case"input":Oe(o,v),S=ht(o,v),Gn("invalid",o);break;case"option":S=v;break;case"select":o._wrapperState={wasMultiple:!!v.multiple},S=fe({},v,{value:void 0}),Gn("invalid",o);break;case"textarea":vt(o,v),S=st(o,v),Gn("invalid",o);break;default:S=v}Nn(h,S),pe=S;for(C in pe)if(pe.hasOwnProperty(C)){var be=pe[C];C==="style"?Tr(o,be):C==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,be!=null&&It(o,be)):C==="children"?typeof be=="string"?(h!=="textarea"||be!=="")&&$t(o,be):typeof be=="number"&&$t(o,""+be):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(s.hasOwnProperty(C)?be!=null&&C==="onScroll"&&Gn("scroll",o):be!=null&&F(o,C,be,K))}switch(h){case"input":je(o),ut(o,v,!1);break;case"textarea":je(o),Ut(o);break;case"option":v.value!=null&&o.setAttribute("value",""+ce(v.value));break;case"select":o.multiple=!!v.multiple,C=v.value,C!=null?rt(o,!!v.multiple,C,!1):v.defaultValue!=null&&rt(o,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(o.onclick=wc)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return ri(l),null;case 6:if(o&&l.stateNode!=null)e5(o,l,o.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(t(166));if(h=la(za.current),la(Ti.current),bn(l)){if(v=l.stateNode,h=l.memoizedProps,v[Lo]=l,(C=v.nodeValue!==h)&&(o=Se,o!==null))switch(o.tag){case 3:gh(v.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&gh(v.nodeValue,h,(o.mode&1)!==0)}C&&(l.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[Lo]=l,l.stateNode=v}return ri(l),null;case 13:if(Fn(Qn),v=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ue&&qe!==null&&(l.mode&1)!==0&&(l.flags&128)===0)fn(),nn(),l.flags|=98560,C=!1;else if(C=bn(l),v!==null&&v.dehydrated!==null){if(o===null){if(!C)throw Error(t(318));if(C=l.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(t(317));C[Lo]=l}else nn(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ri(l),C=!1}else $e!==null&&(m1($e),$e=null),C=!0;if(!C)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(v=v!==null,v!==(o!==null&&o.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Qn.current&1)!==0?fs===0&&(fs=3):v1())),l.updateQueue!==null&&(l.flags|=4),ri(l),null);case 4:return Do(),s1(o,l),o===null&&Al(l.stateNode.containerInfo),ri(l),null;case 10:return ni(l.type._context),ri(l),null;case 17:return ti(l.type)&&yh(),ri(l),null;case 19:if(Fn(Qn),C=l.memoizedState,C===null)return ri(l),null;if(v=(l.flags&128)!==0,K=C.rendering,K===null)if(v)Ud(C,!1);else{if(fs!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(K=co(o),K!==null){for(l.flags|=128,Ud(C,!1),v=K.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=h,h=l.child;h!==null;)C=h,o=v,C.flags&=14680066,K=C.alternate,K===null?(C.childLanes=0,C.lanes=o,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=K.childLanes,C.lanes=K.lanes,C.child=K.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=K.memoizedProps,C.memoizedState=K.memoizedState,C.updateQueue=K.updateQueue,C.type=K.type,o=K.dependencies,C.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Un(Qn,Qn.current&1|2),l.child}o=o.sibling}C.tail!==null&&Ct()>kh&&(l.flags|=128,v=!0,Ud(C,!1),l.lanes=4194304)}else{if(!v)if(o=co(K),o!==null){if(l.flags|=128,v=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Ud(C,!0),C.tail===null&&C.tailMode==="hidden"&&!K.alternate&&!Ue)return ri(l),null}else 2*Ct()-C.renderingStartTime>kh&&h!==1073741824&&(l.flags|=128,v=!0,Ud(C,!1),l.lanes=4194304);C.isBackwards?(K.sibling=l.child,l.child=K):(h=C.last,h!==null?h.sibling=K:l.child=K,C.last=K)}return C.tail!==null?(l=C.tail,C.rendering=l,C.tail=l.sibling,C.renderingStartTime=Ct(),l.sibling=null,h=Qn.current,Un(Qn,v?h&1|2:h&1),l):(ri(l),null);case 22:case 23:return y1(),v=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(fo&1073741824)!==0&&(ri(l),l.subtreeFlags&6&&(l.flags|=8192)):ri(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function VT(o,l){switch(_e(l),l.tag){case 1:return ti(l.type)&&yh(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Do(),Fn(ei),Fn(hs),Fd(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Od(l),null;case 13:if(Fn(Qn),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));nn()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Fn(Qn),null;case 4:return Do(),null;case 10:return ni(l.type._context),null;case 22:case 23:return y1(),null;case 24:return null;default:return null}}var hp=!1,si=!1,BT=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Ch(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){Lr(o,l,v)}else h.current=null}function i1(o,l,h){try{h()}catch(v){Lr(o,l,v)}}var t5=!1;function UT(o,l){if(Pu=Ao,o=bu(),xl(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var S=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var K=0,pe=-1,be=-1,Me=0,Je=0,Ze=o,Qe=null;t:for(;;){for(var mt;Ze!==h||S!==0&&Ze.nodeType!==3||(pe=K+S),Ze!==C||v!==0&&Ze.nodeType!==3||(be=K+v),Ze.nodeType===3&&(K+=Ze.nodeValue.length),(mt=Ze.firstChild)!==null;)Qe=Ze,Ze=mt;for(;;){if(Ze===o)break t;if(Qe===h&&++Me===S&&(pe=K),Qe===C&&++Je===v&&(be=K),(mt=Ze.nextSibling)!==null)break;Ze=Qe,Qe=Ze.parentNode}Ze=mt}h=pe===-1||be===-1?null:{start:pe,end:be}}else h=null}h=h||{start:0,end:0}}else h=null;for(Tl={focusedElem:o,selectionRange:h},Ao=!1,wt=l;wt!==null;)if(l=wt,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,wt=o;else for(;wt!==null;){l=wt;try{var bt=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var At=bt.memoizedProps,Br=bt.memoizedState,Re=l.stateNode,Te=Re.getSnapshotBeforeUpdate(l.elementType===l.type?At:ha(l.type,At),Br);Re.__reactInternalSnapshotBeforeUpdate=Te}break;case 3:var De=l.stateNode.containerInfo;De.nodeType===1?De.textContent="":De.nodeType===9&&De.documentElement&&De.removeChild(De.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(nt){Lr(l,l.return,nt)}if(o=l.sibling,o!==null){o.return=l.return,wt=o;break}wt=l.return}return bt=t5,t5=!1,bt}function zd(o,l,h){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&o)===o){var C=S.destroy;S.destroy=void 0,C!==void 0&&i1(l,h,C)}S=S.next}while(S!==v)}}function dp(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var v=h.create;h.destroy=v()}h=h.next}while(h!==l)}}function o1(o){var l=o.ref;if(l!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof l=="function"?l(o):l.current=o}}function n5(o){var l=o.alternate;l!==null&&(o.alternate=null,n5(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Lo],delete l[xc],delete l[Zs],delete l[$g],delete l[Hg])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function r5(o){return o.tag===5||o.tag===3||o.tag===4}function s5(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||r5(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function a1(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=wc));else if(v!==4&&(o=o.child,o!==null))for(a1(o,l,h),o=o.sibling;o!==null;)a1(o,l,h),o=o.sibling}function l1(o,l,h){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(v!==4&&(o=o.child,o!==null))for(l1(o,l,h),o=o.sibling;o!==null;)l1(o,l,h),o=o.sibling}var zs=null,da=!1;function Cc(o,l,h){for(h=h.child;h!==null;)i5(o,l,h),h=h.sibling}function i5(o,l,h){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(vo,h)}catch{}switch(h.tag){case 5:si||Ch(h,l);case 6:var v=zs,S=da;zs=null,Cc(o,l,h),zs=v,da=S,zs!==null&&(da?(o=zs,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):zs.removeChild(h.stateNode));break;case 18:zs!==null&&(da?(o=zs,h=h.stateNode,o.nodeType===8?Rd(o.parentNode,h):o.nodeType===1&&Rd(o,h),ls(o)):Rd(zs,h.stateNode));break;case 4:v=zs,S=da,zs=h.stateNode.containerInfo,da=!0,Cc(o,l,h),zs=v,da=S;break;case 0:case 11:case 14:case 15:if(!si&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var C=S,K=C.destroy;C=C.tag,K!==void 0&&((C&2)!==0||(C&4)!==0)&&i1(h,l,K),S=S.next}while(S!==v)}Cc(o,l,h);break;case 1:if(!si&&(Ch(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(pe){Lr(h,l,pe)}Cc(o,l,h);break;case 21:Cc(o,l,h);break;case 22:h.mode&1?(si=(v=si)||h.memoizedState!==null,Cc(o,l,h),si=v):Cc(o,l,h);break;default:Cc(o,l,h)}}function o5(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new BT),l.forEach(function(v){var S=XT.bind(null,o,v);h.has(v)||(h.add(v),v.then(S,S))})}}function fa(o,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var S=h[v];try{var C=o,K=l,pe=K;e:for(;pe!==null;){switch(pe.tag){case 5:zs=pe.stateNode,da=!1;break e;case 3:zs=pe.stateNode.containerInfo,da=!0;break e;case 4:zs=pe.stateNode.containerInfo,da=!0;break e}pe=pe.return}if(zs===null)throw Error(t(160));i5(C,K,S),zs=null,da=!1;var be=S.alternate;be!==null&&(be.return=null),S.return=null}catch(Me){Lr(S,l,Me)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)a5(l,o),l=l.sibling}function a5(o,l){var h=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(fa(l,o),$a(o),v&4){try{zd(3,o,o.return),dp(3,o)}catch(At){Lr(o,o.return,At)}try{zd(5,o,o.return)}catch(At){Lr(o,o.return,At)}}break;case 1:fa(l,o),$a(o),v&512&&h!==null&&Ch(h,h.return);break;case 5:if(fa(l,o),$a(o),v&512&&h!==null&&Ch(h,h.return),o.flags&32){var S=o.stateNode;try{$t(S,"")}catch(At){Lr(o,o.return,At)}}if(v&4&&(S=o.stateNode,S!=null)){var C=o.memoizedProps,K=h!==null?h.memoizedProps:C,pe=o.type,be=o.updateQueue;if(o.updateQueue=null,be!==null)try{pe==="input"&&C.type==="radio"&&C.name!=null&&ue(S,C),ms(pe,K);var Me=ms(pe,C);for(K=0;K<be.length;K+=2){var Je=be[K],Ze=be[K+1];Je==="style"?Tr(S,Ze):Je==="dangerouslySetInnerHTML"?It(S,Ze):Je==="children"?$t(S,Ze):F(S,Je,Ze,Me)}switch(pe){case"input":xt(S,C);break;case"textarea":jt(S,C);break;case"select":var Qe=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!C.multiple;var mt=C.value;mt!=null?rt(S,!!C.multiple,mt,!1):Qe!==!!C.multiple&&(C.defaultValue!=null?rt(S,!!C.multiple,C.defaultValue,!0):rt(S,!!C.multiple,C.multiple?[]:"",!1))}S[xc]=C}catch(At){Lr(o,o.return,At)}}break;case 6:if(fa(l,o),$a(o),v&4){if(o.stateNode===null)throw Error(t(162));S=o.stateNode,C=o.memoizedProps;try{S.nodeValue=C}catch(At){Lr(o,o.return,At)}}break;case 3:if(fa(l,o),$a(o),v&4&&h!==null&&h.memoizedState.isDehydrated)try{ls(l.containerInfo)}catch(At){Lr(o,o.return,At)}break;case 4:fa(l,o),$a(o);break;case 13:fa(l,o),$a(o),S=o.child,S.flags&8192&&(C=S.memoizedState!==null,S.stateNode.isHidden=C,!C||S.alternate!==null&&S.alternate.memoizedState!==null||(h1=Ct())),v&4&&o5(o);break;case 22:if(Je=h!==null&&h.memoizedState!==null,o.mode&1?(si=(Me=si)||Je,fa(l,o),si=Me):fa(l,o),$a(o),v&8192){if(Me=o.memoizedState!==null,(o.stateNode.isHidden=Me)&&!Je&&(o.mode&1)!==0)for(wt=o,Je=o.child;Je!==null;){for(Ze=wt=Je;wt!==null;){switch(Qe=wt,mt=Qe.child,Qe.tag){case 0:case 11:case 14:case 15:zd(4,Qe,Qe.return);break;case 1:Ch(Qe,Qe.return);var bt=Qe.stateNode;if(typeof bt.componentWillUnmount=="function"){v=Qe,h=Qe.return;try{l=v,bt.props=l.memoizedProps,bt.state=l.memoizedState,bt.componentWillUnmount()}catch(At){Lr(v,h,At)}}break;case 5:Ch(Qe,Qe.return);break;case 22:if(Qe.memoizedState!==null){u5(Ze);continue}}mt!==null?(mt.return=Qe,wt=mt):u5(Ze)}Je=Je.sibling}e:for(Je=null,Ze=o;;){if(Ze.tag===5){if(Je===null){Je=Ze;try{S=Ze.stateNode,Me?(C=S.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(pe=Ze.stateNode,be=Ze.memoizedProps.style,K=be!=null&&be.hasOwnProperty("display")?be.display:null,pe.style.display=sn("display",K))}catch(At){Lr(o,o.return,At)}}}else if(Ze.tag===6){if(Je===null)try{Ze.stateNode.nodeValue=Me?"":Ze.memoizedProps}catch(At){Lr(o,o.return,At)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===o)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===o)break e;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===o)break e;Je===Ze&&(Je=null),Ze=Ze.return}Je===Ze&&(Je=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}break;case 19:fa(l,o),$a(o),v&4&&o5(o);break;case 21:break;default:fa(l,o),$a(o)}}function $a(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(r5(h)){var v=h;break e}h=h.return}throw Error(t(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&($t(S,""),v.flags&=-33);var C=s5(o);l1(o,C,S);break;case 3:case 4:var K=v.stateNode.containerInfo,pe=s5(o);a1(o,pe,K);break;default:throw Error(t(161))}}catch(be){Lr(o,o.return,be)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function zT(o,l,h){wt=o,l5(o)}function l5(o,l,h){for(var v=(o.mode&1)!==0;wt!==null;){var S=wt,C=S.child;if(S.tag===22&&v){var K=S.memoizedState!==null||hp;if(!K){var pe=S.alternate,be=pe!==null&&pe.memoizedState!==null||si;pe=hp;var Me=si;if(hp=K,(si=be)&&!Me)for(wt=S;wt!==null;)K=wt,be=K.child,K.tag===22&&K.memoizedState!==null?h5(S):be!==null?(be.return=K,wt=be):h5(S);for(;C!==null;)wt=C,l5(C),C=C.sibling;wt=S,hp=pe,si=Me}c5(o)}else(S.subtreeFlags&8772)!==0&&C!==null?(C.return=S,wt=C):c5(o)}}function c5(o){for(;wt!==null;){var l=wt;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:si||dp(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!si)if(h===null)v.componentDidMount();else{var S=l.elementType===l.type?h.memoizedProps:ha(l.type,h.memoizedProps);v.componentDidUpdate(S,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var C=l.updateQueue;C!==null&&kl(l,C,v);break;case 3:var K=l.updateQueue;if(K!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}kl(l,K,h)}break;case 5:var pe=l.stateNode;if(h===null&&l.flags&4){h=pe;var be=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":be.autoFocus&&h.focus();break;case"img":be.src&&(h.src=be.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Me=l.alternate;if(Me!==null){var Je=Me.memoizedState;if(Je!==null){var Ze=Je.dehydrated;Ze!==null&&ls(Ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}si||l.flags&512&&o1(l)}catch(Qe){Lr(l,l.return,Qe)}}if(l===o){wt=null;break}if(h=l.sibling,h!==null){h.return=l.return,wt=h;break}wt=l.return}}function u5(o){for(;wt!==null;){var l=wt;if(l===o){wt=null;break}var h=l.sibling;if(h!==null){h.return=l.return,wt=h;break}wt=l.return}}function h5(o){for(;wt!==null;){var l=wt;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{dp(4,l)}catch(be){Lr(l,h,be)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var S=l.return;try{v.componentDidMount()}catch(be){Lr(l,S,be)}}var C=l.return;try{o1(l)}catch(be){Lr(l,C,be)}break;case 5:var K=l.return;try{o1(l)}catch(be){Lr(l,K,be)}}}catch(be){Lr(l,l.return,be)}if(l===o){wt=null;break}var pe=l.sibling;if(pe!==null){pe.return=l.return,wt=pe;break}wt=l.return}}var qT=Math.ceil,fp=H.ReactCurrentDispatcher,c1=H.ReactCurrentOwner,Fo=H.ReactCurrentBatchConfig,En=0,Es=null,Qr=null,qs=0,fo=0,Ih=lo(0),fs=0,qd=null,ju=0,pp=0,u1=0,$d=null,Gi=null,h1=0,kh=1/0,jl=null,mp=!1,d1=null,Ic=null,gp=!1,kc=null,yp=0,Hd=0,f1=null,vp=-1,wp=0;function Ii(){return(En&6)!==0?Ct():vp!==-1?vp:vp=Ct()}function Rc(o){return(o.mode&1)===0?1:(En&2)!==0&&qs!==0?qs&-qs:zn.transition!==null?(wp===0&&(wp=bo()),wp):(o=ln,o!==0||(o=window.event,o=o===void 0?16:ka(o.type)),o)}function pa(o,l,h,v){if(50<Hd)throw Hd=0,f1=null,Error(t(185));eo(o,h,v),((En&2)===0||o!==Es)&&(o===Es&&((En&2)===0&&(pp|=h),fs===4&&Lc(o,qs)),Ki(o,v),h===1&&En===0&&(l.mode&1)===0&&(kh=Ct()+500,Iu&&R()))}function Ki(o,l){var h=o.callbackNode;mr(o,l);var v=is(o,o===Es?qs:0);if(v===0)h!==null&&Xr(h),o.callbackNode=null,o.callbackPriority=0;else if(l=v&-v,o.callbackPriority!==l){if(h!=null&&Xr(h),l===1)o.tag===0?A(f5.bind(null,o)):x(f5.bind(null,o)),zg(function(){(En&6)===0&&R()}),h=null;else{switch(Li(v)){case 1:h=pr;break;case 4:h=ar;break;case 16:h=rs;break;case 536870912:h=nc;break;default:h=rs}h=b5(h,d5.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function d5(o,l){if(vp=-1,wp=0,(En&6)!==0)throw Error(t(327));var h=o.callbackNode;if(Rh()&&o.callbackNode!==h)return null;var v=is(o,o===Es?qs:0);if(v===0)return null;if((v&30)!==0||(v&o.expiredLanes)!==0||l)l=xp(o,v);else{l=v;var S=En;En|=2;var C=m5();(Es!==o||qs!==l)&&(jl=null,kh=Ct()+500,Ou(o,l));do try{WT();break}catch(pe){p5(o,pe)}while(!0);ds(),fp.current=C,En=S,Qr!==null?l=0:(Es=null,qs=0,l=fs)}if(l!==0){if(l===2&&(S=os(o),S!==0&&(v=S,l=p1(o,S))),l===1)throw h=qd,Ou(o,0),Lc(o,v),Ki(o,Ct()),h;if(l===6)Lc(o,v);else{if(S=o.current.alternate,(v&30)===0&&!$T(S)&&(l=xp(o,v),l===2&&(C=os(o),C!==0&&(v=C,l=p1(o,C))),l===1))throw h=qd,Ou(o,0),Lc(o,v),Ki(o,Ct()),h;switch(o.finishedWork=S,o.finishedLanes=v,l){case 0:case 1:throw Error(t(345));case 2:Mu(o,Gi,jl);break;case 3:if(Lc(o,v),(v&130023424)===v&&(l=h1+500-Ct(),10<l)){if(is(o,0)!==0)break;if(S=o.suspendedLanes,(S&v)!==v){Ii(),o.pingedLanes|=o.suspendedLanes&S;break}o.timeoutHandle=kd(Mu.bind(null,o,Gi,jl),l);break}Mu(o,Gi,jl);break;case 4:if(Lc(o,v),(v&4194240)===v)break;for(l=o.eventTimes,S=-1;0<v;){var K=31-ss(v);C=1<<K,K=l[K],K>S&&(S=K),v&=~C}if(v=S,v=Ct()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*qT(v/1960))-v,10<v){o.timeoutHandle=kd(Mu.bind(null,o,Gi,jl),v);break}Mu(o,Gi,jl);break;case 5:Mu(o,Gi,jl);break;default:throw Error(t(329))}}}return Ki(o,Ct()),o.callbackNode===h?d5.bind(null,o):null}function p1(o,l){var h=$d;return o.current.memoizedState.isDehydrated&&(Ou(o,l).flags|=256),o=xp(o,l),o!==2&&(l=Gi,Gi=h,l!==null&&m1(l)),o}function m1(o){Gi===null?Gi=o:Gi.push.apply(Gi,o)}function $T(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var S=h[v],C=S.getSnapshot;S=S.value;try{if(!An(C(),S))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Lc(o,l){for(l&=~u1,l&=~pp,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-ss(l),v=1<<h;o[h]=-1,l&=~v}}function f5(o){if((En&6)!==0)throw Error(t(327));Rh();var l=is(o,0);if((l&1)===0)return Ki(o,Ct()),null;var h=xp(o,l);if(o.tag!==0&&h===2){var v=os(o);v!==0&&(l=v,h=p1(o,v))}if(h===1)throw h=qd,Ou(o,0),Lc(o,l),Ki(o,Ct()),h;if(h===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Mu(o,Gi,jl),Ki(o,Ct()),null}function g1(o,l){var h=En;En|=1;try{return o(l)}finally{En=h,En===0&&(kh=Ct()+500,Iu&&R())}}function Du(o){kc!==null&&kc.tag===0&&(En&6)===0&&Rh();var l=En;En|=1;var h=Fo.transition,v=ln;try{if(Fo.transition=null,ln=1,o)return o()}finally{ln=v,Fo.transition=h,En=l,(En&6)===0&&R()}}function y1(){fo=Ih.current,Fn(Ih)}function Ou(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,Jf(h)),Qr!==null)for(h=Qr.return;h!==null;){var v=h;switch(_e(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&yh();break;case 3:Do(),Fn(ei),Fn(hs),Fd();break;case 5:Od(v);break;case 4:Do();break;case 13:Fn(Qn);break;case 19:Fn(Qn);break;case 10:ni(v.type._context);break;case 22:case 23:y1()}h=h.return}if(Es=o,Qr=o=jc(o.current,null),qs=fo=l,fs=0,qd=null,u1=pp=ju=0,Gi=$d=null,Ei!==null){for(l=0;l<Ei.length;l++)if(h=Ei[l],v=h.interleaved,v!==null){h.interleaved=null;var S=v.next,C=h.pending;if(C!==null){var K=C.next;C.next=S,v.next=K}h.pending=v}Ei=null}return o}function p5(o,l){do{var h=Qr;try{if(ds(),wh.current=ap,Tc){for(var v=rr.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}Tc=!1}if(Oo=0,_r=Rr=rr=null,ca=!1,Nc=0,c1.current=null,h===null||h.return===null){fs=1,qd=l,Qr=null;break}e:{var C=o,K=h.return,pe=h,be=l;if(l=qs,pe.flags|=32768,be!==null&&typeof be=="object"&&typeof be.then=="function"){var Me=be,Je=pe,Ze=Je.tag;if((Je.mode&1)===0&&(Ze===0||Ze===11||Ze===15)){var Qe=Je.alternate;Qe?(Je.updateQueue=Qe.updateQueue,Je.memoizedState=Qe.memoizedState,Je.lanes=Qe.lanes):(Je.updateQueue=null,Je.memoizedState=null)}var mt=V2(K);if(mt!==null){mt.flags&=-257,B2(mt,K,pe,C,l),mt.mode&1&&F2(C,Me,l),l=mt,be=Me;var bt=l.updateQueue;if(bt===null){var At=new Set;At.add(be),l.updateQueue=At}else bt.add(be);break e}else{if((l&1)===0){F2(C,Me,l),v1();break e}be=Error(t(426))}}else if(Ue&&pe.mode&1){var Br=V2(K);if(Br!==null){(Br.flags&65536)===0&&(Br.flags|=256),B2(Br,K,pe,C,l),Vn(Ph(be,pe));break e}}C=be=Ph(be,pe),fs!==4&&(fs=2),$d===null?$d=[C]:$d.push(C),C=K;do{switch(C.tag){case 3:C.flags|=65536,l&=-l,C.lanes|=l;var Re=O2(C,be,l);Hi(C,Re);break e;case 1:pe=be;var Te=C.type,De=C.stateNode;if((C.flags&128)===0&&(typeof Te.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(Ic===null||!Ic.has(De)))){C.flags|=65536,l&=-l,C.lanes|=l;var nt=M2(C,pe,l);Hi(C,nt);break e}}C=C.return}while(C!==null)}y5(h)}catch(Nt){l=Nt,Qr===h&&h!==null&&(Qr=h=h.return);continue}break}while(!0)}function m5(){var o=fp.current;return fp.current=ap,o===null?ap:o}function v1(){(fs===0||fs===3||fs===2)&&(fs=4),Es===null||(ju&268435455)===0&&(pp&268435455)===0||Lc(Es,qs)}function xp(o,l){var h=En;En|=2;var v=m5();(Es!==o||qs!==l)&&(jl=null,Ou(o,l));do try{HT();break}catch(S){p5(o,S)}while(!0);if(ds(),En=h,fp.current=v,Qr!==null)throw Error(t(261));return Es=null,qs=0,fs}function HT(){for(;Qr!==null;)g5(Qr)}function WT(){for(;Qr!==null&&!Ks();)g5(Qr)}function g5(o){var l=x5(o.alternate,o,fo);o.memoizedProps=o.pendingProps,l===null?y5(o):Qr=l,c1.current=null}function y5(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=FT(h,l,fo),h!==null){Qr=h;return}}else{if(h=VT(h,l),h!==null){h.flags&=32767,Qr=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{fs=6,Qr=null;return}}if(l=l.sibling,l!==null){Qr=l;return}Qr=l=o}while(l!==null);fs===0&&(fs=5)}function Mu(o,l,h){var v=ln,S=Fo.transition;try{Fo.transition=null,ln=1,GT(o,l,h,v)}finally{Fo.transition=S,ln=v}return null}function GT(o,l,h,v){do Rh();while(kc!==null);if((En&6)!==0)throw Error(t(327));h=o.finishedWork;var S=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var C=h.lanes|h.childLanes;if(Dn(o,C),o===Es&&(Qr=Es=null,qs=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||gp||(gp=!0,b5(rs,function(){return Rh(),null})),C=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||C){C=Fo.transition,Fo.transition=null;var K=ln;ln=1;var pe=En;En|=4,c1.current=null,UT(o,h),a5(h,o),bl(Tl),Ao=!!Pu,Tl=Pu=null,o.current=h,zT(h),Zi(),En=pe,ln=K,Fo.transition=C}else o.current=h;if(gp&&(gp=!1,kc=o,yp=S),C=o.pendingLanes,C===0&&(Ic=null),$o(h.stateNode),Ki(o,Ct()),l!==null)for(v=o.onRecoverableError,h=0;h<l.length;h++)S=l[h],v(S.value,{componentStack:S.stack,digest:S.digest});if(mp)throw mp=!1,o=d1,d1=null,o;return(yp&1)!==0&&o.tag!==0&&Rh(),C=o.pendingLanes,(C&1)!==0?o===f1?Hd++:(Hd=0,f1=o):Hd=0,R(),null}function Rh(){if(kc!==null){var o=Li(yp),l=Fo.transition,h=ln;try{if(Fo.transition=null,ln=16>o?16:o,kc===null)var v=!1;else{if(o=kc,kc=null,yp=0,(En&6)!==0)throw Error(t(331));var S=En;for(En|=4,wt=o.current;wt!==null;){var C=wt,K=C.child;if((wt.flags&16)!==0){var pe=C.deletions;if(pe!==null){for(var be=0;be<pe.length;be++){var Me=pe[be];for(wt=Me;wt!==null;){var Je=wt;switch(Je.tag){case 0:case 11:case 15:zd(8,Je,C)}var Ze=Je.child;if(Ze!==null)Ze.return=Je,wt=Ze;else for(;wt!==null;){Je=wt;var Qe=Je.sibling,mt=Je.return;if(n5(Je),Je===Me){wt=null;break}if(Qe!==null){Qe.return=mt,wt=Qe;break}wt=mt}}}var bt=C.alternate;if(bt!==null){var At=bt.child;if(At!==null){bt.child=null;do{var Br=At.sibling;At.sibling=null,At=Br}while(At!==null)}}wt=C}}if((C.subtreeFlags&2064)!==0&&K!==null)K.return=C,wt=K;else e:for(;wt!==null;){if(C=wt,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:zd(9,C,C.return)}var Re=C.sibling;if(Re!==null){Re.return=C.return,wt=Re;break e}wt=C.return}}var Te=o.current;for(wt=Te;wt!==null;){K=wt;var De=K.child;if((K.subtreeFlags&2064)!==0&&De!==null)De.return=K,wt=De;else e:for(K=Te;wt!==null;){if(pe=wt,(pe.flags&2048)!==0)try{switch(pe.tag){case 0:case 11:case 15:dp(9,pe)}}catch(Nt){Lr(pe,pe.return,Nt)}if(pe===K){wt=null;break e}var nt=pe.sibling;if(nt!==null){nt.return=pe.return,wt=nt;break e}wt=pe.return}}if(En=S,R(),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(vo,o)}catch{}v=!0}return v}finally{ln=h,Fo.transition=l}}return!1}function v5(o,l,h){l=Ph(h,l),l=O2(o,l,1),o=$i(o,l,1),l=Ii(),o!==null&&(eo(o,1,l),Ki(o,l))}function Lr(o,l,h){if(o.tag===3)v5(o,o,h);else for(;l!==null;){if(l.tag===3){v5(l,o,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ic===null||!Ic.has(v))){o=Ph(h,o),o=M2(l,o,1),l=$i(l,o,1),o=Ii(),l!==null&&(eo(l,1,o),Ki(l,o));break}}l=l.return}}function KT(o,l,h){var v=o.pingCache;v!==null&&v.delete(l),l=Ii(),o.pingedLanes|=o.suspendedLanes&h,Es===o&&(qs&h)===h&&(fs===4||fs===3&&(qs&130023424)===qs&&500>Ct()-h1?Ou(o,0):u1|=h),Ki(o,l)}function w5(o,l){l===0&&((o.mode&1)===0?l=1:(l=wo,wo<<=1,(wo&130023424)===0&&(wo=4194304)));var h=Ii();o=kn(o,l),o!==null&&(eo(o,l,h),Ki(o,h))}function YT(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),w5(o,h)}function XT(o,l){var h=0;switch(o.tag){case 13:var v=o.stateNode,S=o.memoizedState;S!==null&&(h=S.retryLane);break;case 19:v=o.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(l),w5(o,h)}var x5;x5=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||ei.current)Wi=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return Wi=!1,MT(o,l,h);Wi=(o.flags&131072)!==0}else Wi=!1,Ue&&(l.flags&1048576)!==0&&We(l,Q,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;up(o,l),o=l.pendingProps;var S=_c(l,hs.current);hr(l,h),S=ku(null,l,v,o,S,h);var C=Mo();return l.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ti(v)?(C=!0,Cl(l)):C=!1,l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,vh(l),S.updater=lp,l.stateNode=S,S._reactInternals=l,Yg(l,v,o,h),l=Zg(null,l,v,!0,C,h)):(l.tag=0,Ue&&C&&Fe(l),Ci(null,l,S,h),l=l.child),l;case 16:v=l.elementType;e:{switch(up(o,l),o=l.pendingProps,S=v._init,v=S(v._payload),l.type=v,S=l.tag=JT(v),o=ha(v,o),S){case 0:l=Jg(null,l,v,o,h);break e;case 1:l=W2(null,l,v,o,h);break e;case 11:l=U2(null,l,v,o,h);break e;case 14:l=z2(null,l,v,ha(v.type,o),h);break e}throw Error(t(306,v,""))}return l;case 0:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:ha(v,S),Jg(o,l,v,S,h);case 1:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:ha(v,S),W2(o,l,v,S,h);case 3:e:{if(G2(l),o===null)throw Error(t(387));v=l.pendingProps,C=l.memoizedState,S=C.element,Dd(o,l),aa(l,v,null,h);var K=l.memoizedState;if(v=K.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:K.cache,pendingSuspenseBoundaries:K.pendingSuspenseBoundaries,transitions:K.transitions},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){S=Ph(Error(t(423)),l),l=K2(o,l,v,h,S);break e}else if(v!==S){S=Ph(Error(t(424)),l),l=K2(o,l,v,h,S);break e}else for(qe=Bs(l.stateNode.containerInfo.firstChild),Se=l,Ue=!0,$e=null,h=In(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(nn(),v===S){l=Ll(o,l,h);break e}Ci(o,l,v,h)}l=l.child}return l;case 5:return np(l),o===null&&ct(l),v=l.type,S=l.pendingProps,C=o!==null?o.memoizedProps:null,K=S.children,Id(v,S)?K=null:C!==null&&Id(v,C)&&(l.flags|=32),H2(o,l),Ci(o,l,K,h),l.child;case 6:return o===null&&ct(l),null;case 13:return Y2(o,l,h);case 4:return Ec(l,l.stateNode.containerInfo),v=l.pendingProps,o===null?l.child=Mr(l,null,v,h):Ci(o,l,v,h),l.child;case 11:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:ha(v,S),U2(o,l,v,S,h);case 7:return Ci(o,l,l.pendingProps,h),l.child;case 8:return Ci(o,l,l.pendingProps.children,h),l.child;case 12:return Ci(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(v=l.type._context,S=l.pendingProps,C=l.memoizedProps,K=S.value,Un(Ss,v._currentValue),v._currentValue=K,C!==null)if(An(C.value,K)){if(C.children===S.children&&!ei.current){l=Ll(o,l,h);break e}}else for(C=l.child,C!==null&&(C.return=l);C!==null;){var pe=C.dependencies;if(pe!==null){K=C.child;for(var be=pe.firstContext;be!==null;){if(be.context===v){if(C.tag===1){be=qi(-1,h&-h),be.tag=2;var Me=C.updateQueue;if(Me!==null){Me=Me.shared;var Je=Me.pending;Je===null?be.next=be:(be.next=Je.next,Je.next=be),Me.pending=be}}C.lanes|=h,be=C.alternate,be!==null&&(be.lanes|=h),zi(C.return,h,l),pe.lanes|=h;break}be=be.next}}else if(C.tag===10)K=C.type===l.type?null:C.child;else if(C.tag===18){if(K=C.return,K===null)throw Error(t(341));K.lanes|=h,pe=K.alternate,pe!==null&&(pe.lanes|=h),zi(K,h,l),K=C.sibling}else K=C.child;if(K!==null)K.return=C;else for(K=C;K!==null;){if(K===l){K=null;break}if(C=K.sibling,C!==null){C.return=K.return,K=C;break}K=K.return}C=K}Ci(o,l,S.children,h),l=l.child}return l;case 9:return S=l.type,v=l.pendingProps.children,hr(l,h),S=kr(S),v=v(S),l.flags|=1,Ci(o,l,v,h),l.child;case 14:return v=l.type,S=ha(v,l.pendingProps),S=ha(v.type,S),z2(o,l,v,S,h);case 15:return q2(o,l,l.type,l.pendingProps,h);case 17:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:ha(v,S),up(o,l),l.tag=1,ti(v)?(o=!0,Cl(l)):o=!1,hr(l,h),j2(l,v,S),Yg(l,v,S,h),Zg(null,l,v,!0,o,h);case 19:return Q2(o,l,h);case 22:return $2(o,l,h)}throw Error(t(156,l.tag))};function b5(o,l){return or(o,l)}function QT(o,l,h,v){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vo(o,l,h,v){return new QT(o,l,h,v)}function w1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function JT(o){if(typeof o=="function")return w1(o)?1:0;if(o!=null){if(o=o.$$typeof,o===D)return 11;if(o===Ee)return 14}return 2}function jc(o,l){var h=o.alternate;return h===null?(h=Vo(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function bp(o,l,h,v,S,C){var K=2;if(v=o,typeof o=="function")w1(o)&&(K=1);else if(typeof o=="string")K=5;else e:switch(o){case U:return Fu(h.children,S,C,l);case k:K=8,S|=8;break;case B:return o=Vo(12,h,l,S|2),o.elementType=B,o.lanes=C,o;case V:return o=Vo(13,h,l,S),o.elementType=V,o.lanes=C,o;case ee:return o=Vo(19,h,l,S),o.elementType=ee,o.lanes=C,o;case Ae:return _p(h,S,C,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case W:K=10;break e;case j:K=9;break e;case D:K=11;break e;case Ee:K=14;break e;case de:K=16,v=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=Vo(K,h,l,S),l.elementType=o,l.type=v,l.lanes=C,l}function Fu(o,l,h,v){return o=Vo(7,o,v,l),o.lanes=h,o}function _p(o,l,h,v){return o=Vo(22,o,v,l),o.elementType=Ae,o.lanes=h,o.stateNode={isHidden:!1},o}function x1(o,l,h){return o=Vo(6,o,null,l),o.lanes=h,o}function b1(o,l,h){return l=Vo(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function ZT(o,l,h,v,S){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_o(0),this.expirationTimes=_o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function _1(o,l,h,v,S,C,K,pe,be){return o=new ZT(o,l,h,pe,be),l===1?(l=1,C===!0&&(l|=8)):l=0,C=Vo(3,null,null,l),o.current=C,C.stateNode=o,C.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(C),o}function eN(o,l,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:v==null?null:""+v,children:o,containerInfo:l,implementation:h}}function _5(o){if(!o)return Ba;o=o._reactInternals;e:{if(Bn(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ti(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var h=o.type;if(ti(h))return jd(o,h,l)}return l}function S5(o,l,h,v,S,C,K,pe,be){return o=_1(h,v,!0,o,S,C,K,pe,be),o.context=_5(null),h=o.current,v=Ii(),S=Rc(h),C=qi(v,S),C.callback=l??null,$i(h,C,S),o.current.lanes=S,eo(o,S,v),Ki(o,v),o}function Sp(o,l,h,v){var S=l.current,C=Ii(),K=Rc(S);return h=_5(h),l.context===null?l.context=h:l.pendingContext=h,l=qi(C,K),l.payload={element:o},v=v===void 0?null:v,v!==null&&(l.callback=v),o=$i(S,l,K),o!==null&&(pa(o,S,K,C),Il(o,S,K)),K}function Ap(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function A5(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function S1(o,l){A5(o,l),(o=o.alternate)&&A5(o,l)}function tN(){return null}var E5=typeof reportError=="function"?reportError:function(o){console.error(o)};function A1(o){this._internalRoot=o}Ep.prototype.render=A1.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));Sp(o,l,null,null)},Ep.prototype.unmount=A1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Du(function(){Sp(null,o,null,null)}),l[_s]=null}};function Ep(o){this._internalRoot=o}Ep.prototype.unstable_scheduleHydration=function(o){if(o){var l=ji();o={blockedOn:null,target:o,priority:l};for(var h=0;h<Di.length&&l!==0&&l<Di[h].priority;h++);Di.splice(h,0,o),h===0&&Ia(o)}};function E1(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Tp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function T5(){}function nN(o,l,h,v,S){if(S){if(typeof v=="function"){var C=v;v=function(){var Me=Ap(K);C.call(Me)}}var K=S5(l,v,o,0,null,!1,!1,"",T5);return o._reactRootContainer=K,o[_s]=K.current,Al(o.nodeType===8?o.parentNode:o),Du(),K}for(;S=o.lastChild;)o.removeChild(S);if(typeof v=="function"){var pe=v;v=function(){var Me=Ap(be);pe.call(Me)}}var be=_1(o,0,!1,null,null,!1,!1,"",T5);return o._reactRootContainer=be,o[_s]=be.current,Al(o.nodeType===8?o.parentNode:o),Du(function(){Sp(l,be,h,v)}),be}function Np(o,l,h,v,S){var C=h._reactRootContainer;if(C){var K=C;if(typeof S=="function"){var pe=S;S=function(){var be=Ap(K);pe.call(be)}}Sp(l,K,o,S)}else K=nN(h,l,o,S,v);return Ap(K)}rc=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=xo(l.pendingLanes);h!==0&&(to(l,h|1),Ki(l,Ct()),(En&6)===0&&(kh=Ct()+500,R()))}break;case 13:Du(function(){var v=kn(o,1);if(v!==null){var S=Ii();pa(v,o,1,S)}}),S1(o,1)}},Pa=function(o){if(o.tag===13){var l=kn(o,134217728);if(l!==null){var h=Ii();pa(l,o,134217728,h)}S1(o,134217728)}},sc=function(o){if(o.tag===13){var l=Rc(o),h=kn(o,l);if(h!==null){var v=Ii();pa(h,o,l,v)}S1(o,l)}},ji=function(){return ln},Wo=function(o,l){var h=ln;try{return ln=o,l()}finally{ln=h}},Ln=function(o,l,h){switch(l){case"input":if(xt(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==o&&v.form===o.form){var S=Cu(v);if(!S)throw Error(t(90));ze(v),xt(v,S)}}}break;case"textarea":jt(o,h);break;case"select":l=h.value,l!=null&&rt(o,!!h.multiple,l,!1)}},ns=g1,ir=Du;var rN={usingClientEntryPoint:!1,Events:[bc,Nl,Cu,Pt,cn,g1]},Wd={findFiberByHostInstance:Va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sN={bundleType:Wd.bundleType,version:Wd.version,rendererPackageName:Wd.rendererPackageName,rendererConfig:Wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=gs(o),o===null?null:o.stateNode},findFiberByHostInstance:Wd.findFiberByHostInstance||tN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pp.isDisabled&&Pp.supportsFiber)try{vo=Pp.inject(sN),Rs=Pp}catch{}}return Yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rN,Yi.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E1(l))throw Error(t(200));return eN(o,l,null,h)},Yi.createRoot=function(o,l){if(!E1(o))throw Error(t(299));var h=!1,v="",S=E5;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=_1(o,1,!1,null,null,h,!1,v,S),o[_s]=l.current,Al(o.nodeType===8?o.parentNode:o),new A1(l)},Yi.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=gs(l),o=o===null?null:o.stateNode,o},Yi.flushSync=function(o){return Du(o)},Yi.hydrate=function(o,l,h){if(!Tp(l))throw Error(t(200));return Np(null,o,l,!0,h)},Yi.hydrateRoot=function(o,l,h){if(!E1(o))throw Error(t(405));var v=h!=null&&h.hydratedSources||null,S=!1,C="",K=E5;if(h!=null&&(h.unstable_strictMode===!0&&(S=!0),h.identifierPrefix!==void 0&&(C=h.identifierPrefix),h.onRecoverableError!==void 0&&(K=h.onRecoverableError)),l=S5(l,null,o,1,h??null,S,!1,C,K),o[_s]=l.current,Al(o),v)for(o=0;o<v.length;o++)h=v[o],S=h._getVersion,S=S(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,S]:l.mutableSourceEagerHydrationData.push(h,S);return new Ep(l)},Yi.render=function(o,l,h){if(!Tp(l))throw Error(t(200));return Np(null,o,l,!1,h)},Yi.unmountComponentAtNode=function(o){if(!Tp(o))throw Error(t(40));return o._reactRootContainer?(Du(function(){Np(null,null,o,!1,function(){o._reactRootContainer=null,o[_s]=null})}),!0):!1},Yi.unstable_batchedUpdates=g1,Yi.unstable_renderSubtreeIntoContainer=function(o,l,h,v){if(!Tp(h))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Np(o,l,h,!1,v)},Yi.version="18.3.1-next-f1338f8080-20240426",Yi}var j5;function h_(){if(j5)return P1.exports;j5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),P1.exports=dN(),P1.exports}var D5;function fN(){if(D5)return Cp;D5=1;var n=h_();return Cp.createRoot=n.createRoot,Cp.hydrateRoot=n.hydrateRoot,Cp}var pN=fN();const mN=Oy(pN);function d_(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=d_(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function f_(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=d_(n))&&(r&&(r+=" "),r+=e);return r}function gN(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=p_(e))&&(r&&(r+=" "),r+=t);return r}function p_(n){if(typeof n=="string")return n;for(var e,t="",r=0;r<n.length;r++)n[r]&&(e=p_(n[r]))&&(t&&(t+=" "),t+=e);return t}var Fy="-";function yN(n){var e=wN(n),t=n.conflictingClassGroups,r=n.conflictingClassGroupModifiers,s=r===void 0?{}:r;function i(c){var u=c.split(Fy);return u[0]===""&&u.length!==1&&u.shift(),m_(u,e)||vN(c)}function a(c,u){var d=t[c]||[];return u&&s[c]?[].concat(d,s[c]):d}return{getClassGroupId:i,getConflictingClassGroupIds:a}}function m_(n,e){var a;if(n.length===0)return e.classGroupId;var t=n[0],r=e.nextPart.get(t),s=r?m_(n.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var i=n.join(Fy);return(a=e.validators.find(function(c){var u=c.validator;return u(i)}))==null?void 0:a.classGroupId}}var O5=/^\[(.+)\]$/;function vN(n){if(O5.test(n)){var e=O5.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function wN(n){var e=n.theme,t=n.prefix,r={nextPart:new Map,validators:[]},s=bN(Object.entries(n.classGroups),t);return s.forEach(function(i){var a=i[0],c=i[1];x0(c,r,a,e)}),r}function x0(n,e,t,r){n.forEach(function(s){if(typeof s=="string"){var i=s===""?e:M5(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(xN(s)){x0(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(function(a){var c=a[0],u=a[1];x0(u,M5(e,c),t,r)})})}function M5(n,e){var t=n;return e.split(Fy).forEach(function(r){t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t}function xN(n){return n.isThemeGetter}function bN(n,e){return e?n.map(function(t){var r=t[0],s=t[1],i=s.map(function(a){return typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(c){var u=c[0],d=c[1];return[e+u,d]})):a});return[r,i]}):n}function _N(n){if(n<1)return{get:function(){},set:function(){}};var e=0,t=new Map,r=new Map;function s(i,a){t.set(i,a),e++,e>n&&(e=0,r=t,t=new Map)}return{get:function(a){var c=t.get(a);if(c!==void 0)return c;if((c=r.get(a))!==void 0)return s(a,c),c},set:function(a,c){t.has(a)?t.set(a,c):s(a,c)}}}var g_="!";function SN(n){var e=n.separator||":",t=e.length===1,r=e[0],s=e.length;return function(a){for(var c=[],u=0,d=0,p,g=0;g<a.length;g++){var w=a[g];if(u===0){if(w===r&&(t||a.slice(g,g+s)===e)){c.push(a.slice(d,g)),d=g+s;continue}if(w==="/"){p=g;continue}}w==="["?u++:w==="]"&&u--}var y=c.length===0?a:a.substring(d),T=y.startsWith(g_),E=T?y.substring(1):y,P=p&&p>d?p-d:void 0;return{modifiers:c,hasImportantModifier:T,baseClassName:E,maybePostfixModifierPosition:P}}}function AN(n){if(n.length<=1)return n;var e=[],t=[];return n.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,t.sort().concat([r])),t=[]):t.push(r)}),e.push.apply(e,t.sort()),e}function EN(n){return{cache:_N(n.cacheSize),splitModifiers:SN(n),...yN(n)}}var TN=/\s+/;function NN(n,e){var t=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,i=new Set;return n.trim().split(TN).map(function(a){var c=t(a),u=c.modifiers,d=c.hasImportantModifier,p=c.baseClassName,g=c.maybePostfixModifierPosition,w=r(g?p.substring(0,g):p),y=!!g;if(!w){if(!g)return{isTailwindClass:!1,originalClassName:a};if(w=r(p),!w)return{isTailwindClass:!1,originalClassName:a};y=!1}var T=AN(u).join(":"),E=d?T+g_:T;return{isTailwindClass:!0,modifierId:E,classGroupId:w,originalClassName:a,hasPostfixModifier:y}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var c=a.modifierId,u=a.classGroupId,d=a.hasPostfixModifier,p=c+u;return i.has(p)?!1:(i.add(p),s(u,d).forEach(function(g){return i.add(c+g)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function PN(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r,s,i,a=c;function c(d){var p=e[0],g=e.slice(1),w=g.reduce(function(y,T){return T(y)},p());return r=EN(w),s=r.cache.get,i=r.cache.set,a=u,u(d)}function u(d){var p=s(d);if(p)return p;var g=NN(d,r);return i(d,g),g}return function(){return a(gN.apply(null,arguments))}}function dr(n){var e=function(r){return r[n]||[]};return e.isThemeGetter=!0,e}var y_=/^\[(?:([a-z-]+):)?(.+)\]$/i,CN=/^\d+\/\d+$/,IN=new Set(["px","full","screen"]),kN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LN=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ma(n){return Wu(n)||IN.has(n)||CN.test(n)||b0(n)}function b0(n){return ah(n,"length",VN)}function jN(n){return ah(n,"size",v_)}function DN(n){return ah(n,"position",v_)}function ON(n){return ah(n,"url",BN)}function Ip(n){return ah(n,"number",Wu)}function Wu(n){return!Number.isNaN(Number(n))}function MN(n){return n.endsWith("%")&&Wu(n.slice(0,-1))}function Kd(n){return F5(n)||ah(n,"number",F5)}function pn(n){return y_.test(n)}function Yd(){return!0}function Oc(n){return kN.test(n)}function FN(n){return ah(n,"",UN)}function ah(n,e,t){var r=y_.exec(n);return r?r[1]?r[1]===e:t(r[2]):!1}function VN(n){return RN.test(n)}function v_(){return!1}function BN(n){return n.startsWith("url(")}function F5(n){return Number.isInteger(Number(n))}function UN(n){return LN.test(n)}function zN(){var n=dr("colors"),e=dr("spacing"),t=dr("blur"),r=dr("brightness"),s=dr("borderColor"),i=dr("borderRadius"),a=dr("borderSpacing"),c=dr("borderWidth"),u=dr("contrast"),d=dr("grayscale"),p=dr("hueRotate"),g=dr("invert"),w=dr("gap"),y=dr("gradientColorStops"),T=dr("gradientColorStopPositions"),E=dr("inset"),P=dr("margin"),I=dr("opacity"),L=dr("padding"),F=dr("saturate"),H=dr("scale"),te=dr("sepia"),le=dr("skew"),U=dr("space"),k=dr("translate"),B=function(){return["auto","contain","none"]},W=function(){return["auto","hidden","clip","visible","scroll"]},j=function(){return["auto",pn,e]},D=function(){return[pn,e]},V=function(){return["",ma]},ee=function(){return["auto",Wu,pn]},Ee=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},de=function(){return["solid","dashed","dotted","double","none"]},Ae=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},re=function(){return["start","end","center","between","around","evenly","stretch"]},ye=function(){return["","0",pn]},fe=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},oe=function(){return[Wu,Ip]},M=function(){return[Wu,pn]};return{cacheSize:500,theme:{colors:[Yd],spacing:[ma],blur:["none","",Oc,pn],brightness:oe(),borderColor:[n],borderRadius:["none","","full",Oc,pn],borderSpacing:D(),borderWidth:V(),contrast:oe(),grayscale:ye(),hueRotate:M(),invert:ye(),gap:D(),gradientColorStops:[n],gradientColorStopPositions:[MN,b0],inset:j(),margin:j(),opacity:oe(),padding:D(),saturate:oe(),scale:oe(),sepia:ye(),skew:M(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",pn]}],container:["container"],columns:[{columns:[Oc]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Ee(),[pn])}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kd]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pn]}],grow:[{grow:ye()}],shrink:[{shrink:ye()}],order:[{order:["first","last","none",Kd]}],"grid-cols":[{"grid-cols":[Yd]}],"col-start-end":[{col:["auto",{span:["full",Kd]},pn]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[Yd]}],"row-start-end":[{row:["auto",{span:[Kd]},pn]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pn]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal"].concat(re())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(re(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(re(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[L]}],px:[{px:[L]}],py:[{py:[L]}],ps:[{ps:[L]}],pe:[{pe:[L]}],pt:[{pt:[L]}],pr:[{pr:[L]}],pb:[{pb:[L]}],pl:[{pl:[L]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[U]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[U]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",pn,e]}],"min-w":[{"min-w":["min","max","fit",pn,ma]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Oc]},Oc,pn]}],h:[{h:[pn,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",pn,ma]}],"max-h":[{"max-h":[pn,e,"min","max","fit"]}],"font-size":[{text:["base",Oc,b0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ip]}],"font-family":[{font:[Yd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pn]}],"line-clamp":[{"line-clamp":["none",Wu,Ip]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pn,ma]}],"list-image":[{"list-image":["none",pn]}],"list-style-type":[{list:["none","disc","decimal",pn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(de(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ma]}],"underline-offset":[{"underline-offset":["auto",pn,ma]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Ee(),[DN])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ON]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[].concat(de(),["hidden"])}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:de()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(de())}],"outline-offset":[{"outline-offset":[pn,ma]}],"outline-w":[{outline:[ma]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[ma]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Oc,FN]}],"shadow-color":[{shadow:[Yd]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":Ae()}],"bg-blend":[{"bg-blend":Ae()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Oc,pn]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[F]}],sepia:[{sepia:[te]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[F]}],"backdrop-sepia":[{"backdrop-sepia":[te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pn]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",pn]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",pn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[H]}],"scale-x":[{"scale-x":[H]}],"scale-y":[{"scale-y":[H]}],rotate:[{rotate:[Kd,pn]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[le]}],"skew-y":[{"skew-y":[le]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pn]}],accent:[{accent:["auto",n]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pn]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pn]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ma,Ip]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var qN=PN(zN);function Er(...n){return qN(f_(n))}var Jm=h_();const $N=Oy(Jm);function vn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function V5(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function w_(...n){return e=>{let t=!1;const r=n.map(s=>{const i=V5(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():V5(n[s],null)}}}}function ks(...n){return z.useCallback(w_(...n),n)}function gu(n,e=[]){let t=[];function r(i,a){const c=z.createContext(a),u=t.length;t=[...t,a];const d=g=>{var I;const{scope:w,children:y,...T}=g,E=((I=w==null?void 0:w[n])==null?void 0:I[u])||c,P=z.useMemo(()=>T,Object.values(T));return b.jsx(E.Provider,{value:P,children:y})};d.displayName=i+"Provider";function p(g,w){var E;const y=((E=w==null?void 0:w[n])==null?void 0:E[u])||c,T=z.useContext(y);if(T)return T;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[d,p]}const s=()=>{const i=t.map(a=>z.createContext(a));return function(c){const u=(c==null?void 0:c[n])||i;return z.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return s.scopeName=n,[r,HN(s,...e)]}function HN(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:u,scopeName:d})=>{const g=u(i)[`__scope${d}`];return{...c,...g}},{});return z.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function fm(n){const e=GN(n),t=z.forwardRef((r,s)=>{const{children:i,...a}=r,c=z.Children.toArray(i),u=c.find(YN);if(u){const d=u.props.children,p=c.map(g=>g===u?z.Children.count(d)>1?z.Children.only(null):z.isValidElement(d)?d.props.children:null:g);return b.jsx(e,{...a,ref:s,children:z.isValidElement(d)?z.cloneElement(d,void 0,p):null})}return b.jsx(e,{...a,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var WN=fm("Slot");function GN(n){const e=z.forwardRef((t,r)=>{const{children:s,...i}=t;if(z.isValidElement(s)){const a=QN(s),c=XN(i,s.props);return s.type!==z.Fragment&&(c.ref=r?w_(r,a):a),z.cloneElement(s,c)}return z.Children.count(s)>1?z.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var x_=Symbol("radix.slottable");function KN(n){const e=({children:t})=>b.jsx(b.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=x_,e}function YN(n){return z.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===x_}function XN(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function QN(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function b_(n){const e=n+"CollectionProvider",[t,r]=gu(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=E=>{const{scope:P,children:I}=E,L=zr.useRef(null),F=zr.useRef(new Map).current;return b.jsx(s,{scope:P,itemMap:F,collectionRef:L,children:I})};a.displayName=e;const c=n+"CollectionSlot",u=fm(c),d=zr.forwardRef((E,P)=>{const{scope:I,children:L}=E,F=i(c,I),H=ks(P,F.collectionRef);return b.jsx(u,{ref:H,children:L})});d.displayName=c;const p=n+"CollectionItemSlot",g="data-radix-collection-item",w=fm(p),y=zr.forwardRef((E,P)=>{const{scope:I,children:L,...F}=E,H=zr.useRef(null),te=ks(P,H),le=i(p,I);return zr.useEffect(()=>(le.itemMap.set(H,{ref:H,...F}),()=>void le.itemMap.delete(H))),b.jsx(w,{[g]:"",ref:te,children:L})});y.displayName=p;function T(E){const P=i(n+"CollectionConsumer",E);return zr.useCallback(()=>{const L=P.collectionRef.current;if(!L)return[];const F=Array.from(L.querySelectorAll(`[${g}]`));return Array.from(P.itemMap.values()).sort((le,U)=>F.indexOf(le.ref.current)-F.indexOf(U.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:a,Slot:d,ItemSlot:y},T,r]}var JN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zn=JN.reduce((n,e)=>{const t=fm(`Primitive.${e}`),r=z.forwardRef((s,i)=>{const{asChild:a,...c}=s,u=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(u,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function __(n,e){n&&Jm.flushSync(()=>n.dispatchEvent(e))}function fi(n){const e=z.useRef(n);return z.useEffect(()=>{e.current=n}),z.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function ZN(n,e=globalThis==null?void 0:globalThis.document){const t=fi(n);z.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var eP="DismissableLayer",_0="dismissableLayer.update",tP="dismissableLayer.pointerDownOutside",nP="dismissableLayer.focusOutside",B5,S_=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vy=z.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...u}=n,d=z.useContext(S_),[p,g]=z.useState(null),w=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=z.useState({}),T=ks(e,U=>g(U)),E=Array.from(d.layers),[P]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),I=E.indexOf(P),L=p?E.indexOf(p):-1,F=d.layersWithOutsidePointerEventsDisabled.size>0,H=L>=I,te=sP(U=>{const k=U.target,B=[...d.branches].some(W=>W.contains(k));!H||B||(s==null||s(U),a==null||a(U),U.defaultPrevented||c==null||c())},w),le=iP(U=>{const k=U.target;[...d.branches].some(W=>W.contains(k))||(i==null||i(U),a==null||a(U),U.defaultPrevented||c==null||c())},w);return ZN(U=>{L===d.layers.size-1&&(r==null||r(U),!U.defaultPrevented&&c&&(U.preventDefault(),c()))},w),z.useEffect(()=>{if(p)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(B5=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),U5(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=B5)}},[p,w,t,d]),z.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),U5())},[p,d]),z.useEffect(()=>{const U=()=>y({});return document.addEventListener(_0,U),()=>document.removeEventListener(_0,U)},[]),b.jsx(Zn.div,{...u,ref:T,style:{pointerEvents:F?H?"auto":"none":void 0,...n.style},onFocusCapture:vn(n.onFocusCapture,le.onFocusCapture),onBlurCapture:vn(n.onBlurCapture,le.onBlurCapture),onPointerDownCapture:vn(n.onPointerDownCapture,te.onPointerDownCapture)})});Vy.displayName=eP;var rP="DismissableLayerBranch",A_=z.forwardRef((n,e)=>{const t=z.useContext(S_),r=z.useRef(null),s=ks(e,r);return z.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),b.jsx(Zn.div,{...n,ref:s})});A_.displayName=rP;function sP(n,e=globalThis==null?void 0:globalThis.document){const t=fi(n),r=z.useRef(!1),s=z.useRef(()=>{});return z.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let u=function(){E_(tP,t,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function iP(n,e=globalThis==null?void 0:globalThis.document){const t=fi(n),r=z.useRef(!1);return z.useEffect(()=>{const s=i=>{i.target&&!r.current&&E_(nP,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function U5(){const n=new CustomEvent(_0);document.dispatchEvent(n)}function E_(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?__(s,i):s.dispatchEvent(i)}var oP=Vy,aP=A_,il=globalThis!=null&&globalThis.document?z.useLayoutEffect:()=>{},lP="Portal",T_=z.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[s,i]=z.useState(!1);il(()=>i(!0),[]);const a=t||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?$N.createPortal(b.jsx(Zn.div,{...r,ref:e}),a):null});T_.displayName=lP;function cP(n,e){return z.useReducer((t,r)=>e[t][r]??t,n)}var yu=n=>{const{present:e,children:t}=n,r=uP(e),s=typeof t=="function"?t({present:r.isPresent}):z.Children.only(t),i=ks(r.ref,hP(s));return typeof t=="function"||r.isPresent?z.cloneElement(s,{ref:i}):null};yu.displayName="Presence";function uP(n){const[e,t]=z.useState(),r=z.useRef(null),s=z.useRef(n),i=z.useRef("none"),a=n?"mounted":"unmounted",[c,u]=cP(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const d=kp(r.current);i.current=c==="mounted"?d:"none"},[c]),il(()=>{const d=r.current,p=s.current;if(p!==n){const w=i.current,y=kp(d);n?u("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(p&&w!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,u]),il(()=>{if(e){let d;const p=e.ownerDocument.defaultView??window,g=y=>{const E=kp(r.current).includes(y.animationName);if(y.target===e&&E&&(u("ANIMATION_END"),!s.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",d=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},w=y=>{y.target===e&&(i.current=kp(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(d),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:z.useCallback(d=>{r.current=d?getComputedStyle(d):null,t(d)},[])}}function kp(n){return(n==null?void 0:n.animationName)||"none"}function hP(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var dP=u_[" useInsertionEffect ".trim().toString()]||il;function Zm({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,a]=fP({defaultProp:e,onChange:t}),c=n!==void 0,u=c?n:s;{const p=z.useRef(n!==void 0);z.useEffect(()=>{const g=p.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const d=z.useCallback(p=>{var g;if(c){const w=pP(p)?p(n):p;w!==n&&((g=a.current)==null||g.call(a,w))}else i(p)},[c,n,i,a]);return[u,d]}function fP({defaultProp:n,onChange:e}){const[t,r]=z.useState(n),s=z.useRef(t),i=z.useRef(e);return dP(()=>{i.current=e},[e]),z.useEffect(()=>{var a;s.current!==t&&((a=i.current)==null||a.call(i,t),s.current=t)},[t,s]),[t,r,i]}function pP(n){return typeof n=="function"}var mP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),gP="VisuallyHidden",eg=z.forwardRef((n,e)=>b.jsx(Zn.span,{...n,ref:e,style:{...mP,...n.style}}));eg.displayName=gP;var yP=eg,By="ToastProvider",[Uy,vP,wP]=b_("Toast"),[N_,fB]=gu("Toast",[wP]),[xP,tg]=N_(By),P_=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=n,[c,u]=z.useState(null),[d,p]=z.useState(0),g=z.useRef(!1),w=z.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${By}\`. Expected non-empty \`string\`.`),b.jsx(Uy.Provider,{scope:e,children:b.jsx(xP,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:c,onViewportChange:u,onToastAdd:z.useCallback(()=>p(y=>y+1),[]),onToastRemove:z.useCallback(()=>p(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:w,children:a})})};P_.displayName=By;var C_="ToastViewport",bP=["F8"],S0="toast.viewportPause",A0="toast.viewportResume",I_=z.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=bP,label:s="Notifications ({hotkey})",...i}=n,a=tg(C_,t),c=vP(t),u=z.useRef(null),d=z.useRef(null),p=z.useRef(null),g=z.useRef(null),w=ks(e,g,a.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=a.toastCount>0;z.useEffect(()=>{const P=I=>{var F;r.length!==0&&r.every(H=>I[H]||I.code===H)&&((F=g.current)==null||F.focus())};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[r]),z.useEffect(()=>{const P=u.current,I=g.current;if(T&&P&&I){const L=()=>{if(!a.isClosePausedRef.current){const le=new CustomEvent(S0);I.dispatchEvent(le),a.isClosePausedRef.current=!0}},F=()=>{if(a.isClosePausedRef.current){const le=new CustomEvent(A0);I.dispatchEvent(le),a.isClosePausedRef.current=!1}},H=le=>{!P.contains(le.relatedTarget)&&F()},te=()=>{P.contains(document.activeElement)||F()};return P.addEventListener("focusin",L),P.addEventListener("focusout",H),P.addEventListener("pointermove",L),P.addEventListener("pointerleave",te),window.addEventListener("blur",L),window.addEventListener("focus",F),()=>{P.removeEventListener("focusin",L),P.removeEventListener("focusout",H),P.removeEventListener("pointermove",L),P.removeEventListener("pointerleave",te),window.removeEventListener("blur",L),window.removeEventListener("focus",F)}}},[T,a.isClosePausedRef]);const E=z.useCallback(({tabbingDirection:P})=>{const L=c().map(F=>{const H=F.ref.current,te=[H,...jP(H)];return P==="forwards"?te:te.reverse()});return(P==="forwards"?L.reverse():L).flat()},[c]);return z.useEffect(()=>{const P=g.current;if(P){const I=L=>{var te,le,U;const F=L.altKey||L.ctrlKey||L.metaKey;if(L.key==="Tab"&&!F){const k=document.activeElement,B=L.shiftKey;if(L.target===P&&B){(te=d.current)==null||te.focus();return}const D=E({tabbingDirection:B?"backwards":"forwards"}),V=D.findIndex(ee=>ee===k);k1(D.slice(V+1))?L.preventDefault():B?(le=d.current)==null||le.focus():(U=p.current)==null||U.focus()}};return P.addEventListener("keydown",I),()=>P.removeEventListener("keydown",I)}},[c,E]),b.jsxs(aP,{ref:u,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&b.jsx(E0,{ref:d,onFocusFromOutsideViewport:()=>{const P=E({tabbingDirection:"forwards"});k1(P)}}),b.jsx(Uy.Slot,{scope:t,children:b.jsx(Zn.ol,{tabIndex:-1,...i,ref:w})}),T&&b.jsx(E0,{ref:p,onFocusFromOutsideViewport:()=>{const P=E({tabbingDirection:"backwards"});k1(P)}})]})});I_.displayName=C_;var k_="ToastFocusProxy",E0=z.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,i=tg(k_,t);return b.jsx(eg,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var d;const c=a.relatedTarget;!((d=i.viewport)!=null&&d.contains(c))&&r()}})});E0.displayName=k_;var Lf="Toast",_P="toast.swipeStart",SP="toast.swipeMove",AP="toast.swipeCancel",EP="toast.swipeEnd",R_=z.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:i,...a}=n,[c,u]=Zm({prop:r,defaultProp:s??!0,onChange:i,caller:Lf});return b.jsx(yu,{present:t||c,children:b.jsx(PP,{open:c,...a,ref:e,onClose:()=>u(!1),onPause:fi(n.onPause),onResume:fi(n.onResume),onSwipeStart:vn(n.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:vn(n.onSwipeMove,d=>{const{x:p,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:vn(n.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:vn(n.onSwipeEnd,d=>{const{x:p,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),u(!1)})})})});R_.displayName=Lf;var[TP,NP]=N_(Lf,{onClose(){}}),PP=z.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:c,onPause:u,onResume:d,onSwipeStart:p,onSwipeMove:g,onSwipeCancel:w,onSwipeEnd:y,...T}=n,E=tg(Lf,t),[P,I]=z.useState(null),L=ks(e,ee=>I(ee)),F=z.useRef(null),H=z.useRef(null),te=s||E.duration,le=z.useRef(0),U=z.useRef(te),k=z.useRef(0),{onToastAdd:B,onToastRemove:W}=E,j=fi(()=>{var Ee;(P==null?void 0:P.contains(document.activeElement))&&((Ee=E.viewport)==null||Ee.focus()),a()}),D=z.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(k.current),le.current=new Date().getTime(),k.current=window.setTimeout(j,ee))},[j]);z.useEffect(()=>{const ee=E.viewport;if(ee){const Ee=()=>{D(U.current),d==null||d()},de=()=>{const Ae=new Date().getTime()-le.current;U.current=U.current-Ae,window.clearTimeout(k.current),u==null||u()};return ee.addEventListener(S0,de),ee.addEventListener(A0,Ee),()=>{ee.removeEventListener(S0,de),ee.removeEventListener(A0,Ee)}}},[E.viewport,te,u,d,D]),z.useEffect(()=>{i&&!E.isClosePausedRef.current&&D(te)},[i,te,E.isClosePausedRef,D]),z.useEffect(()=>(B(),()=>W()),[B,W]);const V=z.useMemo(()=>P?V_(P):null,[P]);return E.viewport?b.jsxs(b.Fragment,{children:[V&&b.jsx(CP,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),b.jsx(TP,{scope:t,onClose:j,children:Jm.createPortal(b.jsx(Uy.ItemSlot,{scope:t,children:b.jsx(oP,{asChild:!0,onEscapeKeyDown:vn(c,()=>{E.isFocusedToastEscapeKeyDownRef.current||j(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:b.jsx(Zn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":E.swipeDirection,...T,ref:L,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:vn(n.onKeyDown,ee=>{ee.key==="Escape"&&(c==null||c(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:vn(n.onPointerDown,ee=>{ee.button===0&&(F.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:vn(n.onPointerMove,ee=>{if(!F.current)return;const Ee=ee.clientX-F.current.x,de=ee.clientY-F.current.y,Ae=!!H.current,re=["left","right"].includes(E.swipeDirection),ye=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,fe=re?ye(0,Ee):0,oe=re?0:ye(0,de),M=ee.pointerType==="touch"?10:2,X={x:fe,y:oe},ie={originalEvent:ee,delta:X};Ae?(H.current=X,Rp(SP,g,ie,{discrete:!1})):z5(X,E.swipeDirection,M)?(H.current=X,Rp(_P,p,ie,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(Ee)>M||Math.abs(de)>M)&&(F.current=null)}),onPointerUp:vn(n.onPointerUp,ee=>{const Ee=H.current,de=ee.target;if(de.hasPointerCapture(ee.pointerId)&&de.releasePointerCapture(ee.pointerId),H.current=null,F.current=null,Ee){const Ae=ee.currentTarget,re={originalEvent:ee,delta:Ee};z5(Ee,E.swipeDirection,E.swipeThreshold)?Rp(EP,y,re,{discrete:!0}):Rp(AP,w,re,{discrete:!0}),Ae.addEventListener("click",ye=>ye.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),CP=n=>{const{__scopeToast:e,children:t,...r}=n,s=tg(Lf,e),[i,a]=z.useState(!1),[c,u]=z.useState(!1);return RP(()=>a(!0)),z.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:b.jsx(T_,{asChild:!0,children:b.jsx(eg,{...r,children:i&&b.jsxs(b.Fragment,{children:[s.label," ",t]})})})},IP="ToastTitle",L_=z.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return b.jsx(Zn.div,{...r,ref:e})});L_.displayName=IP;var kP="ToastDescription",j_=z.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return b.jsx(Zn.div,{...r,ref:e})});j_.displayName=kP;var D_="ToastAction",O_=z.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?b.jsx(F_,{altText:t,asChild:!0,children:b.jsx(zy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${D_}\`. Expected non-empty \`string\`.`),null)});O_.displayName=D_;var M_="ToastClose",zy=z.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=NP(M_,t);return b.jsx(F_,{asChild:!0,children:b.jsx(Zn.button,{type:"button",...r,ref:e,onClick:vn(n.onClick,s.onClose)})})});zy.displayName=M_;var F_=z.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return b.jsx(Zn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function V_(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),LP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...V_(r))}}),e}function Rp(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?__(s,i):s.dispatchEvent(i)}var z5=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),i=r>s;return e==="left"||e==="right"?i&&r>t:!i&&s>t};function RP(n=()=>{}){const e=fi(n);il(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function LP(n){return n.nodeType===n.ELEMENT_NODE}function jP(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function k1(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var DP=P_,B_=I_,U_=R_,z_=L_,q_=j_,$_=O_,H_=zy;const q5=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,$5=f_,qy=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return $5(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(d=>{const p=t==null?void 0:t[d],g=i==null?void 0:i[d];if(p===null)return null;const w=q5(p)||q5(g);return s[d][w]}),c=t&&Object.entries(t).reduce((d,p)=>{let[g,w]=p;return w===void 0||(d[g]=w),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,p)=>{let{class:g,className:w,...y}=p;return Object.entries(y).every(T=>{let[E,P]=T;return Array.isArray(P)?P.includes({...i,...c}[E]):{...i,...c}[E]===P})?[...d,g,w]:d},[]);return $5(n,a,u,t==null?void 0:t.class,t==null?void 0:t.className)};var OP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const MP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lt=(n,e)=>{const t=z.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:c,...u},d)=>z.createElement("svg",{ref:d,...OP,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:`lucide lucide-${MP(n)}`,...u},[...e.map(([p,g])=>z.createElement(p,g)),...(Array.isArray(c)?c:[c])||[]]));return t.displayName=`${n}`,t},Vl=Lt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),FP=Lt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),wa=Lt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),VP=Lt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),BP=Lt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),W_=Lt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),af=Lt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),UP=Lt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),zP=Lt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Hl=Lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),H5=Lt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),qP=Lt("DivideCircle",[["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}],["line",{x1:"12",x2:"12",y1:"16",y2:"16",key:"aqc6ln"}],["line",{x1:"12",x2:"12",y1:"8",y2:"8",key:"1mkcni"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),T0=Lt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),$P=Lt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),HP=Lt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),WP=Lt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),GP=Lt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),KP=Lt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),YP=Lt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),XP=Lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),QP=Lt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),JP=Lt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ZP=Lt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),eC=Lt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),tC=Lt("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),G_=Lt("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),K_=Lt("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]),N0=Lt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),nC=Lt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),W5=Lt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),G5=Lt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),rC=Lt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),id=Lt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Y_=Lt("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]),sC=Lt("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),iC=Lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),X_=Lt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oC=Lt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Q_=Lt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),aC=Lt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Fl=Lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),lC=Lt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),cC=Lt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),K5=Lt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),uC=Lt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Y5=Lt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),pm=Lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Qc=Lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),J_=Lt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),hC=Lt("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),$y=Lt("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Hy=Lt("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Xp=Lt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),dC=Lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fC=Lt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),pC=DP,Z_=zr.forwardRef(({className:n,...e},t)=>b.jsx(B_,{ref:t,className:Er("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));Z_.displayName=B_.displayName;const mC=qy("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eS=zr.forwardRef(({className:n,variant:e,...t},r)=>b.jsx(U_,{ref:r,className:Er(mC({variant:e}),n),...t}));eS.displayName=U_.displayName;const gC=zr.forwardRef(({className:n,...e},t)=>b.jsx($_,{ref:t,className:Er("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));gC.displayName=$_.displayName;const tS=zr.forwardRef(({className:n,...e},t)=>b.jsx(H_,{ref:t,className:Er("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),...e,children:b.jsx(dC,{className:"h-4 w-4"})}));tS.displayName=H_.displayName;const nS=zr.forwardRef(({className:n,...e},t)=>b.jsx(z_,{ref:t,className:Er("text-sm font-semibold",n),...e}));nS.displayName=z_.displayName;const rS=zr.forwardRef(({className:n,...e},t)=>b.jsx(q_,{ref:t,className:Er("text-sm opacity-90",n),...e}));rS.displayName=q_.displayName;const yC=1;let R1=0;function vC(){return R1=(R1+1)%Number.MAX_VALUE,R1.toString()}const $s={state:{toasts:[]},listeners:[],getState:()=>$s.state,setState:n=>{typeof n=="function"?$s.state=n($s.state):$s.state={...$s.state,...n},$s.listeners.forEach(e=>e($s.state))},subscribe:n=>($s.listeners.push(n),()=>{$s.listeners=$s.listeners.filter(e=>e!==n)})},sS=({...n})=>{const e=vC(),t=s=>$s.setState(i=>({...i,toasts:i.toasts.map(a=>a.id===e?{...a,...s}:a)})),r=()=>$s.setState(s=>({...s,toasts:s.toasts.filter(i=>i.id!==e)}));return $s.setState(s=>({...s,toasts:[{...n,id:e,onDismiss:r},...s.toasts].slice(0,yC)})),{id:e,dismiss:r,update:t}};sS.dismiss=n=>{n?$s.setState(e=>({...e,toasts:e.toasts.filter(t=>t.id!==n)})):$s.setState(e=>({...e,toasts:[]}))};function ng(){const[n,e]=z.useState($s.getState());return z.useEffect(()=>$s.subscribe(r=>{e(r)}),[]),z.useEffect(()=>{const t=[];return n.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.onDismiss()},r.duration||5e3);t.push(s)}),()=>{t.forEach(r=>clearTimeout(r))}},[n.toasts]),{toast:sS,toasts:n.toasts}}function wC(){const{toasts:n}=ng();return b.jsxs(pC,{children:[n.map(({id:e,title:t,description:r,action:s,onDismiss:i,...a})=>b.jsxs(eS,{...a,children:[b.jsxs("div",{className:"grid gap-1",children:[t&&b.jsx(nS,{children:t}),r&&b.jsx(rS,{children:r})]}),s&&zr.cloneElement(s,{onClick:i}),b.jsx(tS,{onClick:i})]},e)),b.jsx(Z_,{})]})}const xC=qy("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Jt=zr.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},i)=>{const a=r?WN:"button";return b.jsx(a,{className:Er(xC({variant:e,size:t,className:n})),ref:i,...s})});Jt.displayName="Button";const Wl=zr.forwardRef(({className:n,type:e,...t},r)=>b.jsx("input",{type:e,className:Er("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));Wl.displayName="Input";const iS=z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),rg=z.createContext({}),sg=z.createContext(null),ig=typeof document<"u",Wy=ig?z.useLayoutEffect:z.useEffect,oS=z.createContext({strict:!1}),Gy=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),bC="framerAppearId",aS="data-"+Gy(bC);function _C(n,e,t,r){const{visualElement:s}=z.useContext(rg),i=z.useContext(oS),a=z.useContext(sg),c=z.useContext(iS).reducedMotion,u=z.useRef();r=r||i.renderer,!u.current&&r&&(u.current=r(n,{visualState:e,parent:s,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const d=u.current;z.useInsertionEffect(()=>{d&&d.update(t,a)});const p=z.useRef(!!(t[aS]&&!window.HandoffComplete));return Wy(()=>{d&&(d.render(),p.current&&d.animationState&&d.animationState.animateChanges())}),z.useEffect(()=>{d&&(d.updateFeatures(),!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(p.current=!1,window.HandoffComplete=!0))}),d}function Uh(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function SC(n,e,t){return z.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Uh(t)&&(t.current=r))},[e])}function wf(n){return typeof n=="string"||Array.isArray(n)}function og(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Ky=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yy=["initial",...Ky];function ag(n){return og(n.animate)||Yy.some(e=>wf(n[e]))}function lS(n){return!!(ag(n)||n.variants)}function AC(n,e){if(ag(n)){const{initial:t,animate:r}=n;return{initial:t===!1||wf(t)?t:void 0,animate:wf(r)?r:void 0}}return n.inherit!==!1?e:{}}function EC(n){const{initial:e,animate:t}=AC(n,z.useContext(rg));return z.useMemo(()=>({initial:e,animate:t}),[X5(e),X5(t)])}function X5(n){return Array.isArray(n)?n.join(" "):n}const Q5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xf={};for(const n in Q5)xf[n]={isEnabled:e=>Q5[n].some(t=>!!e[t])};function TC(n){for(const e in n)xf[e]={...xf[e],...n[e]}}const Xy=z.createContext({}),cS=z.createContext({}),NC=Symbol.for("motionComponentSymbol");function PC({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){n&&TC(n);function i(c,u){let d;const p={...z.useContext(iS),...c,layoutId:CC(c)},{isStatic:g}=p,w=EC(c),y=r(c,g);if(!g&&ig){w.visualElement=_C(s,y,p,e);const T=z.useContext(cS),E=z.useContext(oS).strict;w.visualElement&&(d=w.visualElement.loadFeatures(p,E,n,T))}return z.createElement(rg.Provider,{value:w},d&&w.visualElement?z.createElement(d,{visualElement:w.visualElement,...p}):null,t(s,c,SC(y,w.visualElement,u),y,g,w.visualElement))}const a=z.forwardRef(i);return a[NC]=s,a}function CC({layoutId:n}){const e=z.useContext(Xy).id;return e&&n!==void 0?e+"-"+n:n}function IC(n){function e(r,s={}){return PC(n(r,s))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,s)=>(t.has(s)||t.set(s,e(s)),t.get(s))})}const kC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qy(n){return typeof n!="string"||n.includes("-")?!1:!!(kC.indexOf(n)>-1||/[A-Z]/.test(n))}const mm={};function RC(n){Object.assign(mm,n)}const jf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lh=new Set(jf);function uS(n,{layout:e,layoutId:t}){return lh.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!mm[n]||n==="opacity")}const Qi=n=>!!(n&&n.getVelocity),LC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jC=jf.length;function DC(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,s){let i="";for(let a=0;a<jC;a++){const c=jf[a];if(n[c]!==void 0){const u=LC[c]||c;i+=`${u}(${n[c]}) `}}return e&&!n.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(n,r?"":i):t&&r&&(i="none"),i}const hS=n=>e=>typeof e=="string"&&e.startsWith(n),dS=hS("--"),P0=hS("var(--"),OC=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,MC=(n,e)=>e&&typeof n=="number"?e.transform(n):n,su=(n,e,t)=>Math.min(Math.max(t,n),e),ch={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},lf={...ch,transform:n=>su(0,1,n)},Lp={...ch,default:1},cf=n=>Math.round(n*1e5)/1e5,lg=/(-)?([\d]*\.?[\d])+/g,fS=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,FC=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Df(n){return typeof n=="string"}const Of=n=>({test:e=>Df(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Bc=Of("deg"),Qa=Of("%"),zt=Of("px"),VC=Of("vh"),BC=Of("vw"),J5={...Qa,parse:n=>Qa.parse(n)/100,transform:n=>Qa.transform(n*100)},Z5={...ch,transform:Math.round},pS={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,size:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,rotate:Bc,rotateX:Bc,rotateY:Bc,rotateZ:Bc,scale:Lp,scaleX:Lp,scaleY:Lp,scaleZ:Lp,skew:Bc,skewX:Bc,skewY:Bc,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:lf,originX:J5,originY:J5,originZ:zt,zIndex:Z5,fillOpacity:lf,strokeOpacity:lf,numOctaves:Z5};function Jy(n,e,t,r){const{style:s,vars:i,transform:a,transformOrigin:c}=n;let u=!1,d=!1,p=!0;for(const g in e){const w=e[g];if(dS(g)){i[g]=w;continue}const y=pS[g],T=MC(w,y);if(lh.has(g)){if(u=!0,a[g]=T,!p)continue;w!==(y.default||0)&&(p=!1)}else g.startsWith("origin")?(d=!0,c[g]=T):s[g]=T}if(e.transform||(u||r?s.transform=DC(n.transform,t,p,r):s.transform&&(s.transform="none")),d){const{originX:g="50%",originY:w="50%",originZ:y=0}=c;s.transformOrigin=`${g} ${w} ${y}`}}const Zy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mS(n,e,t){for(const r in e)!Qi(e[r])&&!uS(r,t)&&(n[r]=e[r])}function UC({transformTemplate:n},e,t){return z.useMemo(()=>{const r=Zy();return Jy(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function zC(n,e,t){const r=n.style||{},s={};return mS(s,r,n),Object.assign(s,UC(n,e,t)),n.transformValues?n.transformValues(s):s}function qC(n,e,t){const r={},s=zC(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=s,r}const $C=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||$C.has(n)}let gS=n=>!gm(n);function HC(n){n&&(gS=e=>e.startsWith("on")?!gm(e):n(e))}try{HC(require("@emotion/is-prop-valid").default)}catch{}function WC(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(gS(s)||t===!0&&gm(s)||!e&&!gm(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function ew(n,e,t){return typeof n=="string"?n:zt.transform(e+t*n)}function GC(n,e,t){const r=ew(e,n.x,n.width),s=ew(t,n.y,n.height);return`${r} ${s}`}const KC={offset:"stroke-dashoffset",array:"stroke-dasharray"},YC={offset:"strokeDashoffset",array:"strokeDasharray"};function XC(n,e,t=1,r=0,s=!0){n.pathLength=1;const i=s?KC:YC;n[i.offset]=zt.transform(-r);const a=zt.transform(e),c=zt.transform(t);n[i.array]=`${a} ${c}`}function ev(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:c=1,pathOffset:u=0,...d},p,g,w){if(Jy(n,d,p,w),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:T,dimensions:E}=n;y.transform&&(E&&(T.transform=y.transform),delete y.transform),E&&(s!==void 0||i!==void 0||T.transform)&&(T.transformOrigin=GC(E,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),r!==void 0&&(y.scale=r),a!==void 0&&XC(y,a,c,u,!1)}const yS=()=>({...Zy(),attrs:{}}),tv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function QC(n,e,t,r){const s=z.useMemo(()=>{const i=yS();return ev(i,e,{enableHardwareAcceleration:!1},tv(r),n.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(n.style){const i={};mS(i,n.style,n),s.style={...i,...s.style}}return s}function JC(n=!1){return(t,r,s,{latestValues:i},a)=>{const u=(Qy(t)?QC:qC)(r,i,a,t),p={...WC(r,typeof t=="string",n),...u,ref:s},{children:g}=r,w=z.useMemo(()=>Qi(g)?g.get():g,[g]);return z.createElement(t,{...p,children:w})}}function vS(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const i in t)n.style.setProperty(i,t[i])}const wS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xS(n,e,t,r){vS(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(wS.has(s)?s:Gy(s),e.attrs[s])}function nv(n,e){const{style:t}=n,r={};for(const s in t)(Qi(t[s])||e.style&&Qi(e.style[s])||uS(s,n))&&(r[s]=t[s]);return r}function bS(n,e){const t=nv(n,e);for(const r in n)if(Qi(n[r])||Qi(e[r])){const s=jf.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[s]=n[r]}return t}function rv(n,e,t,r={},s={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),e}function _S(n){const e=z.useRef(null);return e.current===null&&(e.current=n()),e.current}const ym=n=>Array.isArray(n),ZC=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),eI=n=>ym(n)?n[n.length-1]||0:n;function Qp(n){const e=Qi(n)?n.get():n;return ZC(e)?e.toValue():e}function tI({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,s,i){const a={latestValues:nI(r,s,i,n),renderState:e()};return t&&(a.mount=c=>t(r,c,a)),a}const SS=n=>(e,t)=>{const r=z.useContext(rg),s=z.useContext(sg),i=()=>tI(n,e,r,s);return t?i():_S(i)};function nI(n,e,t,r){const s={},i=r(n,{});for(const w in i)s[w]=Qp(i[w]);let{initial:a,animate:c}=n;const u=ag(n),d=lS(n);e&&d&&!u&&n.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let p=t?t.initial===!1:!1;p=p||a===!1;const g=p?c:a;return g&&typeof g!="boolean"&&!og(g)&&(Array.isArray(g)?g:[g]).forEach(y=>{const T=rv(n,y);if(!T)return;const{transitionEnd:E,transition:P,...I}=T;for(const L in I){let F=I[L];if(Array.isArray(F)){const H=p?F.length-1:0;F=F[H]}F!==null&&(s[L]=F)}for(const L in E)s[L]=E[L]}),s}const Wr=n=>n;class tw{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function rI(n){let e=new tw,t=new tw,r=0,s=!1,i=!1;const a=new WeakSet,c={schedule:(u,d=!1,p=!1)=>{const g=p&&s,w=g?e:t;return d&&a.add(u),w.add(u)&&g&&s&&(r=e.order.length),u},cancel:u=>{t.remove(u),a.delete(u)},process:u=>{if(s){i=!0;return}if(s=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const p=e.order[d];p(u),a.has(p)&&(c.schedule(p),n())}s=!1,i&&(i=!1,c.process(u))}};return c}const jp=["prepare","read","update","preRender","render","postRender"],sI=40;function iI(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=jp.reduce((g,w)=>(g[w]=rI(()=>t=!0),g),{}),a=g=>i[g].process(s),c=()=>{const g=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,sI),1),s.timestamp=g,s.isProcessing=!0,jp.forEach(a),s.isProcessing=!1,t&&e&&(r=!1,n(c))},u=()=>{t=!0,r=!0,s.isProcessing||n(c)};return{schedule:jp.reduce((g,w)=>{const y=i[w];return g[w]=(T,E=!1,P=!1)=>(t||u(),y.schedule(T,E,P)),g},{}),cancel:g=>jp.forEach(w=>i[w].cancel(g)),state:s,steps:i}}const{schedule:sr,cancel:Gl,state:ui,steps:L1}=iI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wr,!0),oI={useVisualState:SS({scrapeMotionValuesFromProps:bS,createRenderState:yS,onMount:(n,e,{renderState:t,latestValues:r})=>{sr.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),sr.render(()=>{ev(t,r,{enableHardwareAcceleration:!1},tv(e.tagName),n.transformTemplate),xS(e,t)})}})},aI={useVisualState:SS({scrapeMotionValuesFromProps:nv,createRenderState:Zy})};function lI(n,{forwardMotionProps:e=!1},t,r){return{...Qy(n)?oI:aI,preloadedFeatures:t,useRender:JC(e),createVisualElement:r,Component:n}}function Bl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const AS=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function cg(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const cI=n=>e=>AS(e)&&n(e,cg(e));function ql(n,e,t,r){return Bl(n,e,cI(t),r)}const uI=(n,e)=>t=>e(n(t)),Jc=(...n)=>n.reduce(uI);function ES(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const nw=ES("dragHorizontal"),rw=ES("dragVertical");function TS(n){let e=!1;if(n==="y")e=rw();else if(n==="x")e=nw();else{const t=nw(),r=rw();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function NS(){const n=TS(!0);return n?(n(),!1):!0}class vu{constructor(e){this.isMounted=!1,this.node=e}update(){}}function sw(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,a)=>{if(i.pointerType==="touch"||NS())return;const c=n.getProps();n.animationState&&c.whileHover&&n.animationState.setActive("whileHover",e),c[r]&&sr.update(()=>c[r](i,a))};return ql(n.current,t,s,{passive:!n.getProps()[r]})}class hI extends vu{mount(){this.unmount=Jc(sw(this.node,!0),sw(this.node,!1))}unmount(){}}class dI extends vu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jc(Bl(this.node.current,"focus",()=>this.onFocus()),Bl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const PS=(n,e)=>e?n===e?!0:PS(n,e.parentElement):!1;function j1(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,cg(t))}class fI extends vu{constructor(){super(...arguments),this.removeStartListeners=Wr,this.removeEndListeners=Wr,this.removeAccessibleListeners=Wr,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=ql(window,"pointerup",(c,u)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:p,globalTapTarget:g}=this.node.getProps();sr.update(()=>{!g&&!PS(this.node.current,c.target)?p&&p(c,u):d&&d(c,u)})},{passive:!(r.onTap||r.onPointerUp)}),a=ql(window,"pointercancel",(c,u)=>this.cancelPress(c,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Jc(i,a),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=c=>{c.key!=="Enter"||!this.checkPressEnd()||j1("up",(u,d)=>{const{onTap:p}=this.node.getProps();p&&sr.update(()=>p(u,d))})};this.removeEndListeners(),this.removeEndListeners=Bl(this.node.current,"keyup",a),j1("down",(c,u)=>{this.startPress(c,u)})},t=Bl(this.node.current,"keydown",e),r=()=>{this.isPressing&&j1("cancel",(i,a)=>this.cancelPress(i,a))},s=Bl(this.node.current,"blur",r);this.removeAccessibleListeners=Jc(t,s)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&sr.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!NS()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&sr.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=ql(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Bl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Jc(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const C0=new WeakMap,D1=new WeakMap,pI=n=>{const e=C0.get(n.target);e&&e(n)},mI=n=>{n.forEach(pI)};function gI({root:n,...e}){const t=n||document;D1.has(t)||D1.set(t,{});const r=D1.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(mI,{root:n,...e})),r[s]}function yI(n,e,t){const r=gI(e);return C0.set(n,t),r.observe(n),()=>{C0.delete(n),r.unobserve(n)}}const vI={some:0,all:1};class wI extends vu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:vI[s]},c=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),w=d?p:g;w&&w(u)};return yI(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(xI(e,t))&&this.startObserver()}unmount(){}}function xI({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const bI={inView:{Feature:wI},tap:{Feature:fI},focus:{Feature:dI},hover:{Feature:hI}};function CS(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function _I(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function SI(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function ug(n,e,t){const r=n.getProps();return rv(r,e,t!==void 0?t:r.custom,_I(n),SI(n))}let sv=Wr;const Yu=n=>n*1e3,$l=n=>n/1e3,AI={current:!1},IS=n=>Array.isArray(n)&&typeof n[0]=="number";function kS(n){return!!(!n||typeof n=="string"&&RS[n]||IS(n)||Array.isArray(n)&&n.every(kS))}const tf=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,RS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tf([0,.65,.55,1]),circOut:tf([.55,0,1,.45]),backIn:tf([.31,.01,.66,-.59]),backOut:tf([.33,1.53,.69,.99])};function LS(n){if(n)return IS(n)?tf(n):Array.isArray(n)?n.map(LS):RS[n]}function EI(n,e,t,{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:c,times:u}={}){const d={[e]:t};u&&(d.offset=u);const p=LS(c);return Array.isArray(p)&&(d.easing=p),n.animate(d,{delay:r,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function TI(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const jS=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,NI=1e-7,PI=12;function CI(n,e,t,r,s){let i,a,c=0;do a=e+(t-e)/2,i=jS(a,r,s)-n,i>0?t=a:e=a;while(Math.abs(i)>NI&&++c<PI);return a}function Mf(n,e,t,r){if(n===e&&t===r)return Wr;const s=i=>CI(i,0,1,n,t);return i=>i===0||i===1?i:jS(s(i),e,r)}const II=Mf(.42,0,1,1),kI=Mf(0,0,.58,1),DS=Mf(.42,0,.58,1),RI=n=>Array.isArray(n)&&typeof n[0]!="number",OS=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,MS=n=>e=>1-n(1-e),iv=n=>1-Math.sin(Math.acos(n)),FS=MS(iv),LI=OS(iv),VS=Mf(.33,1.53,.69,.99),ov=MS(VS),jI=OS(ov),DI=n=>(n*=2)<1?.5*ov(n):.5*(2-Math.pow(2,-10*(n-1))),OI={linear:Wr,easeIn:II,easeInOut:DS,easeOut:kI,circIn:iv,circInOut:LI,circOut:FS,backIn:ov,backInOut:jI,backOut:VS,anticipate:DI},iw=n=>{if(Array.isArray(n)){sv(n.length===4);const[e,t,r,s]=n;return Mf(e,t,r,s)}else if(typeof n=="string")return OI[n];return n},av=(n,e)=>t=>!!(Df(t)&&FC.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),BS=(n,e,t)=>r=>{if(!Df(r))return r;const[s,i,a,c]=r.match(lg);return{[n]:parseFloat(s),[e]:parseFloat(i),[t]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},MI=n=>su(0,255,n),O1={...ch,transform:n=>Math.round(MI(n))},Gu={test:av("rgb","red"),parse:BS("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+O1.transform(n)+", "+O1.transform(e)+", "+O1.transform(t)+", "+cf(lf.transform(r))+")"};function FI(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const I0={test:av("#"),parse:FI,transform:Gu.transform},zh={test:av("hsl","hue"),parse:BS("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Qa.transform(cf(e))+", "+Qa.transform(cf(t))+", "+cf(lf.transform(r))+")"},ki={test:n=>Gu.test(n)||I0.test(n)||zh.test(n),parse:n=>Gu.test(n)?Gu.parse(n):zh.test(n)?zh.parse(n):I0.parse(n),transform:n=>Df(n)?n:n.hasOwnProperty("red")?Gu.transform(n):zh.transform(n)},Sr=(n,e,t)=>-t*n+t*e+n;function M1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function VI({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,i=0,a=0;if(!e)s=i=a=t;else{const c=t<.5?t*(1+e):t+e-t*e,u=2*t-c;s=M1(u,c,n+1/3),i=M1(u,c,n),a=M1(u,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const F1=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},BI=[I0,Gu,zh],UI=n=>BI.find(e=>e.test(n));function ow(n){const e=UI(n);let t=e.parse(n);return e===zh&&(t=VI(t)),t}const US=(n,e)=>{const t=ow(n),r=ow(e),s={...t};return i=>(s.red=F1(t.red,r.red,i),s.green=F1(t.green,r.green,i),s.blue=F1(t.blue,r.blue,i),s.alpha=Sr(t.alpha,r.alpha,i),Gu.transform(s))};function zI(n){var e,t;return isNaN(n)&&Df(n)&&(((e=n.match(lg))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(fS))===null||t===void 0?void 0:t.length)||0)>0}const zS={regex:OC,countKey:"Vars",token:"${v}",parse:Wr},qS={regex:fS,countKey:"Colors",token:"${c}",parse:ki.parse},$S={regex:lg,countKey:"Numbers",token:"${n}",parse:ch.parse};function V1(n,{regex:e,countKey:t,token:r,parse:s}){const i=n.tokenised.match(e);i&&(n["num"+t]=i.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...i.map(s)))}function vm(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&V1(t,zS),V1(t,qS),V1(t,$S),t}function HS(n){return vm(n).values}function WS(n){const{values:e,numColors:t,numVars:r,tokenised:s}=vm(n),i=e.length;return a=>{let c=s;for(let u=0;u<i;u++)u<r?c=c.replace(zS.token,a[u]):u<r+t?c=c.replace(qS.token,ki.transform(a[u])):c=c.replace($S.token,cf(a[u]));return c}}const qI=n=>typeof n=="number"?0:n;function $I(n){const e=HS(n);return WS(n)(e.map(qI))}const iu={test:zI,parse:HS,createTransformer:WS,getAnimatableNone:$I},GS=(n,e)=>t=>`${t>0?e:n}`;function KS(n,e){return typeof n=="number"?t=>Sr(n,e,t):ki.test(n)?US(n,e):n.startsWith("var(")?GS(n,e):XS(n,e)}const YS=(n,e)=>{const t=[...n],r=t.length,s=n.map((i,a)=>KS(i,e[a]));return i=>{for(let a=0;a<r;a++)t[a]=s[a](i);return t}},HI=(n,e)=>{const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=KS(n[s],e[s]));return s=>{for(const i in r)t[i]=r[i](s);return t}},XS=(n,e)=>{const t=iu.createTransformer(e),r=vm(n),s=vm(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Jc(YS(r.values,s.values),t):GS(n,e)},bf=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},aw=(n,e)=>t=>Sr(n,e,t);function WI(n){return typeof n=="number"?aw:typeof n=="string"?ki.test(n)?US:XS:Array.isArray(n)?YS:typeof n=="object"?HI:aw}function GI(n,e,t){const r=[],s=t||WI(n[0]),i=n.length-1;for(let a=0;a<i;a++){let c=s(n[a],n[a+1]);if(e){const u=Array.isArray(e)?e[a]||Wr:e;c=Jc(u,c)}r.push(c)}return r}function QS(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const i=n.length;if(sv(i===e.length),i===1)return()=>e[0];n[0]>n[i-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=GI(e,r,s),c=a.length,u=d=>{let p=0;if(c>1)for(;p<n.length-2&&!(d<n[p+1]);p++);const g=bf(n[p],n[p+1],d);return a[p](g)};return t?d=>u(su(n[0],n[i-1],d)):u}function KI(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=bf(0,e,r);n.push(Sr(t,1,s))}}function YI(n){const e=[0];return KI(e,n.length-1),e}function XI(n,e){return n.map(t=>t*e)}function QI(n,e){return n.map(()=>e||DS).splice(0,n.length-1)}function wm({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=RI(r)?r.map(iw):iw(r),i={done:!1,value:e[0]},a=XI(t&&t.length===e.length?t:YI(e),n),c=QS(a,e,{ease:Array.isArray(s)?s:QI(e,s)});return{calculatedDuration:n,next:u=>(i.value=c(u),i.done=u>=n,i)}}function JS(n,e){return e?n*(1e3/e):0}const JI=5;function ZS(n,e,t){const r=Math.max(e-JI,0);return JS(t-n(r),e-r)}const B1=.001,ZI=.01,ek=10,tk=.05,nk=1;function rk({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let s,i,a=1-e;a=su(tk,nk,a),n=su(ZI,ek,$l(n)),a<1?(s=d=>{const p=d*a,g=p*n,w=p-t,y=k0(d,a),T=Math.exp(-g);return B1-w/y*T},i=d=>{const g=d*a*n,w=g*t+t,y=Math.pow(a,2)*Math.pow(d,2)*n,T=Math.exp(-g),E=k0(Math.pow(d,2),a);return(-s(d)+B1>0?-1:1)*((w-y)*T)/E}):(s=d=>{const p=Math.exp(-d*n),g=(d-t)*n+1;return-B1+p*g},i=d=>{const p=Math.exp(-d*n),g=(t-d)*(n*n);return p*g});const c=5/n,u=ik(s,i,c);if(n=Yu(n),isNaN(u))return{stiffness:100,damping:10,duration:n};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:n}}}const sk=12;function ik(n,e,t){let r=t;for(let s=1;s<sk;s++)r=r-n(r)/e(r);return r}function k0(n,e){return n*Math.sqrt(1-e*e)}const ok=["duration","bounce"],ak=["stiffness","damping","mass"];function lw(n,e){return e.some(t=>n[t]!==void 0)}function lk(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!lw(n,ak)&&lw(n,ok)){const t=rk(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function e4({keyframes:n,restDelta:e,restSpeed:t,...r}){const s=n[0],i=n[n.length-1],a={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:p,velocity:g,isResolvedFromDuration:w}=lk({...r,velocity:-$l(r.velocity||0)}),y=g||0,T=u/(2*Math.sqrt(c*d)),E=i-s,P=$l(Math.sqrt(c/d)),I=Math.abs(E)<5;t||(t=I?.01:2),e||(e=I?.005:.5);let L;if(T<1){const F=k0(P,T);L=H=>{const te=Math.exp(-T*P*H);return i-te*((y+T*P*E)/F*Math.sin(F*H)+E*Math.cos(F*H))}}else if(T===1)L=F=>i-Math.exp(-P*F)*(E+(y+P*E)*F);else{const F=P*Math.sqrt(T*T-1);L=H=>{const te=Math.exp(-T*P*H),le=Math.min(F*H,300);return i-te*((y+T*P*E)*Math.sinh(le)+F*E*Math.cosh(le))/F}}return{calculatedDuration:w&&p||null,next:F=>{const H=L(F);if(w)a.done=F>=p;else{let te=y;F!==0&&(T<1?te=ZS(L,F,H):te=0);const le=Math.abs(te)<=t,U=Math.abs(i-H)<=e;a.done=le&&U}return a.value=a.done?i:H,a}}}function cw({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:c,max:u,restDelta:d=.5,restSpeed:p}){const g=n[0],w={done:!1,value:g},y=k=>c!==void 0&&k<c||u!==void 0&&k>u,T=k=>c===void 0?u:u===void 0||Math.abs(c-k)<Math.abs(u-k)?c:u;let E=t*e;const P=g+E,I=a===void 0?P:a(P);I!==P&&(E=I-g);const L=k=>-E*Math.exp(-k/r),F=k=>I+L(k),H=k=>{const B=L(k),W=F(k);w.done=Math.abs(B)<=d,w.value=w.done?I:W};let te,le;const U=k=>{y(w.value)&&(te=k,le=e4({keyframes:[w.value,T(w.value)],velocity:ZS(F,k,w.value),damping:s,stiffness:i,restDelta:d,restSpeed:p}))};return U(0),{calculatedDuration:null,next:k=>{let B=!1;return!le&&te===void 0&&(B=!0,H(k),U(k)),te!==void 0&&k>te?le.next(k-te):(!B&&H(k),w)}}}const ck=n=>{const e=({timestamp:t})=>n(t);return{start:()=>sr.update(e,!0),stop:()=>Gl(e),now:()=>ui.isProcessing?ui.timestamp:performance.now()}},uw=2e4;function hw(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<uw;)e+=t,r=n.next(e);return e>=uw?1/0:e}const uk={decay:cw,inertia:cw,tween:wm,keyframes:wm,spring:e4};function xm({autoplay:n=!0,delay:e=0,driver:t=ck,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:c="loop",onPlay:u,onStop:d,onComplete:p,onUpdate:g,...w}){let y=1,T=!1,E,P;const I=()=>{P=new Promise(oe=>{E=oe})};I();let L;const F=uk[s]||wm;let H;F!==wm&&typeof r[0]!="number"&&(H=QS([0,100],r,{clamp:!1}),r=[0,100]);const te=F({...w,keyframes:r});let le;c==="mirror"&&(le=F({...w,keyframes:[...r].reverse(),velocity:-(w.velocity||0)}));let U="idle",k=null,B=null,W=null;te.calculatedDuration===null&&i&&(te.calculatedDuration=hw(te));const{calculatedDuration:j}=te;let D=1/0,V=1/0;j!==null&&(D=j+a,V=D*(i+1)-a);let ee=0;const Ee=oe=>{if(B===null)return;y>0&&(B=Math.min(B,oe)),y<0&&(B=Math.min(oe-V/y,B)),k!==null?ee=k:ee=Math.round(oe-B)*y;const M=ee-e*(y>=0?1:-1),X=y>=0?M<0:M>V;ee=Math.max(M,0),U==="finished"&&k===null&&(ee=V);let ie=ee,he=te;if(i){const ge=Math.min(ee,V)/D;let xe=Math.floor(ge),je=ge%1;!je&&ge>=1&&(je=1),je===1&&xe--,xe=Math.min(xe,i+1),!!(xe%2)&&(c==="reverse"?(je=1-je,a&&(je-=a/D)):c==="mirror"&&(he=le)),ie=su(0,1,je)*D}const me=X?{done:!1,value:r[0]}:he.next(ie);H&&(me.value=H(me.value));let{done:ne}=me;!X&&j!==null&&(ne=y>=0?ee>=V:ee<=0);const ce=k===null&&(U==="finished"||U==="running"&&ne);return g&&g(me.value),ce&&re(),me},de=()=>{L&&L.stop(),L=void 0},Ae=()=>{U="idle",de(),E(),I(),B=W=null},re=()=>{U="finished",p&&p(),de(),E()},ye=()=>{if(T)return;L||(L=t(Ee));const oe=L.now();u&&u(),k!==null?B=oe-k:(!B||U==="finished")&&(B=oe),U==="finished"&&I(),W=B,k=null,U="running",L.start()};n&&ye();const fe={then(oe,M){return P.then(oe,M)},get time(){return $l(ee)},set time(oe){oe=Yu(oe),ee=oe,k!==null||!L||y===0?k=oe:B=L.now()-oe/y},get duration(){const oe=te.calculatedDuration===null?hw(te):te.calculatedDuration;return $l(oe)},get speed(){return y},set speed(oe){oe===y||!L||(y=oe,fe.time=$l(ee))},get state(){return U},play:ye,pause:()=>{U="paused",k=ee},stop:()=>{T=!0,U!=="idle"&&(U="idle",d&&d(),Ae())},cancel:()=>{W!==null&&Ee(W),Ae()},complete:()=>{U="finished"},sample:oe=>(B=0,Ee(oe))};return fe}function hk(n){let e;return()=>(e===void 0&&(e=n()),e)}const dk=hk(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fk=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Dp=10,pk=2e4,mk=(n,e)=>e.type==="spring"||n==="backgroundColor"||!kS(e.ease);function gk(n,e,{onUpdate:t,onComplete:r,...s}){if(!(dk()&&fk.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,c,u,d=!1;const p=()=>{u=new Promise(F=>{c=F})};p();let{keyframes:g,duration:w=300,ease:y,times:T}=s;if(mk(e,s)){const F=xm({...s,repeat:0,delay:0});let H={done:!1,value:g[0]};const te=[];let le=0;for(;!H.done&&le<pk;)H=F.sample(le),te.push(H.value),le+=Dp;T=void 0,g=te,w=le-Dp,y="linear"}const E=EI(n.owner.current,e,g,{...s,duration:w,ease:y,times:T}),P=()=>{d=!1,E.cancel()},I=()=>{d=!0,sr.update(P),c(),p()};return E.onfinish=()=>{d||(n.set(TI(g,s)),r&&r(),I())},{then(F,H){return u.then(F,H)},attachTimeline(F){return E.timeline=F,E.onfinish=null,Wr},get time(){return $l(E.currentTime||0)},set time(F){E.currentTime=Yu(F)},get speed(){return E.playbackRate},set speed(F){E.playbackRate=F},get duration(){return $l(w)},play:()=>{a||(E.play(),Gl(P))},pause:()=>E.pause(),stop:()=>{if(a=!0,E.playState==="idle")return;const{currentTime:F}=E;if(F){const H=xm({...s,autoplay:!1});n.setWithVelocity(H.sample(F-Dp).value,H.sample(F).value,Dp)}I()},complete:()=>{d||E.finish()},cancel:I}}function yk({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const s=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Wr,pause:Wr,stop:Wr,then:i=>(i(),Promise.resolve()),cancel:Wr,complete:Wr});return e?xm({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const vk={type:"spring",stiffness:500,damping:25,restSpeed:10},wk=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),xk={type:"keyframes",duration:.8},bk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_k=(n,{keyframes:e})=>e.length>2?xk:lh.has(n)?n.startsWith("scale")?wk(e[1]):vk:bk,R0=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(iu.test(e)||e==="0")&&!e.startsWith("url(")),Sk=new Set(["brightness","contrast","saturate","opacity"]);function Ak(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(lg)||[];if(!r)return n;const s=t.replace(r,"");let i=Sk.has(e)?1:0;return r!==t&&(i*=100),e+"("+i+s+")"}const Ek=/([a-z-]*)\(.*?\)/g,L0={...iu,getAnimatableNone:n=>{const e=n.match(Ek);return e?e.map(Ak).join(" "):n}},Tk={...pS,color:ki,backgroundColor:ki,outlineColor:ki,fill:ki,stroke:ki,borderColor:ki,borderTopColor:ki,borderRightColor:ki,borderBottomColor:ki,borderLeftColor:ki,filter:L0,WebkitFilter:L0},lv=n=>Tk[n];function t4(n,e){let t=lv(n);return t!==L0&&(t=iu),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const n4=n=>/^0[^.\s]+$/.test(n);function Nk(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||n4(n)}function Pk(n,e,t,r){const s=R0(e,t);let i;Array.isArray(t)?i=[...t]:i=[null,t];const a=r.from!==void 0?r.from:n.get();let c;const u=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?a:i[d-1]),Nk(i[d])&&u.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(c=i[d]);if(s&&u.length&&c)for(let d=0;d<u.length;d++){const p=u[d];i[p]=t4(e,c)}return i}function Ck({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:c,from:u,elapsed:d,...p}){return!!Object.keys(p).length}function cv(n,e){return n[e]||n.default||n}const Ik={skipAnimations:!1},uv=(n,e,t,r={})=>s=>{const i=cv(r,n)||{},a=i.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Yu(a);const u=Pk(e,n,t,i),d=u[0],p=u[u.length-1],g=R0(n,d),w=R0(n,p);let y={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-c,onUpdate:T=>{e.set(T),i.onUpdate&&i.onUpdate(T)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(Ck(i)||(y={...y,..._k(n,y)}),y.duration&&(y.duration=Yu(y.duration)),y.repeatDelay&&(y.repeatDelay=Yu(y.repeatDelay)),!g||!w||AI.current||i.type===!1||Ik.skipAnimations)return yk(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=gk(e,n,y);if(T)return T}return xm(y)};function bm(n){return!!(Qi(n)&&n.add)}const r4=n=>/^\-?\d*\.?\d+$/.test(n);function hv(n,e){n.indexOf(e)===-1&&n.push(e)}function dv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class fv{constructor(){this.subscriptions=[]}add(e){return hv(this.subscriptions,e),()=>dv(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kk=n=>!isNaN(parseFloat(n));class Rk{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=ui;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,sr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>sr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=kk(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new fv);const r=this.events[e].add(t);return e==="change"?()=>{r(),sr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?JS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function od(n,e){return new Rk(n,e)}const s4=n=>e=>e.test(n),Lk={test:n=>n==="auto",parse:n=>n},i4=[ch,zt,Qa,Bc,BC,VC,Lk],Xd=n=>i4.find(s4(n)),jk=[...i4,ki,iu],Dk=n=>jk.find(s4(n));function Ok(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,od(t))}function Mk(n,e){const t=ug(n,e);let{transitionEnd:r={},transition:s={},...i}=t?n.makeTargetAnimatable(t,!1):{};i={...i,...r};for(const a in i){const c=eI(i[a]);Ok(n,a,c)}}function Fk(n,e,t){var r,s;const i=Object.keys(e).filter(c=>!n.hasValue(c)),a=i.length;if(a)for(let c=0;c<a;c++){const u=i[c],d=e[u];let p=null;Array.isArray(d)&&(p=d[0]),p===null&&(p=(s=(r=t[u])!==null&&r!==void 0?r:n.readValue(u))!==null&&s!==void 0?s:e[u]),p!=null&&(typeof p=="string"&&(r4(p)||n4(p))?p=parseFloat(p):!Dk(p)&&iu.test(d)&&(p=t4(u,d)),n.addValue(u,od(p,{owner:n})),t[u]===void 0&&(t[u]=p),p!==null&&n.setBaseTarget(u,p))}}function Vk(n,e){return e?(e[n]||e.default||e).from:void 0}function Bk(n,e,t){const r={};for(const s in n){const i=Vk(s,e);if(i!==void 0)r[s]=i;else{const a=t.getValue(s);a&&(r[s]=a.get())}}return r}function Uk({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function zk(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function o4(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:i=n.getDefaultTransition(),transitionEnd:a,...c}=n.makeTargetAnimatable(e);const u=n.getValue("willChange");r&&(i=r);const d=[],p=s&&n.animationState&&n.animationState.getState()[s];for(const g in c){const w=n.getValue(g),y=c[g];if(!w||y===void 0||p&&Uk(p,g))continue;const T={delay:t,elapsed:0,...cv(i||{},g)};if(window.HandoffAppearAnimations){const I=n.getProps()[aS];if(I){const L=window.HandoffAppearAnimations(I,g,w,sr);L!==null&&(T.elapsed=L,T.isHandoff=!0)}}let E=!T.isHandoff&&!zk(w,y);if(T.type==="spring"&&(w.getVelocity()||T.velocity)&&(E=!1),w.animation&&(E=!1),E)continue;w.start(uv(g,w,y,n.shouldReduceMotion&&lh.has(g)?{type:!1}:T));const P=w.animation;bm(u)&&(u.add(g),P.then(()=>u.remove(g))),d.push(P)}return a&&Promise.all(d).then(()=>{a&&Mk(n,a)}),d}function j0(n,e,t={}){const r=ug(n,e,t.custom);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const i=r?()=>Promise.all(o4(n,r,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:g}=s;return qk(n,e,d+u,p,g,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(t.delay)])}function qk(n,e,t=0,r=0,s=1,i){const a=[],c=(n.variantChildren.size-1)*r,u=s===1?(d=0)=>d*r:(d=0)=>c-d*r;return Array.from(n.variantChildren).sort($k).forEach((d,p)=>{d.notify("AnimationStart",e),a.push(j0(d,e,{...i,delay:t+u(p)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function $k(n,e){return n.sortNodePosition(e)}function Hk(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>j0(n,i,t));r=Promise.all(s)}else if(typeof e=="string")r=j0(n,e,t);else{const s=typeof e=="function"?ug(n,e,t.custom):e;r=Promise.all(o4(n,s,t))}return r.then(()=>n.notify("AnimationComplete",e))}const Wk=[...Ky].reverse(),Gk=Ky.length;function Kk(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Hk(n,t,r)))}function Yk(n){let e=Kk(n);const t=Qk();let r=!0;const s=(u,d)=>{const p=ug(n,d);if(p){const{transition:g,transitionEnd:w,...y}=p;u={...u,...y,...w}}return u};function i(u){e=u(n)}function a(u,d){const p=n.getProps(),g=n.getVariantContext(!0)||{},w=[],y=new Set;let T={},E=1/0;for(let I=0;I<Gk;I++){const L=Wk[I],F=t[L],H=p[L]!==void 0?p[L]:g[L],te=wf(H),le=L===d?F.isActive:null;le===!1&&(E=I);let U=H===g[L]&&H!==p[L]&&te;if(U&&r&&n.manuallyAnimateOnMount&&(U=!1),F.protectedKeys={...T},!F.isActive&&le===null||!H&&!F.prevProp||og(H)||typeof H=="boolean")continue;let B=Xk(F.prevProp,H)||L===d&&F.isActive&&!U&&te||I>E&&te,W=!1;const j=Array.isArray(H)?H:[H];let D=j.reduce(s,{});le===!1&&(D={});const{prevResolvedValues:V={}}=F,ee={...V,...D},Ee=de=>{B=!0,y.has(de)&&(W=!0,y.delete(de)),F.needsAnimating[de]=!0};for(const de in ee){const Ae=D[de],re=V[de];if(T.hasOwnProperty(de))continue;let ye=!1;ym(Ae)&&ym(re)?ye=!CS(Ae,re):ye=Ae!==re,ye?Ae!==void 0?Ee(de):y.add(de):Ae!==void 0&&y.has(de)?Ee(de):F.protectedKeys[de]=!0}F.prevProp=H,F.prevResolvedValues=D,F.isActive&&(T={...T,...D}),r&&n.blockInitialAnimation&&(B=!1),B&&(!U||W)&&w.push(...j.map(de=>({animation:de,options:{type:L,...u}})))}if(y.size){const I={};y.forEach(L=>{const F=n.getBaseTarget(L);F!==void 0&&(I[L]=F)}),w.push({animation:I})}let P=!!w.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(w):Promise.resolve()}function c(u,d,p){var g;if(t[u].isActive===d)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(y=>{var T;return(T=y.animationState)===null||T===void 0?void 0:T.setActive(u,d)}),t[u].isActive=d;const w=a(p,u);for(const y in t)t[y].protectedKeys={};return w}return{animateChanges:a,setActive:c,setAnimateFunction:i,getState:()=>t}}function Xk(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!CS(e,n):!1}function Vu(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qk(){return{animate:Vu(!0),whileInView:Vu(),whileHover:Vu(),whileTap:Vu(),whileDrag:Vu(),whileFocus:Vu(),exit:Vu()}}class Jk extends vu{constructor(e){super(e),e.animationState||(e.animationState=Yk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),og(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let Zk=0;class e6 extends vu{constructor(){super(...arguments),this.id=Zk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const t6={animation:{Feature:Jk},exit:{Feature:e6}},dw=(n,e)=>Math.abs(n-e);function n6(n,e){const t=dw(n.x,e.x),r=dw(n.y,e.y);return Math.sqrt(t**2+r**2)}class a4{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=z1(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,y=n6(g.offset,{x:0,y:0})>=3;if(!w&&!y)return;const{point:T}=g,{timestamp:E}=ui;this.history.push({...T,timestamp:E});const{onStart:P,onMove:I}=this.handlers;w||(P&&P(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,g)},this.handlePointerMove=(g,w)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=U1(w,this.transformPagePoint),sr.update(this.updatePoint,!0)},this.handlePointerUp=(g,w)=>{this.end();const{onEnd:y,onSessionEnd:T,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=z1(g.type==="pointercancel"?this.lastMoveEventInfo:U1(w,this.transformPagePoint),this.history);this.startEvent&&y&&y(g,P),T&&T(g,P)},!AS(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const a=cg(e),c=U1(a,this.transformPagePoint),{point:u}=c,{timestamp:d}=ui;this.history=[{...u,timestamp:d}];const{onSessionStart:p}=t;p&&p(e,z1(c,this.history)),this.removeListeners=Jc(ql(this.contextWindow,"pointermove",this.handlePointerMove),ql(this.contextWindow,"pointerup",this.handlePointerUp),ql(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gl(this.updatePoint)}}function U1(n,e){return e?{point:e(n.point)}:n}function fw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function z1({point:n},e){return{point:n,delta:fw(n,l4(e)),offset:fw(n,r6(e)),velocity:s6(e,.1)}}function r6(n){return n[0]}function l4(n){return n[n.length-1]}function s6(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=l4(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Yu(e)));)t--;if(!r)return{x:0,y:0};const i=$l(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function yo(n){return n.max-n.min}function D0(n,e=0,t=.01){return Math.abs(n-e)<=t}function pw(n,e,t,r=.5){n.origin=r,n.originPoint=Sr(e.min,e.max,n.origin),n.scale=yo(t)/yo(e),(D0(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Sr(t.min,t.max,n.origin)-n.originPoint,(D0(n.translate)||isNaN(n.translate))&&(n.translate=0)}function uf(n,e,t,r){pw(n.x,e.x,t.x,r?r.originX:void 0),pw(n.y,e.y,t.y,r?r.originY:void 0)}function mw(n,e,t){n.min=t.min+e.min,n.max=n.min+yo(e)}function i6(n,e,t){mw(n.x,e.x,t.x),mw(n.y,e.y,t.y)}function gw(n,e,t){n.min=e.min-t.min,n.max=n.min+yo(e)}function hf(n,e,t){gw(n.x,e.x,t.x),gw(n.y,e.y,t.y)}function o6(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Sr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Sr(t,n,r.max):Math.min(n,t)),n}function yw(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function a6(n,{top:e,left:t,bottom:r,right:s}){return{x:yw(n.x,t,s),y:yw(n.y,e,r)}}function vw(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function l6(n,e){return{x:vw(n.x,e.x),y:vw(n.y,e.y)}}function c6(n,e){let t=.5;const r=yo(n),s=yo(e);return s>r?t=bf(e.min,e.max-r,n.min):r>s&&(t=bf(n.min,n.max-s,e.min)),su(0,1,t)}function u6(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const O0=.35;function h6(n=O0){return n===!1?n=0:n===!0&&(n=O0),{x:ww(n,"left","right"),y:ww(n,"top","bottom")}}function ww(n,e,t){return{min:xw(n,e),max:xw(n,t)}}function xw(n,e){return typeof n=="number"?n:n[e]||0}const bw=()=>({translate:0,scale:1,origin:0,originPoint:0}),qh=()=>({x:bw(),y:bw()}),_w=()=>({min:0,max:0}),Zr=()=>({x:_w(),y:_w()});function Uo(n){return[n("x"),n("y")]}function c4({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function d6({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function f6(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function q1(n){return n===void 0||n===1}function M0({scale:n,scaleX:e,scaleY:t}){return!q1(n)||!q1(e)||!q1(t)}function Bu(n){return M0(n)||u4(n)||n.z||n.rotate||n.rotateX||n.rotateY}function u4(n){return Sw(n.x)||Sw(n.y)}function Sw(n){return n&&n!=="0%"}function _m(n,e,t){const r=n-t,s=e*r;return t+s}function Aw(n,e,t,r,s){return s!==void 0&&(n=_m(n,s,r)),_m(n,t,r)+e}function F0(n,e=0,t=1,r,s){n.min=Aw(n.min,e,t,r,s),n.max=Aw(n.max,e,t,r,s)}function h4(n,{x:e,y:t}){F0(n.x,e.translate,e.scale,e.originPoint),F0(n.y,t.translate,t.scale,t.originPoint)}function p6(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let i,a;for(let c=0;c<s;c++){i=t[c],a=i.projectionDelta;const u=i.instance;u&&u.style&&u.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&$h(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,h4(n,a)),r&&Bu(i.latestValues)&&$h(n,i.latestValues))}e.x=Ew(e.x),e.y=Ew(e.y)}function Ew(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Uc(n,e){n.min=n.min+e,n.max=n.max+e}function Tw(n,e,[t,r,s]){const i=e[s]!==void 0?e[s]:.5,a=Sr(n.min,n.max,i);F0(n,e[t],e[r],a,e.scale)}const m6=["x","scaleX","originX"],g6=["y","scaleY","originY"];function $h(n,e){Tw(n.x,e,m6),Tw(n.y,e,g6)}function d4(n,e){return c4(f6(n.getBoundingClientRect(),e))}function y6(n,e,t){const r=d4(n,t),{scroll:s}=e;return s&&(Uc(r.x,s.offset.x),Uc(r.y,s.offset.y)),r}const f4=({current:n})=>n?n.ownerDocument.defaultView:null,v6=new WeakMap;class w6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(cg(p,"page").point)},i=(p,g)=>{const{drag:w,dragPropagation:y,onDragStart:T}=this.getProps();if(w&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=TS(w),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Uo(P=>{let I=this.getAxisMotionValue(P).get()||0;if(Qa.test(I)){const{projection:L}=this.visualElement;if(L&&L.layout){const F=L.layout.layoutBox[P];F&&(I=yo(F)*(parseFloat(I)/100))}}this.originPoint[P]=I}),T&&sr.update(()=>T(p,g),!1,!0);const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},a=(p,g)=>{const{dragPropagation:w,dragDirectionLock:y,onDirectionLock:T,onDrag:E}=this.getProps();if(!w&&!this.openGlobalLock)return;const{offset:P}=g;if(y&&this.currentDirection===null){this.currentDirection=x6(P),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",g.point,P),this.updateAxis("y",g.point,P),this.visualElement.render(),E&&E(p,g)},c=(p,g)=>this.stop(p,g),u=()=>Uo(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new a4(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:f4(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&sr.update(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Op(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=o6(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;t&&Uh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=a6(s.layoutBox,t):this.constraints=!1,this.elastic=h6(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Uo(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=u6(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Uh(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=y6(r,s.root,this.visualElement.getTransformPagePoint());let a=l6(s.layout.layoutBox,i);if(t){const c=t(d6(a));this.hasMutatedConstraints=!!c,c&&(a=c4(c))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},d=Uo(p=>{if(!Op(p,t,this.currentDirection))return;let g=u&&u[p]||{};a&&(g={min:0,max:0});const w=s?200:1e6,y=s?40:1e7,T={type:"inertia",velocity:r?e[p]:0,bounceStiffness:w,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(p,T)});return Promise.all(d).then(c)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(uv(e,r,0,t))}stopAnimation(){Uo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Uo(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Uo(t=>{const{drag:r}=this.getProps();if(!Op(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(t);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[t];i.set(e[t]-Sr(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Uh(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Uo(a=>{const c=this.getAxisMotionValue(a);if(c){const u=c.get();s[a]=c6({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Uo(a=>{if(!Op(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:d}=this.constraints[a];c.set(Sr(u,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;v6.set(this.visualElement,this);const e=this.visualElement.current,t=ql(e,"pointerdown",u=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Uh(u)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=Bl(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Uo(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())});return()=>{a(),t(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=O0,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:c}}}function Op(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function x6(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class b6 extends vu{constructor(e){super(e),this.removeGroupControls=Wr,this.removeListeners=Wr,this.controls=new w6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nw=n=>(e,t)=>{n&&sr.update(()=>n(e,t))};class _6 extends vu{constructor(){super(...arguments),this.removePointerDownListener=Wr}onPointerDown(e){this.session=new a4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:f4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Nw(e),onStart:Nw(t),onMove:r,onEnd:(i,a)=>{delete this.session,s&&sr.update(()=>s(i,a))}}}mount(){this.removePointerDownListener=ql(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function S6(){const n=z.useContext(sg);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,s=z.useId();return z.useEffect(()=>r(s),[]),!e&&t?[!1,()=>t&&t(s)]:[!0]}const Jp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pw(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Qd={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(zt.test(n))n=parseFloat(n);else return n;const t=Pw(n,e.target.x),r=Pw(n,e.target.y);return`${t}% ${r}%`}},A6={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=iu.parse(n);if(s.length>5)return r;const i=iu.createTransformer(n),a=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,u=t.y.scale*e.y;s[0+a]/=c,s[1+a]/=u;const d=Sr(c,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),i(s)}};class E6 extends zr.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;RC(T6),i&&(t.group&&t.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Jp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||sr.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function p4(n){const[e,t]=S6(),r=z.useContext(Xy);return zr.createElement(E6,{...n,layoutGroup:r,switchLayoutGroup:z.useContext(cS),isPresent:e,safeToRemove:t})}const T6={borderRadius:{...Qd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qd,borderTopRightRadius:Qd,borderBottomLeftRadius:Qd,borderBottomRightRadius:Qd,boxShadow:A6},m4=["TopLeft","TopRight","BottomLeft","BottomRight"],N6=m4.length,Cw=n=>typeof n=="string"?parseFloat(n):n,Iw=n=>typeof n=="number"||zt.test(n);function P6(n,e,t,r,s,i){s?(n.opacity=Sr(0,t.opacity!==void 0?t.opacity:1,C6(r)),n.opacityExit=Sr(e.opacity!==void 0?e.opacity:1,0,I6(r))):i&&(n.opacity=Sr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let a=0;a<N6;a++){const c=`border${m4[a]}Radius`;let u=kw(e,c),d=kw(t,c);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||Iw(u)===Iw(d)?(n[c]=Math.max(Sr(Cw(u),Cw(d),r),0),(Qa.test(d)||Qa.test(u))&&(n[c]+="%")):n[c]=d}(e.rotate||t.rotate)&&(n.rotate=Sr(e.rotate||0,t.rotate||0,r))}function kw(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const C6=g4(0,.5,FS),I6=g4(.5,.95,Wr);function g4(n,e,t){return r=>r<n?0:r>e?1:t(bf(n,e,r))}function Rw(n,e){n.min=e.min,n.max=e.max}function Bo(n,e){Rw(n.x,e.x),Rw(n.y,e.y)}function Lw(n,e,t,r,s){return n-=e,n=_m(n,1/t,r),s!==void 0&&(n=_m(n,1/s,r)),n}function k6(n,e=0,t=1,r=.5,s,i=n,a=n){if(Qa.test(e)&&(e=parseFloat(e),e=Sr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=Sr(i.min,i.max,r);n===i&&(c-=e),n.min=Lw(n.min,e,t,c,s),n.max=Lw(n.max,e,t,c,s)}function jw(n,e,[t,r,s],i,a){k6(n,e[t],e[r],e[s],e.scale,i,a)}const R6=["x","scaleX","originX"],L6=["y","scaleY","originY"];function Dw(n,e,t,r){jw(n.x,e,R6,t?t.x:void 0,r?r.x:void 0),jw(n.y,e,L6,t?t.y:void 0,r?r.y:void 0)}function Ow(n){return n.translate===0&&n.scale===1}function y4(n){return Ow(n.x)&&Ow(n.y)}function j6(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function v4(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function Mw(n){return yo(n.x)/yo(n.y)}class D6{constructor(){this.members=[]}add(e){hv(this.members,e),e.scheduleRender()}remove(e){if(dv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fw(n,e,t){let r="";const s=n.x.translate/e.x,i=n.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:u,rotateX:d,rotateY:p}=t;u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `)}const a=n.x.scale*e.x,c=n.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const O6=(n,e)=>n.depth-e.depth;class M6{constructor(){this.children=[],this.isDirty=!1}add(e){hv(this.children,e),this.isDirty=!0}remove(e){dv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(O6),this.isDirty=!1,this.children.forEach(e)}}function F6(n,e){const t=performance.now(),r=({timestamp:s})=>{const i=s-t;i>=e&&(Gl(r),n(i-e))};return sr.read(r,!0),()=>Gl(r)}function V6(n){window.MotionDebug&&window.MotionDebug.record(n)}function B6(n){return n instanceof SVGElement&&n.tagName!=="svg"}function U6(n,e,t){const r=Qi(n)?n:od(n);return r.start(uv("",r,e,t)),r.animation}const Vw=["","X","Y","Z"],z6={visibility:"hidden"},Bw=1e3;let q6=0;const Uu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function w4({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},c=e==null?void 0:e()){this.id=q6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Uu.totalNodes=Uu.resolvedTargetDeltas=Uu.recalculatedProjection=0,this.nodes.forEach(W6),this.nodes.forEach(Q6),this.nodes.forEach(J6),this.nodes.forEach(G6),V6(Uu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new M6)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new fv),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=B6(a),this.instance=a;const{layoutId:u,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(d||u)&&(this.isLayoutDirty=!0),n){let g;const w=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=F6(w,250),Jp.hasAnimatedSinceResize&&(Jp.hasAnimatedSinceResize=!1,this.nodes.forEach(zw))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:w,hasRelativeTargetChanged:y,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||rR,{onLayoutAnimationStart:P,onLayoutAnimationComplete:I}=p.getProps(),L=!this.targetLayout||!v4(this.targetLayout,T)||y,F=!w&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||F||w&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,F);const H={...cv(E,"layout"),onPlay:P,onComplete:I};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else w||zw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Z6),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uw);return}this.isUpdating||this.nodes.forEach(Y6),this.isUpdating=!1,this.nodes.forEach(X6),this.nodes.forEach($6),this.nodes.forEach(H6),this.clearAllSnapshots();const c=performance.now();ui.delta=su(0,1e3/60,c-ui.timestamp),ui.timestamp=c,ui.isProcessing=!0,L1.update.process(ui),L1.preRender.process(ui),L1.render.process(ui),ui.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(K6),this.sharedNodes.forEach(eR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!y4(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;a&&(c||Bu(this.latestValues)||p)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),sR(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Zr();const c=a.measureViewportBox(),{scroll:u}=this.root;return u&&(Uc(c.x,u.offset.x),Uc(c.y,u.offset.y)),c}removeElementScroll(a){const c=Zr();Bo(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:p,options:g}=d;if(d!==this.root&&p&&g.layoutScroll){if(p.isRoot){Bo(c,a);const{scroll:w}=this.root;w&&(Uc(c.x,-w.offset.x),Uc(c.y,-w.offset.y))}Uc(c.x,p.offset.x),Uc(c.y,p.offset.y)}}return c}applyTransform(a,c=!1){const u=Zr();Bo(u,a);for(let d=0;d<this.path.length;d++){const p=this.path[d];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&$h(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Bu(p.latestValues)&&$h(u,p.latestValues)}return Bu(this.latestValues)&&$h(u,this.latestValues),u}removeTransform(a){const c=Zr();Bo(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Bu(d.latestValues))continue;M0(d.latestValues)&&d.updateSnapshot();const p=Zr(),g=d.measurePageBox();Bo(p,g),Dw(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return Bu(this.latestValues)&&Dw(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ui.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:g,layoutId:w}=this.options;if(!(!this.layout||!(g||w))){if(this.resolvedRelativeTargetAt=ui.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),hf(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Bo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Zr(),this.targetWithTransforms=Zr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bo(this.target,this.layout.layoutBox),h4(this.target,this.targetDelta)):Bo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),hf(this.relativeTargetOrigin,this.target,y.target),Bo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Uu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||M0(this.parent.latestValues)||u4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ui.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Bo(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,y=this.treeScale.y;p6(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:T}=c;if(!T){this.projectionTransform&&(this.projectionDelta=qh(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=qh(),this.projectionDeltaWithTransform=qh());const E=this.projectionTransform;uf(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=Fw(this.projectionDelta,this.treeScale),(this.projectionTransform!==E||this.treeScale.x!==w||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),Uu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,c=!1){const u=this.snapshot,d=u?u.latestValues:{},p={...this.latestValues},g=qh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=Zr(),y=u?u.source:void 0,T=this.layout?this.layout.source:void 0,E=y!==T,P=this.getStack(),I=!P||P.members.length<=1,L=!!(E&&!I&&this.options.crossfade===!0&&!this.path.some(nR));this.animationProgress=0;let F;this.mixTargetDelta=H=>{const te=H/1e3;qw(g.x,a.x,te),qw(g.y,a.y,te),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tR(this.relativeTarget,this.relativeTargetOrigin,w,te),F&&j6(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Zr()),Bo(F,this.relativeTarget)),E&&(this.animationValues=p,P6(p,d,this.latestValues,te,L,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sr.update(()=>{Jp.hasAnimatedSinceResize=!0,this.currentAnimation=U6(0,Bw,{...a,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:d,latestValues:p}=a;if(!(!c||!u||!d)){if(this!==a&&this.layout&&d&&x4(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Zr();const g=yo(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+g;const w=yo(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+w}Bo(c,u),$h(c,p),uf(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new D6),this.sharedNodes.get(a).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:c}=this.options;return c?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:c}=this.options;return c?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(c=!0),!c)return;const d={};for(let p=0;p<Vw.length;p++){const g="rotate"+Vw[p];u[g]&&(d[g]=u[g],a.setStaticValue(g,0))}a.render();for(const p in d)a.setStaticValue(p,d[p]);a.scheduleRender()}getProjectionStyles(a){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return z6;const d={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Qp(a==null?void 0:a.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Qp(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Bu(this.latestValues)&&(E.transform=p?p({},""):"none",this.hasProjected=!1),E}const w=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=Fw(this.projectionDeltaWithTransform,this.treeScale,w),p&&(d.transform=p(w,d.transform));const{x:y,y:T}=this.projectionDelta;d.transformOrigin=`${y.origin*100}% ${T.origin*100}% 0`,g.animationValues?d.opacity=g===this?(u=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:d.opacity=g===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const E in mm){if(w[E]===void 0)continue;const{correct:P,applyTo:I}=mm[E],L=d.transform==="none"?w[E]:P(w[E],g);if(I){const F=I.length;for(let H=0;H<F;H++)d[I[H]]=L}else d[E]=L}return this.options.layoutId&&(d.pointerEvents=g===this?Qp(a==null?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(Uw),this.root.sharedNodes.clear()}}}function $6(n){n.updateLayout()}function H6(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:i}=n.options,a=t.source!==n.layout.source;i==="size"?Uo(g=>{const w=a?t.measuredBox[g]:t.layoutBox[g],y=yo(w);w.min=r[g].min,w.max=w.min+y}):x4(i,t.layoutBox,r)&&Uo(g=>{const w=a?t.measuredBox[g]:t.layoutBox[g],y=yo(r[g]);w.max=w.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+y)});const c=qh();uf(c,r,t.layoutBox);const u=qh();a?uf(u,n.applyTransform(s,!0),t.measuredBox):uf(u,r,t.layoutBox);const d=!y4(c);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:w,layout:y}=g;if(w&&y){const T=Zr();hf(T,t.layoutBox,w.layoutBox);const E=Zr();hf(E,r,y.layoutBox),v4(T,E)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=E,n.relativeTargetOrigin=T,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:u,layoutDelta:c,hasLayoutChanged:d,hasRelativeTargetChanged:p})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function W6(n){Uu.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function G6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function K6(n){n.clearSnapshot()}function Uw(n){n.clearMeasurements()}function Y6(n){n.isLayoutDirty=!1}function X6(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function zw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Q6(n){n.resolveTargetDelta()}function J6(n){n.calcProjection()}function Z6(n){n.resetRotation()}function eR(n){n.removeLeadSnapshot()}function qw(n,e,t){n.translate=Sr(e.translate,0,t),n.scale=Sr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function $w(n,e,t,r){n.min=Sr(e.min,t.min,r),n.max=Sr(e.max,t.max,r)}function tR(n,e,t,r){$w(n.x,e.x,t.x,r),$w(n.y,e.y,t.y,r)}function nR(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const rR={duration:.45,ease:[.4,0,.1,1]},Hw=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),Ww=Hw("applewebkit/")&&!Hw("chrome/")?Math.round:Wr;function Gw(n){n.min=Ww(n.min),n.max=Ww(n.max)}function sR(n){Gw(n.x),Gw(n.y)}function x4(n,e,t){return n==="position"||n==="preserve-aspect"&&!D0(Mw(e),Mw(t),.2)}const iR=w4({attachResizeListener:(n,e)=>Bl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$1={current:void 0},b4=w4({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!$1.current){const n=new iR({});n.mount(window),n.setOptions({layoutScroll:!0}),$1.current=n}return $1.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),oR={pan:{Feature:_6},drag:{Feature:b6,ProjectionNode:b4,MeasureLayout:p4}},aR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function lR(n){const e=aR.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function V0(n,e,t=1){const[r,s]=lR(n);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return r4(a)?parseFloat(a):a}else return P0(s)?V0(s,e,t+1):s}function cR(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(s=>{const i=s.get();if(!P0(i))return;const a=V0(i,r);a&&s.set(a)});for(const s in e){const i=e[s];if(!P0(i))continue;const a=V0(i,r);a&&(e[s]=a,t||(t={}),t[s]===void 0&&(t[s]=i))}return{target:e,transitionEnd:t}}const uR=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),_4=n=>uR.has(n),hR=n=>Object.keys(n).some(_4),Kw=n=>n===ch||n===zt,Yw=(n,e)=>parseFloat(n.split(", ")[e]),Xw=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Yw(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?Yw(i[1],n):0}},dR=new Set(["x","y","z"]),fR=jf.filter(n=>!dR.has(n));function pR(n){const e=[];return fR.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const ad={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Xw(4,13),y:Xw(5,14)};ad.translateX=ad.x;ad.translateY=ad.y;const mR=(n,e,t)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:a}=i,c={};a==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(d=>{c[d]=ad[d](r,i)}),e.render();const u=e.measureViewportBox();return t.forEach(d=>{const p=e.getValue(d);p&&p.jump(c[d]),n[d]=ad[d](u,i)}),n},gR=(n,e,t={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(_4);let i=[],a=!1;const c=[];if(s.forEach(u=>{const d=n.getValue(u);if(!n.hasValue(u))return;let p=t[u],g=Xd(p);const w=e[u];let y;if(ym(w)){const T=w.length,E=w[0]===null?1:0;p=w[E],g=Xd(p);for(let P=E;P<T&&w[P]!==null;P++)y?sv(Xd(w[P])===y):y=Xd(w[P])}else y=Xd(w);if(g!==y)if(Kw(g)&&Kw(y)){const T=d.get();typeof T=="string"&&d.set(parseFloat(T)),typeof w=="string"?e[u]=parseFloat(w):Array.isArray(w)&&y===zt&&(e[u]=w.map(parseFloat))}else g!=null&&g.transform&&(y!=null&&y.transform)&&(p===0||w===0)?p===0?d.set(y.transform(p)):e[u]=g.transform(w):(a||(i=pR(n),a=!0),c.push(u),r[u]=r[u]!==void 0?r[u]:e[u],d.jump(w))}),c.length){const u=c.indexOf("height")>=0?window.pageYOffset:null,d=mR(e,n,c);return i.length&&i.forEach(([p,g])=>{n.getValue(p).set(g)}),n.render(),ig&&u!==null&&window.scrollTo({top:u}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function yR(n,e,t,r){return hR(e)?gR(n,e,t,r):{target:e,transitionEnd:r}}const vR=(n,e,t,r)=>{const s=cR(n,e,r);return e=s.target,r=s.transitionEnd,yR(n,e,t,r)},B0={current:null},S4={current:!1};function wR(){if(S4.current=!0,!!ig)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>B0.current=n.matches;n.addListener(e),e()}else B0.current=!1}function xR(n,e,t){const{willChange:r}=e;for(const s in e){const i=e[s],a=t[s];if(Qi(i))n.addValue(s,i),bm(r)&&r.add(s);else if(Qi(a))n.addValue(s,od(i,{owner:n})),bm(r)&&r.remove(s);else if(a!==i)if(n.hasValue(s)){const c=n.getValue(s);!c.hasAnimated&&c.set(i)}else{const c=n.getStaticValue(s);n.addValue(s,od(c!==void 0?c:i,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const Qw=new WeakMap,A4=Object.keys(xf),bR=A4.length,Jw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],_R=Yy.length;class SR{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sr.render(this.render,!1,!0);const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=ag(t),this.isVariantNode=lS(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(t,{});for(const g in p){const w=p[g];c[g]!==void 0&&Qi(w)&&(w.set(c[g],!1),bm(d)&&d.add(g))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Qw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),S4.current||wR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:B0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Qw.delete(this.current),this.projection&&this.projection.unmount(),Gl(this.notifyUpdate),Gl(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=lh.has(e),s=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&sr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,s,i){let a,c;for(let u=0;u<bR;u++){const d=A4[u],{isEnabled:p,Feature:g,ProjectionNode:w,MeasureLayout:y}=xf[d];w&&(a=w),p(t)&&(!this.features[d]&&g&&(this.features[d]=new g(this)),y&&(c=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:d,drag:p,dragConstraints:g,layoutScroll:w,layoutRoot:y}=t;this.projection.setOptions({layoutId:u,layout:d,alwaysMeasureLayout:!!p||g&&Uh(g),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:w,layoutRoot:y})}return c}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Jw.length;r++){const s=Jw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=xR(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<_R;r++){const s=Yy[r],i=this.props[s];(wf(i)||i===!1)&&(t[s]=i)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=od(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(t=rv(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Qi(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new fv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class E4 extends SR{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:s},i){let a=Bk(r,e||{},this);if(s&&(t&&(t=s(t)),r&&(r=s(r)),a&&(a=s(a))),i){Fk(this,r,a);const c=vR(this,r,a,t);t=c.transitionEnd,r=c.target}return{transition:e,transitionEnd:t,...r}}}function AR(n){return window.getComputedStyle(n)}class ER extends E4{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(lh.has(t)){const r=lv(t);return r&&r.default||0}else{const r=AR(e),s=(dS(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return d4(e,t)}build(e,t,r,s){Jy(e,t,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,t){return nv(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,s){vS(e,t,r,s)}}class TR extends E4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(lh.has(t)){const r=lv(t);return r&&r.default||0}return t=wS.has(t)?t:Gy(t),e.getAttribute(t)}measureInstanceViewportBox(){return Zr()}scrapeMotionValuesFromProps(e,t){return bS(e,t)}build(e,t,r,s){ev(e,t,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,r,s){xS(e,t,r,s)}mount(e){this.isSVGTag=tv(e.tagName),super.mount(e)}}const NR=(n,e)=>Qy(n)?new TR(e,{enableHardwareAcceleration:!1}):new ER(e,{enableHardwareAcceleration:!0}),PR={layout:{ProjectionNode:b4,MeasureLayout:p4}},CR={...t6,...bI,...oR,...PR},qn=IC((n,e)=>lI(n,e,CR,NR));function T4(){const n=z.useRef(!1);return Wy(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function IR(){const n=T4(),[e,t]=z.useState(0),r=z.useCallback(()=>{n.current&&t(e+1)},[e]);return[z.useCallback(()=>sr.postRender(r),[r]),e]}class kR extends z.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function RR({children:n,isPresent:e}){const t=z.useId(),r=z.useRef(null),s=z.useRef({width:0,height:0,top:0,left:0});return z.useInsertionEffect(()=>{const{width:i,height:a,top:c,left:u}=s.current;if(e||!r.current||!i||!a)return;r.current.dataset.motionPopId=t;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),z.createElement(kR,{isPresent:e,childRef:r,sizeRef:s},z.cloneElement(n,{ref:r}))}const H1=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const c=_S(LR),u=z.useId(),d=z.useMemo(()=>({id:u,initial:e,isPresent:t,custom:s,onExitComplete:p=>{c.set(p,!0);for(const g of c.values())if(!g)return;r&&r()},register:p=>(c.set(p,!1),()=>c.delete(p))}),i?void 0:[t]);return z.useMemo(()=>{c.forEach((p,g)=>c.set(g,!1))},[t]),z.useEffect(()=>{!t&&!c.size&&r&&r()},[t]),a==="popLayout"&&(n=z.createElement(RR,{isPresent:t},n)),z.createElement(sg.Provider,{value:d},n)};function LR(){return new Map}function jR(n){return z.useEffect(()=>()=>n(),[])}const zu=n=>n.key||"";function DR(n,e){n.forEach(t=>{const r=zu(t);e.set(r,t)})}function OR(n){const e=[];return z.Children.forEach(n,t=>{z.isValidElement(t)&&e.push(t)}),e}const Kl=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const c=z.useContext(Xy).forceRender||IR()[0],u=T4(),d=OR(n);let p=d;const g=z.useRef(new Map).current,w=z.useRef(p),y=z.useRef(new Map).current,T=z.useRef(!0);if(Wy(()=>{T.current=!1,DR(d,y),w.current=p}),jR(()=>{T.current=!0,y.clear(),g.clear()}),T.current)return z.createElement(z.Fragment,null,p.map(L=>z.createElement(H1,{key:zu(L),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:i,mode:a},L)));p=[...p];const E=w.current.map(zu),P=d.map(zu),I=E.length;for(let L=0;L<I;L++){const F=E[L];P.indexOf(F)===-1&&!g.has(F)&&g.set(F,void 0)}return a==="wait"&&g.size&&(p=[]),g.forEach((L,F)=>{if(P.indexOf(F)!==-1)return;const H=y.get(F);if(!H)return;const te=E.indexOf(F);let le=L;if(!le){const U=()=>{g.delete(F);const k=Array.from(y.keys()).filter(B=>!P.includes(B));if(k.forEach(B=>y.delete(B)),w.current=d.filter(B=>{const W=zu(B);return W===F||k.includes(W)}),!g.size){if(u.current===!1)return;c(),r&&r()}};le=z.createElement(H1,{key:zu(H),isPresent:!1,onExitComplete:U,custom:e,presenceAffectsLayout:i,mode:a},H),g.set(F,le)}p.splice(te,0,le)}),p=p.map(L=>{const F=L.key;return g.has(F)?L:z.createElement(H1,{key:zu(L),isPresent:!0,presenceAffectsLayout:i,mode:a},L)}),z.createElement(z.Fragment,null,g.size?p:p.map(L=>z.cloneElement(L)))},Zw=({isOpen:n,onClose:e,onUnlock:t,expectedPassword:r,title:s,message:i})=>{const[a,c]=z.useState(""),[u,d]=z.useState(""),p=z.useRef(null);if(z.useEffect(()=>{n&&(c(""),d(""),setTimeout(()=>{var y;return(y=p.current)==null?void 0:y.focus()},150))},[n]),!n)return null;const g=()=>{var y;a===r?(t(),e()):(d("Senha incorreta. Tente novamente."),c(""),(y=p.current)==null||y.focus())},w=y=>{y.key==="Enter"&&g()};return b.jsx(qn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"arkos-modal-overlay",onClick:e,children:b.jsx(qn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:350,damping:25},className:"arkos-modal-content p-6 sm:p-8",onClick:y=>y.stopPropagation(),children:b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx(wa,{className:"w-16 h-16 sm:w-20 sm:h-20 text-destructive mb-5"}),b.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-3 text-center text-destructive-foreground bg-destructive px-4 py-2 rounded-md",children:s||"Acesso Restrito"}),b.jsx("p",{className:"text-muted-foreground mb-6 text-center text-sm sm:text-base",children:i||"Insira a senha para continuar."}),b.jsx(Wl,{ref:p,type:"password",value:a,onChange:y=>c(y.target.value),onKeyPress:w,placeholder:"Senha de desbloqueio",className:"arkos-input mb-4 w-full text-base sm:text-lg p-3"}),u&&b.jsx("p",{className:"text-destructive text-sm mb-4 bg-destructive/10 p-2 rounded-md w-full text-center",children:u}),b.jsx("div",{className:"flex gap-3 w-full mt-2",children:b.jsxs(Jt,{onClick:g,className:"w-full arkos-button-primary text-base sm:text-lg py-3",children:[b.jsx(oC,{className:"mr-2 h-5 w-5"})," Desbloquear"]})})]})})})},MR=({isOpen:n,onClose:e,onLogin:t,users:r})=>{const[s,i]=z.useState(""),[a,c]=z.useState(""),[u,d]=z.useState(""),[p,g]=z.useState(!1),w=z.useRef(null),y="gerente2025",T="quito123",[E,P]=z.useState(!1),I="karbox2025",L="karstoq";if(z.useEffect(()=>{P(s===y&&a===T)},[s,a]),z.useEffect(()=>{},[p]),z.useEffect(()=>{n&&(i(""),c(""),d(""),setTimeout(()=>{var te;return(te=w.current)==null?void 0:te.focus()},150))},[n]),!n)return null;const F=async()=>{if(s.trim()===y&&a===T){t({id:"admin-special",username:y,email:"admin@sistema.com",name:"Administrador do Sistema",isAdmin:!0});return}if(s.trim()===I&&a===L){t({id:"user-default",username:I,email:"user@sistema.com",name:"Usuário do Sistema",isAdmin:!1});return}d("Nome de usuário ou senha incorretos. Tente novamente."),c("")},H=te=>{var le;te.key==="Enter"&&(s?F():(le=w.current)==null||le.focus())};return b.jsx(qn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"arkos-modal-overlay",children:b.jsx(qn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:350,damping:25},className:"arkos-modal-content p-6 sm:p-8 max-w-md w-full",onClick:te=>te.stopPropagation(),children:b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"w-48 h-48 flex items-center justify-center mb-5",children:b.jsx("img",{src:"/images/arkos_logo.svg",alt:"ARKOS Logo",className:"w-full h-full"})}),b.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-3 text-center",children:"Login do Sistema"}),b.jsx("p",{className:"text-muted-foreground mb-6 text-center text-sm sm:text-base",children:"Entre com suas credenciais para acessar o sistema."}),b.jsxs("div",{className:"w-full space-y-4",children:[b.jsxs("div",{className:"relative",children:[b.jsx(pm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:18}),b.jsx(Wl,{ref:w,type:"text",value:s,onChange:te=>i(te.target.value),onKeyPress:H,placeholder:"Nome de usuário",className:"arkos-input pl-12 w-full text-base sm:text-lg p-3"})]}),b.jsxs("div",{className:"relative",children:[b.jsx(KP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:18}),b.jsx(Wl,{type:"password",value:a,onChange:te=>c(te.target.value),onKeyPress:H,placeholder:"Senha",className:"arkos-input pl-12 w-full text-base sm:text-lg p-3"})]})]}),u&&b.jsx("p",{className:"text-destructive text-sm mt-4 mb-2 bg-destructive/10 p-2 rounded-md w-full text-center",children:u}),b.jsxs(Jt,{onClick:F,className:"w-full arkos-button-primary text-base sm:text-lg py-3 mt-6",children:[b.jsx(YP,{className:"mr-2 h-5 w-5"})," Entrar"]})]})})})},FR=({inputValue:n,onInputChange:e,onKeyPress:t,onScanPackage:r,inputRef:s,isPasswordModalOpen:i,onClearCurrentCollection:a})=>b.jsxs("div",{className:"mb-6 space-y-4",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[b.jsx(Wl,{ref:s,type:"text",value:n,onChange:e,onKeyPress:t,placeholder:"Ler código do pacote aqui...",className:"sm:w-3/5 arkos-input text-lg p-3 shadow-inner focus:shadow-lg",disabled:i,autoFocus:!1}),b.jsxs(Jt,{onClick:r,className:"arkos-button-primary text-lg p-3 min-w-[120px]",disabled:i,children:[b.jsx(Y_,{className:"mr-2 h-5 w-5"})," Adicionar"]})]}),b.jsx("div",{className:"flex justify-end",children:b.jsxs(Jt,{onClick:a,variant:"outline",className:"arkos-button-secondary text-xs",disabled:i,children:[b.jsx(Fl,{className:"mr-1 sm:mr-2 h-4 w-4"})," Limpar Contagem Atual"]})})]}),VR=({scannedPackages:n,duplicatePackages:e,currentCollectionName:t})=>n.length===0&&e.length===0?b.jsxs(qn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},className:"text-center py-10 px-6 bg-secondary/20 rounded-lg mt-8 shadow-inner",children:[b.jsx(Y_,{size:48,className:"mx-auto text-muted-foreground/70 mb-4"}),b.jsx("p",{className:"text-muted-foreground text-lg",children:"Nenhum pacote lido nesta visualização."}),b.jsxs("p",{className:"text-muted-foreground/80 text-sm",children:["Use o campo acima para adicionar pacotes à coleta ",b.jsx("span",{className:"font-semibold text-foreground",children:t}),"."]})]}):b.jsxs("div",{className:"mt-8",children:[b.jsxs("h2",{className:"text-2xl font-bold mb-4 text-primary text-center sm:text-left",children:["Registros Visuais: ",b.jsx("span",{className:"arkos-gradient-text",children:t})]}),b.jsxs("div",{className:"space-y-3 max-h-[300px] sm:max-h-[350px] overflow-y-auto p-4 rounded-lg bg-secondary/20 shadow-inner custom-scrollbar",children:[b.jsxs(Kl,{mode:"wait",children:[n.map(r=>{const s=typeof r=="object",i=s?r.code:r,a=s?r.timestamp:null;return b.jsx(qn.li,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10,transition:{duration:.1}},transition:{type:"tween",duration:.2,ease:"easeOut"},className:"arkos-list-item",children:b.jsxs("div",{className:"flex items-center justify-between w-full",children:[b.jsxs("div",{className:"flex items-center truncate",children:[b.jsx(G_,{size:20,className:"mr-3 text-green-400 flex-shrink-0"}),b.jsx("span",{className:"text-foreground font-medium text-sm sm:text-base truncate",title:i,children:i})]}),a&&b.jsxs("div",{className:"flex items-center text-muted-foreground ml-2",children:[b.jsx(Hl,{size:14,className:"mr-1"}),b.jsx("span",{className:"text-xs",children:a})]})]})},`valid-${i}-${t}`)}),e.map(r=>{const s=typeof r=="object",i=s?r.code:r,a=s?r.timestamp:null;return b.jsx(qn.li,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10,transition:{duration:.1}},transition:{type:"tween",duration:.2,ease:"easeOut"},className:"arkos-list-item-duplicate",children:b.jsxs("div",{className:"flex items-center justify-between w-full",children:[b.jsxs("div",{className:"flex items-center truncate",children:[b.jsx(K_,{size:20,className:"mr-3 text-red-400 flex-shrink-0"}),b.jsx("span",{className:"font-medium text-sm sm:text-base truncate",title:i,children:i})]}),a&&b.jsxs("div",{className:"flex items-center text-red-300 ml-2",children:[b.jsx(Hl,{size:14,className:"mr-1"}),b.jsx("span",{className:"text-xs",children:a})]})]})},`duplicate-${i}-${t}`)})]}),n.length===0&&e.length>0&&b.jsxs("div",{className:"text-center py-4",children:[b.jsx(GP,{size:24,className:"mx-auto text-amber-500 mb-2"}),b.jsx("p",{className:"text-amber-500 text-sm",children:"Apenas pacotes duplicados nesta visualização."})]})]})]}),W1=({label:n,value:e,colorClass:t,icon:r})=>b.jsxs(qn.div,{className:`p-4 rounded-lg shadow-lg flex flex-col items-center justify-center ${t} bg-opacity-20 backdrop-blur-sm`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[r&&b.jsx("div",{className:"mb-2",children:r}),b.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:n}),b.jsx("p",{className:`text-2xl sm:text-3xl font-bold ${e===""?"text-muted-foreground":""}`,children:e===""?"-":e})]}),BR=({totalScanned:n,halfScanned:e,duplicateCount:t,storeName:r})=>b.jsxs("div",{className:"my-6 sm:my-8 p-4 bg-card rounded-xl shadow-xl",children:[b.jsxs("h3",{className:"text-lg font-semibold text-center mb-4 text-primary",children:["Contadores Visuais: ",b.jsx("span",{className:"arkos-gradient-text",children:r})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[b.jsx(W1,{label:"Pacotes Válidos",value:n,colorClass:"text-green-400"}),b.jsx(W1,{label:"Metade (Válidos)",value:e,colorClass:"text-sky-400"}),b.jsx(W1,{label:"Duplicados (Visual)",value:t,colorClass:"text-red-400"})]})]}),UR=({onExport:n,onPrint:e,onResetAllData:t,showResetAllButton:r=!0})=>b.jsxs("div",{className:"mt-8 pt-6 border-t border-border/50",children:[b.jsx("h3",{className:"text-md font-semibold text-muted-foreground mb-4 text-center",children:"Relatórios Globais"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[b.jsxs(Jt,{onClick:()=>n("excel"),className:"arkos-button-secondary w-full text-xs sm:text-sm",children:[b.jsx(T0,{className:"mr-1 sm:mr-2 h-4 w-4"})," Exportar Excel (CSV)"]}),b.jsxs(Jt,{onClick:e,className:"arkos-button-secondary w-full text-xs sm:text-sm",children:[b.jsx(rC,{className:"mr-1 sm:mr-2 h-4 w-4"})," Imprimir Relatório Diário"]}),r&&b.jsxs(Jt,{onClick:t,variant:"destructive",className:"arkos-button-destructive w-full text-xs sm:text-sm sm:col-span-2",children:[b.jsx(X_,{className:"mr-1 sm:mr-2 h-4 w-4"})," Resetar Todos os Dados"]})]})]}),zR=({currentOperator:n,operators:e,onSetCurrentOperator:t,onSetOperators:r,initialOperatorName:s})=>{const[i,a]=z.useState(""),[c,u]=z.useState(null),[d,p]=z.useState(""),g=()=>{if(i.trim()&&!e.includes(i.trim())){const E=[...e,i.trim()];r(E),t(i.trim()),a("")}else e.includes(i.trim())&&alert("Este nome de operador já existe.")},w=E=>{if(E===s){alert(`O operador "${s}" não pode ser removido.`);return}if(e.length<=1){alert("Deve haver pelo menos um operador.");return}try{const P=e.filter(I=>I!==E);r(P),n===E&&t(P.length>0?P[0]:s),alert(`Operador "${E}" removido com sucesso.`)}catch(P){console.error("Erro ao remover operador:",P),alert("Ocorreu um erro ao remover o operador. Tente novamente.")}},y=E=>{u(E),p(E)},T=()=>{if(d.trim()&&!e.includes(d.trim())||d.trim()===c){const E=e.map(P=>P===c?d.trim():P);r(E),n===c&&t(d.trim()),u(null),p("")}else alert("Nome de operador inválido ou já existente.")};return b.jsxs("div",{className:"operator-manager-card",children:[b.jsx("h3",{className:"text-lg font-semibold text-center mb-4 text-primary",children:"Gerenciar Operador"}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"operatorSelect",className:"text-sm text-muted-foreground block mb-1",children:"Operador Atual:"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("select",{id:"operatorSelect",value:n,onChange:E=>t(E.target.value),className:"arkos-input w-full p-2.5 rounded-md text-base",children:e.map(E=>b.jsx("option",{value:E,children:E},E))}),n!==s&&c!==n&&b.jsx(Jt,{variant:"ghost",size:"icon",onClick:()=>y(n),className:"text-muted-foreground hover:text-primary",children:b.jsx(W5,{size:18})})]})]}),c&&b.jsxs("div",{className:"mb-4 p-3 bg-primary/10 rounded-md",children:[b.jsxs("h4",{className:"text-sm font-medium mb-2 text-primary",children:["Editando: ",c]}),b.jsx(Wl,{type:"text",value:d,onChange:E=>p(E.target.value),placeholder:"Novo nome do operador",className:"arkos-input mb-2"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Jt,{onClick:T,size:"sm",className:"arkos-button-primary flex-1",children:"Salvar"}),b.jsx(Jt,{onClick:()=>u(null),size:"sm",variant:"outline",className:"flex-1",children:"Cancelar"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicionar Novo Operador:"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Wl,{type:"text",value:i,onChange:E=>a(E.target.value),placeholder:"Nome do novo operador",className:"arkos-input flex-grow p-2.5 text-base"}),b.jsx(Jt,{onClick:g,className:"arkos-button-primary","aria-label":"Adicionar Operador",children:b.jsx(uC,{size:20})})]})]}),e.filter(E=>E!==s).length>0&&b.jsxs("div",{className:"mt-4",children:[b.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Remover Operador:"}),b.jsx("div",{className:"max-h-20 overflow-y-auto space-y-1 custom-scrollbar pr-1",children:e.filter(E=>E!==s).map(E=>E!==c&&b.jsxs("div",{className:"flex items-center justify-between text-sm p-1.5 bg-secondary/50 rounded",children:[b.jsx("span",{children:E}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx(Jt,{variant:"ghost",size:"icon",onClick:()=>y(E),className:"h-6 w-6 text-muted-foreground hover:text-primary",children:b.jsx(W5,{size:14})}),b.jsx(Jt,{variant:"ghost",size:"icon",onClick:()=>w(E),className:"h-6 w-6 text-muted-foreground hover:text-destructive",children:b.jsx(Fl,{size:14})})]})]},E))})]})]})},N4=zr.forwardRef(({className:n,...e},t)=>b.jsx("textarea",{className:Er("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));N4.displayName="Textarea";const qR=({isOpen:n,onClose:e,onSubmit:t,initialObservation:r="",title:s="Adicionar Observação",message:i="Registre informações adicionais."})=>{const[a,c]=z.useState(r);if(z.useEffect(()=>{n&&c(r)},[n,r]),!n)return null;const u=()=>{t(a),e()};return b.jsx(qn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"arkos-modal-overlay",onClick:e,children:b.jsx(qn.div,{initial:{scale:.7,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.7,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"arkos-modal-content w-full max-w-lg",onClick:d=>d.stopPropagation(),children:b.jsxs("div",{className:"flex flex-col items-center",children:[s.toLowerCase().includes("duplicado")?b.jsx(FP,{className:"w-12 h-12 text-destructive mb-4"}):b.jsx(JP,{className:"w-12 h-12 text-primary mb-4"}),b.jsx("h2",{className:`text-xl font-bold mb-3 text-center ${s.toLowerCase().includes("duplicado")?"text-destructive":""}`,children:s}),b.jsx("p",{className:"text-muted-foreground mb-5 text-center text-sm",children:i}),b.jsx(N4,{value:a,onChange:d=>c(d.target.value),placeholder:"Digite suas observações aqui...",className:"arkos-input w-full min-h-[120px] text-sm",rows:5,autoFocus:!0}),b.jsxs("div",{className:"flex gap-3 w-full mt-6",children:[b.jsxs(Jt,{onClick:e,variant:"outline",className:"w-full arkos-button-secondary",children:[b.jsx(Xp,{className:"mr-2 h-4 w-4"})," Cancelar"]}),b.jsxs(Jt,{onClick:u,className:"w-full arkos-button-primary",children:[b.jsx(af,{className:"mr-2 h-4 w-4"})," Salvar Observação"]})]})]})})})},$R=({allCollectionsData:n,storesConfig:e})=>{const t=new Date().toLocaleDateString("pt-BR"),[r,s]=z.useState(null),[i,a]=z.useState(!1),c={...n},u=(g,w)=>{let y=0,T=0;return Object.values(c).forEach(E=>{E.store===g&&E.period===w&&E.date===t&&(y+=E.packages?E.packages.length:0,T+=E.duplicates?E.duplicates.length:0)}),{totalPackages:y,totalDuplicates:T}},d=()=>{a(!0),setTimeout(()=>a(!1),1e3)},p=(g,w=!1)=>{const y=u(g.name,"Manha"),T=u(g.name,"Tarde"),E=y.totalPackages+T.totalPackages,P=y.totalDuplicates+T.totalDuplicates;return b.jsxs("div",{className:`p-4 bg-card dark:bg-card/60 rounded-lg shadow-lg border border-border/50 ${w?"col-span-full":""}`,children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("h4",{className:"text-lg font-semibold arkos-gradient-text",children:g.name}),b.jsx(Jt,{variant:"ghost",size:"sm",onClick:()=>s(w?null:g),className:"p-1 h-auto",children:w?b.jsx(ZP,{size:16}):b.jsx(QP,{size:16})})]}),b.jsxs("div",{className:`${w?"grid grid-cols-1 md:grid-cols-2 gap-4":""}`,children:[b.jsxs("div",{className:"text-sm space-y-2 mb-3",children:[b.jsx("p",{className:"font-medium",children:"Manhã:"}),b.jsxs("div",{className:"pl-2 text-xs border-l-2 border-primary/50",children:[b.jsxs("p",{className:"flex items-center",children:[b.jsx(N0,{size:14,className:"mr-2 text-green-500"})," Válidos: ",y.totalPackages]}),y.totalDuplicates>0&&b.jsxs("p",{className:"flex items-center text-red-500",children:[b.jsx(wa,{size:14,className:"mr-2"})," Duplicados: ",y.totalDuplicates]})]})]}),b.jsxs("div",{className:"text-sm space-y-2",children:[b.jsx("p",{className:"font-medium",children:"Tarde:"}),b.jsxs("div",{className:"pl-2 text-xs border-l-2 border-primary/50",children:[b.jsxs("p",{className:"flex items-center",children:[b.jsx(N0,{size:14,className:"mr-2 text-green-500"})," Válidos: ",T.totalPackages]}),T.totalDuplicates>0&&b.jsxs("p",{className:"flex items-center text-red-500",children:[b.jsx(wa,{size:14,className:"mr-2"})," Duplicados: ",T.totalDuplicates]})]})]})]}),b.jsxs("div",{className:`mt-4 pt-3 border-t border-border/30 ${w?"text-center text-lg":"text-center"}`,children:[b.jsxs("p",{className:`${w?"text-lg":"text-sm"} font-semibold`,children:["Total Dia (",g.name,"):"]}),b.jsx("p",{className:`${w?"text-2xl":"text-lg"} font-bold text-primary`,children:E}),E>0&&b.jsxs("p",{className:`${w?"text-sm":"text-xs"} text-muted-foreground flex items-center justify-center`,children:[b.jsx(qP,{size:w?16:12,className:"mr-1"})," Metade: ",Math.floor(E/2)]}),P>0&&b.jsxs("p",{className:`${w?"text-lg":"text-sm"} font-semibold text-red-500 mt-1`,children:["Total Duplicados Dia: ",P]})]})]},g.id)};return b.jsxs("div",{className:"store-dashboard-card",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h3",{className:"text-xl font-bold text-primary",children:"Resumo Diário das Lojas"}),b.jsxs("div",{className:"flex gap-2",children:[r&&b.jsx(Jt,{variant:"outline",size:"sm",onClick:()=>s(null),className:"text-xs",children:"Exibir Todas as Lojas"}),b.jsxs(Jt,{variant:"outline",size:"sm",onClick:d,className:"flex items-center gap-1 text-xs",disabled:i,children:[b.jsx(id,{className:`h-4 w-4 ${i?"animate-spin":""}`}),"Atualizar"]})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:r?p(r,!0):e.map(g=>p(g))}),b.jsxs("div",{className:"mt-4 text-xs text-muted-foreground flex items-center justify-end gap-1",children:[b.jsx(id,{className:"h-3 w-3"}),"Dados sincronizados em tempo real"]})]})},HR=({isDarkMode:n,setIsDarkMode:e,onLogout:t,onAdminPanel:r,isAdmin:s})=>b.jsx("header",{className:"mb-6 sm:mb-8 text-center relative",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("div",{className:"w-12"})," ",b.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[b.jsx("img",{src:"/images/arkos_logo.svg",alt:"ARKOS Logo",className:"h-12 w-12 sm:h-16 sm:w-16 md:h-20 md:w-20"}),b.jsx("h1",{className:"text-6xl sm:text-7xl md:text-8xl font-black tracking-tighter arkos-title-gradient animate-pulse-slow",children:"ARKOS"})]}),b.jsx("div",{className:"h-1 w-32 sm:w-48 md:w-64 bg-gradient-to-r from-primary via-accent to-primary-foreground rounded-full mt-1"})]}),b.jsxs("div",{className:"flex",children:[b.jsx(Jt,{variant:"ghost",size:"icon",onClick:()=>e(i=>!i),className:"text-muted-foreground hover:text-primary h-10 w-10 sm:h-12 sm:w-12","aria-label":"Toggle dark mode",children:n?b.jsx(aC,{size:20,className:"sm:w-6 sm:h-6"}):b.jsx(eC,{size:20,className:"sm:w-6 sm:h-6"})}),r&&s&&b.jsx(Jt,{variant:"ghost",size:"icon",onClick:r,className:"text-muted-foreground hover:text-amber-500 h-10 w-10 sm:h-12 sm:w-12","aria-label":"Painel Administrativo",children:b.jsx(Q_,{size:20,className:"sm:w-6 sm:h-6"})}),t&&b.jsx(Jt,{variant:"ghost",size:"icon",onClick:t,className:"text-muted-foreground hover:text-destructive h-10 w-10 sm:h-12 sm:w-12","aria-label":"Logout",children:b.jsx(XP,{size:20,className:"sm:w-6 sm:h-6"})})]})]})}),WR=({storesConfig:n,onStartNewCollectionPeriod:e})=>b.jsxs("div",{className:"my-6 p-4 bg-secondary/30 rounded-lg",children:[b.jsx("h2",{className:"text-lg font-semibold text-center mb-3 arkos-gradient-text",children:"Iniciar Nova Coleta (Manhã/Tarde)"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:n.map(t=>b.jsxs("div",{className:"space-y-2",children:[b.jsx("h3",{className:"text-sm font-medium text-center text-muted-foreground",children:t.name}),b.jsx(Jt,{onClick:()=>e(t.name,"Manha"),className:"w-full arkos-button-secondary text-xs",children:"Manhã"}),b.jsx(Jt,{onClick:()=>e(t.name,"Tarde"),className:"w-full arkos-button-secondary text-xs",children:"Tarde"})]},t.id))})]}),GR=({storesConfig:n,onTrelloButtonClick:e,isLoadingTrello:t,isPasswordModalOpen:r,onOpenObservationModal:s})=>b.jsxs("div",{className:"mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-border/50",children:[b.jsx("h3",{className:"text-md font-semibold text-muted-foreground mb-3 text-center",children:"Ações da Coleta Atual e Trello"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:n.map(i=>b.jsxs(Jt,{onClick:()=>e(i.trelloContext),className:"arkos-button-trello w-full",disabled:t||r,children:[b.jsx($P,{className:"mr-2 h-5 w-5"})," Trello ",i.name]},i.id))}),b.jsxs(Jt,{onClick:s,variant:"outline",className:"w-full mt-3 arkos-button-secondary",children:[b.jsx(nC,{className:"mr-2 h-4 w-4"})," Adicionar/Ver Observações"]})]}),KR=({isSoundEnabled:n,onToggleSound:e})=>b.jsx("div",{className:"flex justify-center my-4",children:b.jsx(qn.div,{initial:{scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:b.jsxs(Jt,{variant:n?"default":"outline",onClick:e,className:`relative overflow-hidden group px-6 py-3 rounded-full transition-all duration-300 ${n?"bg-gradient-to-r from-primary to-accent":"border-2 border-muted-foreground/30"}`,"aria-label":n?"Desativar Som":"Ativar Som",children:[b.jsx("div",{className:"flex items-center justify-center relative z-10",children:n?b.jsxs(b.Fragment,{children:[b.jsx(J_,{className:"mr-2 h-5 w-5"}),b.jsx("span",{className:"font-medium",children:"Som Ativado"}),b.jsx(qn.div,{className:"absolute -right-1 -top-1",animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{repeat:1/0,duration:2},children:b.jsx(tC,{className:"h-3 w-3 text-white/70"})})]}):b.jsxs(b.Fragment,{children:[b.jsx(hC,{className:"mr-2 h-5 w-5"}),b.jsx("span",{className:"font-medium",children:"Som Desativado"})]})}),n&&b.jsx(qn.div,{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-accent/20",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:3,ease:"linear"}})]})})}),YR=({message:n="Carregando..."})=>b.jsxs(qn.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{duration:.2},className:"my-4 p-3 text-center text-primary flex items-center justify-center",children:[b.jsx(qn.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},style:{display:"inline-block"},children:b.jsx(lC,{size:28})}),b.jsx("p",{className:"ml-3 text-lg font-semibold",children:n})]}),XR=({message:n="Ocorreu um erro."})=>b.jsxs(qn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"my-4 p-3 text-center text-destructive-foreground bg-destructive/90 rounded-md flex items-center justify-center gap-2 shadow-lg",children:[b.jsx(wa,{size:24}),b.jsx("p",{className:"text-sm font-medium",children:n})]}),QR=({lastPackage:n})=>{if(!n)return null;const{code:e,timestamp:t,isDuplicate:r}=n;return b.jsx(Kl,{mode:"wait",children:b.jsxs(qn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{type:"tween",duration:.2,ease:"easeOut"},className:`p-4 rounded-lg shadow-lg border ${r?"border-red-400 bg-red-50 dark:bg-red-900/20":"border-green-400 bg-green-50 dark:bg-green-900/20"} mb-4`,children:[b.jsx("h3",{className:"text-lg font-semibold mb-2 text-center",children:"Último Pacote Bipado"}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center truncate",children:[r?b.jsx(K_,{size:24,className:"mr-3 text-red-500 flex-shrink-0"}):b.jsx(G_,{size:24,className:"mr-3 text-green-500 flex-shrink-0"}),b.jsxs("div",{className:"truncate",children:[b.jsx("p",{className:`font-bold text-base sm:text-lg truncate ${r?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,title:e,children:e}),b.jsxs("div",{className:"flex items-center text-muted-foreground",children:[b.jsx(Hl,{size:14,className:"mr-1"}),b.jsx("span",{className:"text-xs",children:t})]})]})]}),b.jsx("div",{className:`ml-3 px-3 py-1 rounded-full text-xs font-semibold ${r?"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-200":"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-200"}`,children:r?"Duplicado":"Válido"})]})]},`last-scanned-${e}-${r}`)})};var JR=z.createContext(void 0);function pv(n){const e=z.useContext(JR);return n||e||"ltr"}function ZR(n,[e,t]){return Math.min(t,Math.max(e,n))}function eL(n,e){return z.useReducer((t,r)=>e[t][r]??t,n)}var mv="ScrollArea",[P4,mB]=gu(mv),[tL,qo]=P4(mv),C4=z.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=n,[c,u]=z.useState(null),[d,p]=z.useState(null),[g,w]=z.useState(null),[y,T]=z.useState(null),[E,P]=z.useState(null),[I,L]=z.useState(0),[F,H]=z.useState(0),[te,le]=z.useState(!1),[U,k]=z.useState(!1),B=ks(e,j=>u(j)),W=pv(s);return b.jsx(tL,{scope:t,type:r,dir:W,scrollHideDelay:i,scrollArea:c,viewport:d,onViewportChange:p,content:g,onContentChange:w,scrollbarX:y,onScrollbarXChange:T,scrollbarXEnabled:te,onScrollbarXEnabledChange:le,scrollbarY:E,onScrollbarYChange:P,scrollbarYEnabled:U,onScrollbarYEnabledChange:k,onCornerWidthChange:L,onCornerHeightChange:H,children:b.jsx(Zn.div,{dir:W,...a,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":I+"px","--radix-scroll-area-corner-height":F+"px",...n.style}})})});C4.displayName=mv;var I4="ScrollAreaViewport",k4=z.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...i}=n,a=qo(I4,t),c=z.useRef(null),u=ks(e,c,a.onViewportChange);return b.jsxs(b.Fragment,{children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),b.jsx(Zn.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...n.style},children:b.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});k4.displayName=I4;var ll="ScrollAreaScrollbar",gv=z.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=qo(ll,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,c=n.orientation==="horizontal";return z.useEffect(()=>(c?i(!0):a(!0),()=>{c?i(!1):a(!1)}),[c,i,a]),s.type==="hover"?b.jsx(nL,{...r,ref:e,forceMount:t}):s.type==="scroll"?b.jsx(rL,{...r,ref:e,forceMount:t}):s.type==="auto"?b.jsx(R4,{...r,ref:e,forceMount:t}):s.type==="always"?b.jsx(yv,{...r,ref:e}):null});gv.displayName=ll;var nL=z.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=qo(ll,n.__scopeScrollArea),[i,a]=z.useState(!1);return z.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const d=()=>{window.clearTimeout(u),a(!0)},p=()=>{u=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",p),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",p)}}},[s.scrollArea,s.scrollHideDelay]),b.jsx(yu,{present:t||i,children:b.jsx(R4,{"data-state":i?"visible":"hidden",...r,ref:e})})}),rL=z.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=qo(ll,n.__scopeScrollArea),i=n.orientation==="horizontal",a=dg(()=>u("SCROLL_END"),100),[c,u]=eL("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return z.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,s.scrollHideDelay,u]),z.useEffect(()=>{const d=s.viewport,p=i?"scrollLeft":"scrollTop";if(d){let g=d[p];const w=()=>{const y=d[p];g!==y&&(u("SCROLL"),a()),g=y};return d.addEventListener("scroll",w),()=>d.removeEventListener("scroll",w)}},[s.viewport,i,u,a]),b.jsx(yu,{present:t||c!=="hidden",children:b.jsx(yv,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:vn(n.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:vn(n.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),R4=z.forwardRef((n,e)=>{const t=qo(ll,n.__scopeScrollArea),{forceMount:r,...s}=n,[i,a]=z.useState(!1),c=n.orientation==="horizontal",u=dg(()=>{if(t.viewport){const d=t.viewport.offsetWidth<t.viewport.scrollWidth,p=t.viewport.offsetHeight<t.viewport.scrollHeight;a(c?d:p)}},10);return ld(t.viewport,u),ld(t.content,u),b.jsx(yu,{present:r||i,children:b.jsx(yv,{"data-state":i?"visible":"hidden",...s,ref:e})})}),yv=z.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=qo(ll,n.__scopeScrollArea),i=z.useRef(null),a=z.useRef(0),[c,u]=z.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=M4(c.viewport,c.content),p={...r,sizes:c,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:w=>i.current=w,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:w=>a.current=w};function g(w,y){return cL(w,a.current,c,y)}return t==="horizontal"?b.jsx(sL,{...p,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollLeft,y=ex(w,c,s.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollLeft=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollLeft=g(w,s.dir))}}):t==="vertical"?b.jsx(iL,{...p,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollTop,y=ex(w,c);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollTop=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollTop=g(w))}}):null}),sL=z.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=qo(ll,n.__scopeScrollArea),[a,c]=z.useState(),u=z.useRef(null),d=ks(e,u,i.onScrollbarXChange);return z.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),b.jsx(j4,{"data-orientation":"horizontal",...s,ref:d,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":hg(t)+"px",...n.style},onThumbPointerDown:p=>n.onThumbPointerDown(p.x),onDragScroll:p=>n.onDragScroll(p.x),onWheelScroll:(p,g)=>{if(i.viewport){const w=i.viewport.scrollLeft+p.deltaX;n.onWheelScroll(w),V4(w,g)&&p.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Am(a.paddingLeft),paddingEnd:Am(a.paddingRight)}})}})}),iL=z.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,i=qo(ll,n.__scopeScrollArea),[a,c]=z.useState(),u=z.useRef(null),d=ks(e,u,i.onScrollbarYChange);return z.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),b.jsx(j4,{"data-orientation":"vertical",...s,ref:d,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":hg(t)+"px",...n.style},onThumbPointerDown:p=>n.onThumbPointerDown(p.y),onDragScroll:p=>n.onDragScroll(p.y),onWheelScroll:(p,g)=>{if(i.viewport){const w=i.viewport.scrollTop+p.deltaY;n.onWheelScroll(w),V4(w,g)&&p.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Am(a.paddingTop),paddingEnd:Am(a.paddingBottom)}})}})}),[oL,L4]=P4(ll),j4=z.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:p,onResize:g,...w}=n,y=qo(ll,t),[T,E]=z.useState(null),P=ks(e,B=>E(B)),I=z.useRef(null),L=z.useRef(""),F=y.viewport,H=r.content-r.viewport,te=fi(p),le=fi(u),U=dg(g,10);function k(B){if(I.current){const W=B.clientX-I.current.left,j=B.clientY-I.current.top;d({x:W,y:j})}}return z.useEffect(()=>{const B=W=>{const j=W.target;(T==null?void 0:T.contains(j))&&te(W,H)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[F,T,H,te]),z.useEffect(le,[r,le]),ld(T,U),ld(y.content,U),b.jsx(oL,{scope:t,scrollbar:T,hasThumb:s,onThumbChange:fi(i),onThumbPointerUp:fi(a),onThumbPositionChange:le,onThumbPointerDown:fi(c),children:b.jsx(Zn.div,{...w,ref:P,style:{position:"absolute",...w.style},onPointerDown:vn(n.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),I.current=T.getBoundingClientRect(),L.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),k(B))}),onPointerMove:vn(n.onPointerMove,k),onPointerUp:vn(n.onPointerUp,B=>{const W=B.target;W.hasPointerCapture(B.pointerId)&&W.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=L.current,y.viewport&&(y.viewport.style.scrollBehavior=""),I.current=null})})})}),Sm="ScrollAreaThumb",D4=z.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=L4(Sm,n.__scopeScrollArea);return b.jsx(yu,{present:t||s.hasThumb,children:b.jsx(aL,{ref:e,...r})})}),aL=z.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,i=qo(Sm,t),a=L4(Sm,t),{onThumbPositionChange:c}=a,u=ks(e,g=>a.onThumbChange(g)),d=z.useRef(void 0),p=dg(()=>{d.current&&(d.current(),d.current=void 0)},100);return z.useEffect(()=>{const g=i.viewport;if(g){const w=()=>{if(p(),!d.current){const y=uL(g,c);d.current=y,c()}};return c(),g.addEventListener("scroll",w),()=>g.removeEventListener("scroll",w)}},[i.viewport,p,c]),b.jsx(Zn.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:vn(n.onPointerDownCapture,g=>{const y=g.target.getBoundingClientRect(),T=g.clientX-y.left,E=g.clientY-y.top;a.onThumbPointerDown({x:T,y:E})}),onPointerUp:vn(n.onPointerUp,a.onThumbPointerUp)})});D4.displayName=Sm;var vv="ScrollAreaCorner",O4=z.forwardRef((n,e)=>{const t=qo(vv,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?b.jsx(lL,{...n,ref:e}):null});O4.displayName=vv;var lL=z.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=qo(vv,t),[i,a]=z.useState(0),[c,u]=z.useState(0),d=!!(i&&c);return ld(s.scrollbarX,()=>{var g;const p=((g=s.scrollbarX)==null?void 0:g.offsetHeight)||0;s.onCornerHeightChange(p),u(p)}),ld(s.scrollbarY,()=>{var g;const p=((g=s.scrollbarY)==null?void 0:g.offsetWidth)||0;s.onCornerWidthChange(p),a(p)}),d?b.jsx(Zn.div,{...r,ref:e,style:{width:i,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Am(n){return n?parseInt(n,10):0}function M4(n,e){const t=n/e;return isNaN(t)?0:t}function hg(n){const e=M4(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function cL(n,e,t,r="ltr"){const s=hg(t),i=s/2,a=e||i,c=s-a,u=t.scrollbar.paddingStart+a,d=t.scrollbar.size-t.scrollbar.paddingEnd-c,p=t.content-t.viewport,g=r==="ltr"?[0,p]:[p*-1,0];return F4([u,d],g)(n)}function ex(n,e,t="ltr"){const r=hg(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,a=e.content-e.viewport,c=i-r,u=t==="ltr"?[0,a]:[a*-1,0],d=ZR(n,u);return F4([0,a],[0,c])(d)}function F4(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function V4(n,e){return n>0&&n<e}var uL=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function s(){const i={left:n.scrollLeft,top:n.scrollTop},a=t.left!==i.left,c=t.top!==i.top;(a||c)&&e(),t=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function dg(n,e){const t=fi(n),r=z.useRef(0);return z.useEffect(()=>()=>window.clearTimeout(r.current),[]),z.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function ld(n,e){const t=fi(e);il(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var B4=C4,hL=k4,dL=O4;const Em=z.forwardRef(({className:n,children:e,...t},r)=>b.jsxs(B4,{ref:r,className:Er("relative overflow-hidden",n),...t,children:[b.jsx(hL,{className:"h-full w-full rounded-[inherit]",children:e}),b.jsx(U4,{}),b.jsx(dL,{})]}));Em.displayName=B4.displayName;const U4=z.forwardRef(({className:n,orientation:e="vertical",...t},r)=>b.jsx(gv,{ref:r,orientation:e,className:Er("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 border-t border-t-transparent p-[1px]",n),...t,children:b.jsx(D4,{className:"relative flex-1 rounded-full bg-border"})}));U4.displayName=gv.displayName;var fL=u_[" useId ".trim().toString()]||(()=>{}),pL=0;function wv(n){const[e,t]=z.useState(fL());return il(()=>{t(r=>r??String(pL++))},[n]),e?`radix-${e}`:""}var G1="rovingFocusGroup.onEntryFocus",mL={bubbles:!1,cancelable:!0},Ff="RovingFocusGroup",[U0,z4,gL]=b_(Ff),[yL,q4]=gu(Ff,[gL]),[vL,wL]=yL(Ff),$4=z.forwardRef((n,e)=>b.jsx(U0.Provider,{scope:n.__scopeRovingFocusGroup,children:b.jsx(U0.Slot,{scope:n.__scopeRovingFocusGroup,children:b.jsx(xL,{...n,ref:e})})}));$4.displayName=Ff;var xL=z.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...g}=n,w=z.useRef(null),y=ks(e,w),T=pv(i),[E,P]=Zm({prop:a,defaultProp:c??null,onChange:u,caller:Ff}),[I,L]=z.useState(!1),F=fi(d),H=z4(t),te=z.useRef(!1),[le,U]=z.useState(0);return z.useEffect(()=>{const k=w.current;if(k)return k.addEventListener(G1,F),()=>k.removeEventListener(G1,F)},[F]),b.jsx(vL,{scope:t,orientation:r,dir:T,loop:s,currentTabStopId:E,onItemFocus:z.useCallback(k=>P(k),[P]),onItemShiftTab:z.useCallback(()=>L(!0),[]),onFocusableItemAdd:z.useCallback(()=>U(k=>k+1),[]),onFocusableItemRemove:z.useCallback(()=>U(k=>k-1),[]),children:b.jsx(Zn.div,{tabIndex:I||le===0?-1:0,"data-orientation":r,...g,ref:y,style:{outline:"none",...n.style},onMouseDown:vn(n.onMouseDown,()=>{te.current=!0}),onFocus:vn(n.onFocus,k=>{const B=!te.current;if(k.target===k.currentTarget&&B&&!I){const W=new CustomEvent(G1,mL);if(k.currentTarget.dispatchEvent(W),!W.defaultPrevented){const j=H().filter(de=>de.focusable),D=j.find(de=>de.active),V=j.find(de=>de.id===E),Ee=[D,V,...j].filter(Boolean).map(de=>de.ref.current);G4(Ee,p)}}te.current=!1}),onBlur:vn(n.onBlur,()=>L(!1))})})}),H4="RovingFocusGroupItem",W4=z.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...c}=n,u=wv(),d=i||u,p=wL(H4,t),g=p.currentTabStopId===d,w=z4(t),{onFocusableItemAdd:y,onFocusableItemRemove:T,currentTabStopId:E}=p;return z.useEffect(()=>{if(r)return y(),()=>T()},[r,y,T]),b.jsx(U0.ItemSlot,{scope:t,id:d,focusable:r,active:s,children:b.jsx(Zn.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:vn(n.onMouseDown,P=>{r?p.onItemFocus(d):P.preventDefault()}),onFocus:vn(n.onFocus,()=>p.onItemFocus(d)),onKeyDown:vn(n.onKeyDown,P=>{if(P.key==="Tab"&&P.shiftKey){p.onItemShiftTab();return}if(P.target!==P.currentTarget)return;const I=SL(P,p.orientation,p.dir);if(I!==void 0){if(P.metaKey||P.ctrlKey||P.altKey||P.shiftKey)return;P.preventDefault();let F=w().filter(H=>H.focusable).map(H=>H.ref.current);if(I==="last")F.reverse();else if(I==="prev"||I==="next"){I==="prev"&&F.reverse();const H=F.indexOf(P.currentTarget);F=p.loop?AL(F,H+1):F.slice(H+1)}setTimeout(()=>G4(F))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:E!=null}):a})})});W4.displayName=H4;var bL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _L(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function SL(n,e,t){const r=_L(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bL[r]}function G4(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function AL(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var EL=$4,TL=W4,fg="Tabs",[NL,gB]=gu(fg,[q4]),K4=q4(),[PL,xv]=NL(fg),Y4=z.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:c,activationMode:u="automatic",...d}=n,p=pv(c),[g,w]=Zm({prop:r,onChange:s,defaultProp:i??"",caller:fg});return b.jsx(PL,{scope:t,baseId:wv(),value:g,onValueChange:w,orientation:a,dir:p,activationMode:u,children:b.jsx(Zn.div,{dir:p,"data-orientation":a,...d,ref:e})})});Y4.displayName=fg;var X4="TabsList",Q4=z.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...s}=n,i=xv(X4,t),a=K4(t);return b.jsx(EL,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:b.jsx(Zn.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Q4.displayName=X4;var J4="TabsTrigger",Z4=z.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:s=!1,...i}=n,a=xv(J4,t),c=K4(t),u=nA(a.baseId,r),d=rA(a.baseId,r),p=r===a.value;return b.jsx(TL,{asChild:!0,...c,focusable:!s,active:p,children:b.jsx(Zn.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":d,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:vn(n.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?a.onValueChange(r):g.preventDefault()}),onKeyDown:vn(n.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&a.onValueChange(r)}),onFocus:vn(n.onFocus,()=>{const g=a.activationMode!=="manual";!p&&!s&&g&&a.onValueChange(r)})})})});Z4.displayName=J4;var eA="TabsContent",tA=z.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:s,children:i,...a}=n,c=xv(eA,t),u=nA(c.baseId,r),d=rA(c.baseId,r),p=r===c.value,g=z.useRef(p);return z.useEffect(()=>{const w=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(w)},[]),b.jsx(yu,{present:s||p,children:({present:w})=>b.jsx(Zn.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!w,id:d,tabIndex:0,...a,ref:e,style:{...n.style,animationDuration:g.current?"0s":void 0},children:w&&i})})});tA.displayName=eA;function nA(n,e){return`${n}-trigger-${e}`}function rA(n,e){return`${n}-content-${e}`}var CL=Y4,sA=Q4,iA=Z4,oA=tA;const aA=CL,bv=z.forwardRef(({className:n,...e},t)=>b.jsx(sA,{ref:t,className:Er("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));bv.displayName=sA.displayName;const zc=z.forwardRef(({className:n,...e},t)=>b.jsx(iA,{ref:t,className:Er("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));zc.displayName=iA.displayName;const qc=z.forwardRef(({className:n,...e},t)=>b.jsx(oA,{ref:t,className:Er("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));qc.displayName=oA.displayName;const IL=qy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-500/80"}},defaultVariants:{variant:"default"}});function Zc({className:n,variant:e,...t}){return b.jsx("span",{className:Er(IL({variant:e}),n),...t})}const kL=()=>{const[n,e]=z.useState(null),[t,r]=z.useState(null),[s,i]=z.useState(!1),{toast:a}=ng();z.useEffect(()=>{},[]);const c=p=>new Date(p).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),u=p=>{switch(p){case"scan":return b.jsx(sC,{className:"h-5 w-5 text-green-500"});case"duplicate":return b.jsx(wa,{className:"h-5 w-5 text-red-500"});case"login":return b.jsx(K5,{className:"h-5 w-5 text-blue-500"});case"logout":return b.jsx(Qc,{className:"h-5 w-5 text-gray-500"});default:return b.jsx(Vl,{className:"h-5 w-5 text-gray-500"})}},d=z.useCallback(async()=>{i(!0),a({title:"Iniciando limpeza",description:"Iniciando limpeza de registros em tempo real...",variant:"default"});const p=async(g=1,w=3)=>{try{return await new Promise(y=>setTimeout(y,300)),a({title:"Atividades limpas",description:`Atividades em tempo real limpas com sucesso${g>1?` na tentativa ${g}`:""}!`,variant:"default"}),!0}catch(y){return console.error(`Erro ao limpar atividades (tentativa ${g}):`,y),g<w?(a({title:`Tentativa ${g} falhou`,description:"Tentando novamente...",variant:"warning"}),await new Promise(T=>setTimeout(T,800*g)),p(g+1,w)):(a({title:"Erro",description:"Falha ao limpar atividades após múltiplas tentativas. Tente novamente mais tarde.",variant:"destructive"}),!1)}};await p(),setTimeout(()=>{i(!1)},500)},[s,a]);return b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-4 border-2 border-primary",children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("h2",{className:"text-xl font-bold text-center arkos-gradient-text",children:"SISTEMA EM TEMPO REAL"}),b.jsx(Jt,{variant:"destructive",size:"sm",onClick:d,disabled:s,className:"flex items-center gap-1 h-8 text-xs",children:s?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"animate-spin mr-1",children:"⏳"}),"Limpando..."]}):b.jsxs(b.Fragment,{children:[b.jsx(Fl,{className:"h-4 w-4 mr-1"}),"Limpar Atividades"]})})]}),b.jsxs(aA,{defaultValue:"activities",className:"w-full",children:[b.jsxs(bv,{className:"grid w-full grid-cols-2 mb-4",children:[b.jsxs(zc,{value:"activities",className:"flex items-center gap-2",children:[b.jsx(Vl,{className:"h-5 w-5"}),"Atividades",b.jsx(Zc,{variant:"secondary",className:"ml-1"})]}),b.jsxs(zc,{value:"users",className:"flex items-center gap-2",children:[b.jsx(K5,{className:"h-5 w-5"}),"Usuários Online",b.jsx(Zc,{variant:"secondary",className:"ml-1"})]})]}),b.jsx(qc,{value:"activities",className:"space-y-4",children:b.jsxs(Em,{className:"h-[300px] rounded-md border p-2",children:[b.jsx("div",{className:"space-y-2",children:b.jsx(Kl,{mode:"wait",children:b.jsxs(qn.div,{initial:{opacity:0,y:-2},animate:{opacity:1,y:0,backgroundColor:t===n?"rgba(59, 130, 246, 0.1)":"transparent"},exit:{opacity:0},transition:{duration:.1,backgroundColor:{duration:.2},layout:{duration:.1}},style:{willChange:"transform, opacity",transform:t===n?"scale(1.005)":"scale(1)",transformOrigin:"top"},className:`flex items-start gap-3 p-3 border-b border-gray-100 dark:border-gray-700 last:border-0 rounded-md ${(n==null?void 0:n.type)==="duplicate"?"bg-red-50 dark:bg-red-900/20":""} ${(n==null?void 0:n.type)==="scan"?"bg-green-50 dark:bg-green-900/20":""}`,children:[b.jsx("div",{className:"mt-1",children:u(n==null?void 0:n.type)}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("p",{className:"text-sm font-medium",children:(n==null?void 0:n.userName)||(n==null?void 0:n.userEmail)}),b.jsx(Zc,{variant:(n==null?void 0:n.type)==="duplicate"?"destructive":(n==null?void 0:n.type)==="scan"?"success":"secondary",className:"text-xs",children:(n==null?void 0:n.type)==="scan"?"Escaneado":(n==null?void 0:n.type)==="duplicate"?"Duplicado":n==null?void 0:n.type})]}),b.jsxs("p",{className:"text-sm mt-1",children:[n==null?void 0:n.message,(n==null?void 0:n.packageCode)&&b.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded ml-1 font-bold",children:n.packageCode}),(n==null?void 0:n.collectionName)&&b.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-1",children:["em ",n.collectionName]})]}),b.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mt-2",children:[b.jsx(Hl,{className:"h-3 w-3 mr-1"}),c(n==null?void 0:n.timestamp)]})]})]},n||"no-activity")})}),b.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4",children:[b.jsx(Vl,{className:"h-12 w-12 text-gray-300 dark:text-gray-600 mb-2"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Nenhuma atividade registrada"})]})]})}),b.jsx(qc,{value:"users",children:b.jsx(Em,{className:"h-[300px] rounded-md border p-2",children:b.jsxs("div",{className:"space-y-3 p-1",children:[b.jsx("h3",{className:"font-semibold text-center mb-3",children:"Usuários Ativos no Sistema"}),b.jsxs(qn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-center gap-2 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-100 px-3 py-1 rounded-full text-sm",children:[b.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),(n==null?void 0:n.displayName)||(n==null?void 0:n.email)]},n||"no-user"),b.jsxs("div",{className:"flex flex-col items-center justify-center w-full p-8",children:[b.jsx(Qc,{className:"h-12 w-12 text-gray-300 dark:text-gray-600 mb-2"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Nenhum usuário online no momento"})]})]})})})]})]})},RL=()=>{const[n,e]=z.useState(navigator.onLine),[t,r]=z.useState(new Date);z.useEffect(()=>{const a=()=>e(!0),c=()=>e(!1);window.addEventListener("online",a),window.addEventListener("offline",c);const u=setInterval(()=>{n&&r(new Date)},6e4);return()=>{window.removeEventListener("online",a),window.removeEventListener("offline",c),clearInterval(u)}},[n]);const s=()=>t.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return b.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground p-2 bg-muted/30 rounded-md",children:[b.jsx("div",{className:"flex items-center gap-1",children:n?b.jsxs(b.Fragment,{children:[b.jsx(Hy,{className:"h-3 w-3 text-green-500"}),b.jsx("span",{children:"Conectado"})]}):b.jsxs(b.Fragment,{children:[b.jsx($y,{className:"h-3 w-3 text-red-500"}),b.jsx("span",{children:"Desconectado"})]})}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(id,{className:"h-3 w-3"}),b.jsxs("span",{children:["Última sincronização: ",s()]})]}),b.jsx("div",{children:b.jsxs("span",{children:[0," ","usuários online"]})})]})},LL=()=>{};var tx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},jL=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],a=n[t++],c=n[t++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=n[t++],a=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},cA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],a=s+1<n.length,c=a?n[s+1]:0,u=s+2<n.length,d=u?n[s+2]:0,p=i>>2,g=(i&3)<<4|c>>4;let w=(c&15)<<2|d>>6,y=d&63;u||(y=64,a||(w=64)),r.push(t[p],t[g],t[w],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const g=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||c==null||d==null||g==null)throw new DL;const w=i<<2|c>>4;if(r.push(w),d!==64){const y=c<<4&240|d>>2;if(r.push(y),g!==64){const T=d<<6&192|g;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OL=function(n){const e=lA(n);return cA.encodeByteArray(e,!0)},Tm=function(n){return OL(n).replace(/\./g,"")},uA=function(n){try{return cA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=()=>ML().__FIREBASE_DEFAULTS__,VL=()=>{if(typeof process>"u"||typeof tx>"u")return;const n=tx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&uA(n[1]);return e&&JSON.parse(e)},pg=()=>{try{return LL()||FL()||VL()||BL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hA=n=>{var e,t;return(t=(e=pg())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},UL=n=>{const e=hA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},dA=()=>{var n;return(n=pg())==null?void 0:n.config},fA=n=>{var e;return(e=pg())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Tm(JSON.stringify(t)),Tm(JSON.stringify(a)),""].join(".")}const df={};function $L(){const n={prod:[],emulator:[]};for(const e of Object.keys(df))df[e]?n.emulator.push(e):n.prod.push(e);return n}function HL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let nx=!1;function mA(n,e){if(typeof window>"u"||typeof document>"u"||!xd(window.location.host)||df[n]===e||df[n]||nx)return;df[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",i=$L().prod.length>0;function a(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function u(w,y){w.setAttribute("width","24"),w.setAttribute("id",y),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function d(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{nx=!0,a()},w}function p(w,y){w.setAttribute("id",y),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function g(){const w=HL(r),y=t("text"),T=document.getElementById(y)||document.createElement("span"),E=t("learnmore"),P=document.getElementById(E)||document.createElement("a"),I=t("preprendIcon"),L=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;c(F),p(P,E);const H=d();u(L,I),F.append(L,T,P,H),document.body.appendChild(F)}i?(T.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yi())}function GL(){var e;const n=(e=pg())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YL(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QL(){const n=yi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JL(){return!GL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZL(){try{return typeof indexedDB=="object"}catch{return!1}}function e8(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="FirebaseError";class tc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=t8,Object.setPrototypeOf(this,tc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vf.prototype.create)}}class Vf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?n8(i,r):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new tc(s,c,r)}}function n8(n,e){return n.replace(r8,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const r8=/\{\$([^}]+)}/g;function s8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function nh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],a=e[s];if(rx(i)&&rx(a)){if(!nh(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function rx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function i8(n,e){const t=new o8(n,e);return t.subscribe.bind(t)}class o8{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");a8(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=K1),s.error===void 0&&(s.error=K1),s.complete===void 0&&(s.complete=K1);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a8(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function K1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(n){return n&&n._delegate?n._delegate:n}class rh{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l8=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new zL;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u8(e))try{this.getOrInitializeService({instanceIdentifier:qu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=qu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qu){return this.instances.has(e)}getOptions(e=qu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&a.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c8(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qu){return this.component?this.component.multipleInstances?e:qu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function c8(n){return n===qu?void 0:n}function u8(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l8(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(mn||(mn={}));const d8={debug:mn.DEBUG,verbose:mn.VERBOSE,info:mn.INFO,warn:mn.WARN,error:mn.ERROR,silent:mn.SILENT},f8=mn.INFO,p8={[mn.DEBUG]:"log",[mn.VERBOSE]:"log",[mn.INFO]:"info",[mn.WARN]:"warn",[mn.ERROR]:"error"},m8=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=p8[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _v{constructor(e){this.name=e,this._logLevel=f8,this._logHandler=m8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mn.DEBUG,...e),this._logHandler(this,mn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mn.VERBOSE,...e),this._logHandler(this,mn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mn.INFO,...e),this._logHandler(this,mn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mn.WARN,...e),this._logHandler(this,mn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mn.ERROR,...e),this._logHandler(this,mn.ERROR,...e)}}const g8=(n,e)=>e.some(t=>n instanceof t);let sx,ix;function y8(){return sx||(sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v8(){return ix||(ix=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gA=new WeakMap,z0=new WeakMap,yA=new WeakMap,Y1=new WeakMap,Sv=new WeakMap;function w8(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",a)},i=()=>{t(eu(n.result)),s()},a=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&gA.set(t,n)}).catch(()=>{}),Sv.set(e,n),e}function x8(n){if(z0.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",a),n.removeEventListener("abort",a)},i=()=>{t(),s()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",a),n.addEventListener("abort",a)});z0.set(n,e)}let q0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return z0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return eu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function b8(n){q0=n(q0)}function _8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(X1(this),e,...t);return yA.set(r,e.sort?e.sort():[e]),eu(r)}:v8().includes(n)?function(...e){return n.apply(X1(this),e),eu(gA.get(this))}:function(...e){return eu(n.apply(X1(this),e))}}function S8(n){return typeof n=="function"?_8(n):(n instanceof IDBTransaction&&x8(n),g8(n,y8())?new Proxy(n,q0):n)}function eu(n){if(n instanceof IDBRequest)return w8(n);if(Y1.has(n))return Y1.get(n);const e=S8(n);return e!==n&&(Y1.set(n,e),Sv.set(e,n)),e}const X1=n=>Sv.get(n);function A8(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(n,e),c=eu(a);return r&&a.addEventListener("upgradeneeded",u=>{r(eu(a.result),u.oldVersion,u.newVersion,eu(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const E8=["get","getKey","getAll","getAllKeys","count"],T8=["put","add","delete","clear"],Q1=new Map;function ox(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Q1.get(e))return Q1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=T8.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||E8.includes(t)))return;const i=async function(a,...c){const u=this.transaction(a,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),s&&u.done]))[0]};return Q1.set(e,i),i}b8(n=>({...n,get:(e,t,r)=>ox(e,t)||n.get(e,t,r),has:(e,t)=>!!ox(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(P8(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function P8(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $0="@firebase/app",ax="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new _v("@firebase/app"),C8="@firebase/app-compat",I8="@firebase/analytics-compat",k8="@firebase/analytics",R8="@firebase/app-check-compat",L8="@firebase/app-check",j8="@firebase/auth",D8="@firebase/auth-compat",O8="@firebase/database",M8="@firebase/data-connect",F8="@firebase/database-compat",V8="@firebase/functions",B8="@firebase/functions-compat",U8="@firebase/installations",z8="@firebase/installations-compat",q8="@firebase/messaging",$8="@firebase/messaging-compat",H8="@firebase/performance",W8="@firebase/performance-compat",G8="@firebase/remote-config",K8="@firebase/remote-config-compat",Y8="@firebase/storage",X8="@firebase/storage-compat",Q8="@firebase/firestore",J8="@firebase/ai",Z8="@firebase/firestore-compat",ej="firebase",tj="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="[DEFAULT]",nj={[$0]:"fire-core",[C8]:"fire-core-compat",[k8]:"fire-analytics",[I8]:"fire-analytics-compat",[L8]:"fire-app-check",[R8]:"fire-app-check-compat",[j8]:"fire-auth",[D8]:"fire-auth-compat",[O8]:"fire-rtdb",[M8]:"fire-data-connect",[F8]:"fire-rtdb-compat",[V8]:"fire-fn",[B8]:"fire-fn-compat",[U8]:"fire-iid",[z8]:"fire-iid-compat",[q8]:"fire-fcm",[$8]:"fire-fcm-compat",[H8]:"fire-perf",[W8]:"fire-perf-compat",[G8]:"fire-rc",[K8]:"fire-rc-compat",[Y8]:"fire-gcs",[X8]:"fire-gcs-compat",[Q8]:"fire-fst",[Z8]:"fire-fst-compat",[J8]:"fire-vertex","fire-js":"fire-js",[ej]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=new Map,rj=new Map,W0=new Map;function lx(n,e){try{n.container.addComponent(e)}catch(t){Yl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function cd(n){const e=n.name;if(W0.has(e))return Yl.debug(`There were multiple attempts to register component ${e}.`),!1;W0.set(e,n);for(const t of Nm.values())lx(t,n);for(const t of rj.values())lx(t,n);return!0}function Av(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ga(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tu=new Vf("app","Firebase",sj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=tj;function vA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:H0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw tu.create("bad-app-name",{appName:String(s)});if(t||(t=dA()),!t)throw tu.create("no-options");const i=Nm.get(s);if(i){if(nh(t,i.options)&&nh(r,i.config))return i;throw tu.create("duplicate-app",{appName:s})}const a=new h8(s);for(const u of W0.values())a.addComponent(u);const c=new ij(t,r,a);return Nm.set(s,c),c}function wA(n=H0){const e=Nm.get(n);if(!e&&n===H0&&dA())return vA();if(!e)throw tu.create("no-app",{appName:n});return e}function nu(n,e,t){let r=nj[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yl.warn(a.join(" "));return}cd(new rh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="firebase-heartbeat-database",aj=1,_f="firebase-heartbeat-store";let J1=null;function xA(){return J1||(J1=A8(oj,aj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_f)}catch(t){console.warn(t)}}}}).catch(n=>{throw tu.create("idb-open",{originalErrorMessage:n.message})})),J1}async function lj(n){try{const t=(await xA()).transaction(_f),r=await t.objectStore(_f).get(bA(n));return await t.done,r}catch(e){if(e instanceof tc)Yl.warn(e.message);else{const t=tu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yl.warn(t.message)}}}async function cx(n,e){try{const r=(await xA()).transaction(_f,"readwrite");await r.objectStore(_f).put(e,bA(n)),await r.done}catch(t){if(t instanceof tc)Yl.warn(t.message);else{const r=tu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Yl.warn(r.message)}}}function bA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=1024,uj=30;class hj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ux();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>uj){const a=pj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ux(),{heartbeatsToSend:r,unsentEntries:s}=dj(this._heartbeatsCache.heartbeats),i=Tm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Yl.warn(t),""}}}function ux(){return new Date().toISOString().substring(0,10)}function dj(n,e=cj){const t=[];let r=n.slice();for(const s of n){const i=t.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),hx(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),hx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class fj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZL()?e8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lj(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hx(n){return Tm(JSON.stringify({version:2,heartbeats:n})).length}function pj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(n){cd(new rh("platform-logger",e=>new N8(e),"PRIVATE")),cd(new rh("heartbeat",e=>new hj(e),"PRIVATE")),nu($0,ax,n),nu($0,ax,"esm2020"),nu("fire-js","")}mj("");function _A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gj=_A,SA=new Vf("auth","Firebase",_A());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=new _v("@firebase/auth");function yj(n,...e){Pm.logLevel<=mn.WARN&&Pm.warn(`Auth (${bd}): ${n}`,...e)}function Zp(n,...e){Pm.logLevel<=mn.ERROR&&Pm.error(`Auth (${bd}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(n,...e){throw Ev(n,...e)}function Ja(n,...e){return Ev(n,...e)}function AA(n,e,t){const r={...gj(),[e]:t};return new Vf("auth","Firebase",r).create(e,{appName:n.name})}function Xu(n){return AA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ev(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return SA.create(n,...e)}function Kt(n,e,...t){if(!n)throw Ev(e,...t)}function Ul(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zp(e),new Error(e)}function Ql(n,e){n||Ul(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function vj(){return dx()==="http:"||dx()==="https:"}function dx(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vj()||YL()||"connection"in navigator)?navigator.onLine:!0}function xj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ql(t>e,"Short delay should be less than long delay!"),this.isMobile=WL()||XL()}get(){return wj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(n,e){Ql(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ul("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ul("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ul("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sj=new Uf(3e4,6e4);function Nv(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function _d(n,e,t,r,s={}){return TA(n,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const c=Bf({key:n.config.apiKey,...a}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:u,...i};return KL()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&xd(n.emulatorConfig.host)&&(d.credentials="include"),EA.fetch()(await NA(n,n.config.apiHost,t,c),d)})}async function TA(n,e,t){n._canInitEmulator=!1;const r={...bj,...e};try{const s=new Ej(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Mp(n,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const c=i.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mp(n,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Mp(n,"email-already-in-use",a);if(u==="USER_DISABLED")throw Mp(n,"user-disabled",a);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw AA(n,p,d);Xl(n,p)}}catch(s){if(s instanceof tc)throw s;Xl(n,"network-request-failed",{message:String(s)})}}async function Aj(n,e,t,r,s={}){const i=await _d(n,e,t,r,s);return"mfaPendingCredential"in i&&Xl(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function NA(n,e,t,r){const s=`${e}${t}?${r}`,i=n,a=i.config.emulator?Tv(n.config,s):`${n.config.apiScheme}://${s}`;return _j.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}class Ej{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ja(this.auth,"network-request-failed")),Sj.get())})}}function Mp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ja(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(n,e){return _d(n,"POST","/v1/accounts:delete",e)}async function Cm(n,e){return _d(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nj(n,e=!1){const t=ba(n),r=await t.getIdToken(e),s=Pv(r);Kt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ff(Z1(s.auth_time)),issuedAtTime:ff(Z1(s.iat)),expirationTime:ff(Z1(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Z1(n){return Number(n)*1e3}function Pv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Zp("JWT malformed, contained fewer than 3 sections"),null;try{const s=uA(t);return s?JSON.parse(s):(Zp("Failed to decode base64 JWT payload"),null)}catch(s){return Zp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function fx(n){const e=Pv(n);return Kt(e,"internal-error"),Kt(typeof e.exp<"u","internal-error"),Kt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof tc&&Pj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Pj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ff(this.lastLoginAt),this.creationTime=ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Im(n){var g;const e=n.auth,t=await n.getIdToken(),r=await Sf(n,Cm(e,{idToken:t}));Kt(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const i=(g=s.providerUserInfo)!=null&&g.length?PA(s.providerUserInfo):[],a=kj(n.providerData,i),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),d=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new K0(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,p)}async function Ij(n){const e=ba(n);await Im(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kj(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function PA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(n,e){const t=await TA(n,{},async()=>{const r=Bf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,a=await NA(n,s,"/v1/token",`key=${i}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return n.emulatorConfig&&xd(n.emulatorConfig.host)&&(u.credentials="include"),EA.fetch()(a,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Lj(n,e){return _d(n,"POST","/v2/accounts:revokeToken",Nv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Kt(e.idToken,"internal-error"),Kt(typeof e.idToken<"u","internal-error"),Kt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Kt(e.length!==0,"internal-error");const t=fx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Kt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await Rj(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,a=new Gh;return r&&(Kt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Kt(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Kt(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gh,this.toJSON())}_performRefresh(){return Ul("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(n,e){Kt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xa{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new Cj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new K0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Sf(this,this.stsTokenManager.getToken(this.auth,e));return Kt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Nj(this,e)}reload(){return Ij(this)}_assign(e){this!==e&&(Kt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Im(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ga(this.auth.app))return Promise.reject(Xu(this.auth));const e=await this.getIdToken();return await Sf(this,Tj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,a=t.photoURL??void 0,c=t.tenantId??void 0,u=t._redirectEventId??void 0,d=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:g,emailVerified:w,isAnonymous:y,providerData:T,stsTokenManager:E}=t;Kt(g&&E,e,"internal-error");const P=Gh.fromJSON(this.name,E);Kt(typeof g=="string",e,"internal-error"),Mc(r,e.name),Mc(s,e.name),Kt(typeof w=="boolean",e,"internal-error"),Kt(typeof y=="boolean",e,"internal-error"),Mc(i,e.name),Mc(a,e.name),Mc(c,e.name),Mc(u,e.name),Mc(d,e.name),Mc(p,e.name);const I=new xa({uid:g,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:y,photoURL:a,phoneNumber:i,tenantId:c,stsTokenManager:P,createdAt:d,lastLoginAt:p});return T&&Array.isArray(T)&&(I.providerData=T.map(L=>({...L}))),u&&(I._redirectEventId=u),I}static async _fromIdTokenResponse(e,t,r=!1){const s=new Gh;s.updateFromServerResponse(t);const i=new xa({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Im(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Kt(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?PA(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new Gh;c.updateFromIdToken(r);const u=new xa({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new K0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Map;function zl(n){Ql(n instanceof Function,"Expected a class definition");let e=px.get(n);return e?(Ql(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,px.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}CA.type="NONE";const mx=CA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(n,e,t){return`firebase:${n}:${e}:${t}`}class Kh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=em(this.userKey,s.apiKey,i),this.fullPersistenceKey=em("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Cm(this.auth,{idToken:e}).catch(()=>{});return t?xa._fromGetAccountInfoResponse(this.auth,t,e):null}return xa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Kh(zl(mx),e,r);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||zl(mx);const a=em(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const p=await d._get(a);if(p){let g;if(typeof p=="string"){const w=await Cm(e,{idToken:p}).catch(()=>{});if(!w)break;g=await xa._fromGetAccountInfoResponse(e,w,p)}else g=xa._fromJSON(e,p);d!==i&&(c=g),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Kh(i,e,r):(i=u[0],c&&await i._set(a,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new Kh(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DA(e))return"Blackberry";if(OA(e))return"Webos";if(kA(e))return"Safari";if((e.includes("chrome/")||RA(e))&&!e.includes("edge/"))return"Chrome";if(jA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IA(n=yi()){return/firefox\//i.test(n)}function kA(n=yi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RA(n=yi()){return/crios\//i.test(n)}function LA(n=yi()){return/iemobile/i.test(n)}function jA(n=yi()){return/android/i.test(n)}function DA(n=yi()){return/blackberry/i.test(n)}function OA(n=yi()){return/webos/i.test(n)}function Cv(n=yi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jj(n=yi()){var e;return Cv(n)&&!!((e=window.navigator)!=null&&e.standalone)}function Dj(){return QL()&&document.documentMode===10}function MA(n=yi()){return Cv(n)||jA(n)||OA(n)||DA(n)||/windows phone/i.test(n)||LA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n,e=[]){let t;switch(n){case"Browser":t=gx(yi());break;case"Worker":t=`${gx(yi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((a,c)=>{try{const u=e(i);a(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(n,e={}){return _d(n,"GET","/v2/passwordPolicy",Nv(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=6;class Vj{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Fj,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yx(this),this.idTokenSubscription=new yx(this),this.beforeStateQueue=new Oj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zl(t)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Kh.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Cm(this,{idToken:e}),r=await xa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ga(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Kt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Im(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ga(this.app))return Promise.reject(Xu(this));const t=e?ba(e):null;return t&&Kt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Kt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ga(this.app)?Promise.reject(Xu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ga(this.app)?Promise.reject(Xu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mj(this),t=new Vj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zl(e)||this._popupRedirectResolver;Kt(t,this,"argument-error"),this.redirectPersistenceManager=await Kh.create(this,[zl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Kt(c,this,"internal-error"),c.then(()=>{a||i(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,s);return()=>{a=!0,u()}}else{const u=e.addObserver(t);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Ga(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&yj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Iv(n){return ba(n)}class yx{constructor(e){this.auth=e,this.observer=null,this.addObserver=i8(t=>this.observer=t)}get next(){return Kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uj(n){kv=n}function zj(n){return kv.loadJS(n)}function qj(){return kv.gapiScript}function $j(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(n,e){const t=Av(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(nh(i,e??{}))return s;Xl(s,"already-initialized")}return t.initialize({options:e})}function Wj(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(zl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Gj(n,e,t){const r=Iv(n);Kt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=VA(e),{host:a,port:c}=Kj(e),u=c===null?"":`:${c}`,d={url:`${i}//${a}${u}/`},p=Object.freeze({host:a,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Kt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Kt(nh(d,r.config.emulator)&&nh(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,xd(a)?(pA(`${i}//${a}${u}`),mA("Auth",!0)):Yj()}function VA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Kj(n){const e=VA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:vx(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:vx(a)}}}function vx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Yj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ul("not implemented")}_getIdTokenResponse(e){return Ul("not implemented")}_linkToIdToken(e,t){return Ul("not implemented")}_getReauthenticationResolver(e){return Ul("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(n,e){return Aj(n,"POST","/v1/accounts:signInWithIdp",Nv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="http://localhost";class sh extends BA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=t;if(!r||!s)return null;const a=new sh(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Yh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Yh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yh(e,t)}buildRequest(){const e={requestUri:Xj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends UA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends zf{constructor(){super("facebook.com")}static credential(e){return sh._fromParams({providerId:$c.PROVIDER_ID,signInMethod:$c.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $c.credentialFromTaggedObject(e)}static credentialFromError(e){return $c.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $c.credential(e.oauthAccessToken)}catch{return null}}}$c.FACEBOOK_SIGN_IN_METHOD="facebook.com";$c.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends zf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sh._fromParams({providerId:Hc.PROVIDER_ID,signInMethod:Hc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hc.credentialFromTaggedObject(e)}static credentialFromError(e){return Hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Hc.credential(t,r)}catch{return null}}}Hc.GOOGLE_SIGN_IN_METHOD="google.com";Hc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends zf{constructor(){super("github.com")}static credential(e){return sh._fromParams({providerId:Wc.PROVIDER_ID,signInMethod:Wc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wc.credentialFromTaggedObject(e)}static credentialFromError(e){return Wc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wc.credential(e.oauthAccessToken)}catch{return null}}}Wc.GITHUB_SIGN_IN_METHOD="github.com";Wc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends zf{constructor(){super("twitter.com")}static credential(e,t){return sh._fromParams({providerId:Gc.PROVIDER_ID,signInMethod:Gc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gc.credentialFromTaggedObject(e)}static credentialFromError(e){return Gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Gc.credential(t,r)}catch{return null}}}Gc.TWITTER_SIGN_IN_METHOD="twitter.com";Gc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await xa._fromIdTokenResponse(e,r,s),a=wx(r);return new ud({user:i,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=wx(r);return new ud({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function wx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends tc{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,km.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new km(e,t,r,s)}}function zA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?km._fromErrorAndOperation(n,i,e,r):i})}async function Qj(n,e,t=!1){const r=await Sf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ud._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(n,e,t=!1){const{auth:r}=n;if(Ga(r.app))return Promise.reject(Xu(r));const s="reauthenticate";try{const i=await Sf(n,zA(r,s,e,n),t);Kt(i.idToken,r,"internal-error");const a=Pv(i.idToken);Kt(a,r,"internal-error");const{sub:c}=a;return Kt(n.uid===c,r,"user-mismatch"),ud._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Xl(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(n,e,t=!1){if(Ga(n.app))return Promise.reject(Xu(n));const r="signIn",s=await zA(n,r,e),i=await ud._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}function eD(n,e,t,r){return ba(n).onIdTokenChanged(e,t,r)}function tD(n,e,t){return ba(n).beforeAuthStateChanged(e,t)}const Rm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rm,"1"),this.storage.removeItem(Rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=1e3,rD=10;class $A extends qA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!t&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);Dj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,rD):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},nD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$A.type="LOCAL";const sD=$A;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA extends qA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HA.type="SESSION";const WA=HA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new mg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(a).map(async d=>d(t.origin,i)),u=await iD(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((c,u)=>{const d=Rv("",20);s.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(g){const w=g;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(w.data.response);break;default:clearTimeout(p),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(){return window}function aD(n){Za().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(){return typeof Za().WorkerGlobalScope<"u"&&typeof Za().importScripts=="function"}async function lD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function uD(){return GA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firebaseLocalStorageDb",hD=1,Lm="firebaseLocalStorage",YA="fbase_key";class qf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gg(n,e){return n.transaction([Lm],e?"readwrite":"readonly").objectStore(Lm)}function dD(){const n=indexedDB.deleteDatabase(KA);return new qf(n).toPromise()}function Y0(){const n=indexedDB.open(KA,hD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Lm,{keyPath:YA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Lm)?e(r):(r.close(),await dD(),e(await Y0()))})})}async function xx(n,e,t){const r=gg(n,!0).put({[YA]:e,value:t});return new qf(r).toPromise()}async function fD(n,e){const t=gg(n,!1).get(e),r=await new qf(t).toPromise();return r===void 0?null:r.value}function bx(n,e){const t=gg(n,!0).delete(e);return new qf(t).toPromise()}const pD=800,mD=3;class XA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Y0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>mD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mg._getInstance(uD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await lD(),!this.activeServiceWorker)return;this.sender=new oD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Y0();return await xx(e,Rm,"1"),await bx(e,Rm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>xx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>fD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=gg(s,!1).getAll();return new qf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XA.type="LOCAL";const gD=XA;new Uf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(n,e){return e?zl(e):(Kt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv extends BA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vD(n){return Zj(n.auth,new Lv(n),n.bypassAuthState)}function wD(n){const{auth:e,user:t}=n;return Kt(t,e,"internal-error"),Jj(t,new Lv(n),n.bypassAuthState)}async function xD(n){const{auth:e,user:t}=n;return Kt(t,e,"internal-error"),Qj(t,new Lv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vD;case"linkViaPopup":case"linkViaRedirect":return xD;case"reauthViaPopup":case"reauthViaRedirect":return wD;default:Xl(this.auth,"internal-error")}}resolve(e){Ql(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ql(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new Uf(2e3,1e4);class Hh extends QA{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Hh.currentPopupAction&&Hh.currentPopupAction.cancel(),Hh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Kt(e,this.auth,"internal-error"),e}async onExecution(){Ql(this.filter.length===1,"Popup operations only handle one event");const e=Rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ja(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ja(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ja(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bD.get())};e()}}Hh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="pendingRedirect",tm=new Map;class SD extends QA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=tm.get(this.auth._key());if(!e){try{const r=await AD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}tm.set(this.auth._key(),e)}return this.bypassAuthState||tm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AD(n,e){const t=ND(e),r=TD(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function ED(n,e){tm.set(n._key(),e)}function TD(n){return zl(n._redirectPersistence)}function ND(n){return em(_D,n.config.apiKey,n.name)}async function PD(n,e,t=!1){if(Ga(n.app))return Promise.reject(Xu(n));const r=Iv(n),s=yD(r,e),a=await new SD(r,s,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=600*1e3;class ID{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!JA(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ja(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CD&&this.cachedEventUids.clear(),this.cachedEventUids.has(_x(e))}saveEventToCache(e){this.cachedEventUids.add(_x(e)),this.lastProcessedEventTime=Date.now()}}function _x(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function JA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(n,e={}){return _d(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jD=/^https?/;async function DD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await RD(n);for(const t of e)try{if(OD(t))return}catch{}Xl(n,"unauthorized-domain")}function OD(n){const e=G0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!jD.test(t))return!1;if(LD.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new Uf(3e4,6e4);function Sx(){const n=Za().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function FD(n){return new Promise((e,t)=>{var s,i,a;function r(){Sx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sx(),t(Ja(n,"network-request-failed"))},timeout:MD.get()})}if((i=(s=Za().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=Za().gapi)!=null&&a.load)r();else{const c=$j("iframefcb");return Za()[c]=()=>{gapi.load?r():t(Ja(n,"network-request-failed"))},zj(`${qj()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw nm=null,e})}let nm=null;function VD(n){return nm=nm||FD(n),nm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new Uf(5e3,15e3),UD="__/auth/iframe",zD="emulator/auth/iframe",qD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$D=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HD(n){const e=n.config;Kt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Tv(e,zD):`https://${n.config.authDomain}/${UD}`,r={apiKey:e.apiKey,appName:n.name,v:bd},s=$D.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${Bf(r).slice(1)}`}async function WD(n){const e=await VD(n),t=Za().gapi;return Kt(t,n,"internal-error"),e.open({where:document.body,url:HD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qD,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Ja(n,"network-request-failed"),c=Za().setTimeout(()=>{i(a)},BD.get());function u(){Za().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KD=500,YD=600,XD="_blank",QD="http://localhost";class Ax{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JD(n,e,t,r=KD,s=YD){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...GD,width:r.toString(),height:s.toString(),top:i,left:a},d=yi().toLowerCase();t&&(c=RA(d)?XD:t),IA(d)&&(e=e||QD,u.scrollbars="yes");const p=Object.entries(u).reduce((w,[y,T])=>`${w}${y}=${T},`,"");if(jj(d)&&c!=="_self")return ZD(e||"",c),new Ax(null);const g=window.open(e||"",c,p);Kt(g,n,"popup-blocked");try{g.focus()}catch{}return new Ax(g)}function ZD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7="__/auth/handler",t7="emulator/auth/handler",n7=encodeURIComponent("fac");async function Ex(n,e,t,r,s,i){Kt(n.config.authDomain,n,"auth-domain-config-required"),Kt(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:bd,eventId:s};if(e instanceof UA){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",s8(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))a[p]=g}if(e instanceof zf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}n.tenantId&&(a.tid=n.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await n._getAppCheckToken(),d=u?`#${n7}=${encodeURIComponent(u)}`:"";return`${r7(n)}?${Bf(c).slice(1)}${d}`}function r7({config:n}){return n.emulator?Tv(n,t7):`https://${n.authDomain}/${e7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="webStorageSupport";class s7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WA,this._completeRedirectFn=PD,this._overrideRedirectResult=ED}async _openPopup(e,t,r,s){var a;Ql((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await Ex(e,t,r,G0(),s);return JD(e,i,Rv())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await Ex(e,t,r,G0(),s);return aD(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Ql(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await WD(e),r=new ID(e);return t.register("authEvent",s=>(Kt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(e0,{type:e0},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[e0];i!==void 0&&t(!!i),Xl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return MA()||kA()||Cv()}}const i7=s7;var Tx="@firebase/auth",Nx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l7(n){cd(new rh("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;Kt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FA(n)},d=new Bj(r,s,i,u);return Wj(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),cd(new rh("auth-internal",e=>{const t=Iv(e.getProvider("auth").getImmediate());return(r=>new o7(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),nu(Tx,Nx,a7(n)),nu(Tx,Nx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=300,u7=fA("authIdTokenMaxAge")||c7;let Px=null;const h7=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>u7)return;const s=t==null?void 0:t.token;Px!==s&&(Px=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function d7(n=wA()){const e=Av(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Hj(n,{popupRedirectResolver:i7,persistence:[gD,sD,WA]}),r=fA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=h7(i.toString());tD(t,a,()=>a(t.currentUser)),eD(t,c=>a(c))}}const s=hA("auth");return s&&Gj(t,`http://${s}`),t}function f7(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}Uj({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=Ja("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",f7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l7("Browser");var Cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ru,ZA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,k){function B(){}B.prototype=k.prototype,U.D=k.prototype,U.prototype=new B,U.prototype.constructor=U,U.C=function(W,j,D){for(var V=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)V[ee-2]=arguments[ee];return k.prototype[j].apply(W,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(U,k,B){B||(B=0);var W=Array(16);if(typeof k=="string")for(var j=0;16>j;++j)W[j]=k.charCodeAt(B++)|k.charCodeAt(B++)<<8|k.charCodeAt(B++)<<16|k.charCodeAt(B++)<<24;else for(j=0;16>j;++j)W[j]=k[B++]|k[B++]<<8|k[B++]<<16|k[B++]<<24;k=U.g[0],B=U.g[1],j=U.g[2];var D=U.g[3],V=k+(D^B&(j^D))+W[0]+3614090360&4294967295;k=B+(V<<7&4294967295|V>>>25),V=D+(j^k&(B^j))+W[1]+3905402710&4294967295,D=k+(V<<12&4294967295|V>>>20),V=j+(B^D&(k^B))+W[2]+606105819&4294967295,j=D+(V<<17&4294967295|V>>>15),V=B+(k^j&(D^k))+W[3]+3250441966&4294967295,B=j+(V<<22&4294967295|V>>>10),V=k+(D^B&(j^D))+W[4]+4118548399&4294967295,k=B+(V<<7&4294967295|V>>>25),V=D+(j^k&(B^j))+W[5]+1200080426&4294967295,D=k+(V<<12&4294967295|V>>>20),V=j+(B^D&(k^B))+W[6]+2821735955&4294967295,j=D+(V<<17&4294967295|V>>>15),V=B+(k^j&(D^k))+W[7]+4249261313&4294967295,B=j+(V<<22&4294967295|V>>>10),V=k+(D^B&(j^D))+W[8]+1770035416&4294967295,k=B+(V<<7&4294967295|V>>>25),V=D+(j^k&(B^j))+W[9]+2336552879&4294967295,D=k+(V<<12&4294967295|V>>>20),V=j+(B^D&(k^B))+W[10]+4294925233&4294967295,j=D+(V<<17&4294967295|V>>>15),V=B+(k^j&(D^k))+W[11]+2304563134&4294967295,B=j+(V<<22&4294967295|V>>>10),V=k+(D^B&(j^D))+W[12]+1804603682&4294967295,k=B+(V<<7&4294967295|V>>>25),V=D+(j^k&(B^j))+W[13]+4254626195&4294967295,D=k+(V<<12&4294967295|V>>>20),V=j+(B^D&(k^B))+W[14]+2792965006&4294967295,j=D+(V<<17&4294967295|V>>>15),V=B+(k^j&(D^k))+W[15]+1236535329&4294967295,B=j+(V<<22&4294967295|V>>>10),V=k+(j^D&(B^j))+W[1]+4129170786&4294967295,k=B+(V<<5&4294967295|V>>>27),V=D+(B^j&(k^B))+W[6]+3225465664&4294967295,D=k+(V<<9&4294967295|V>>>23),V=j+(k^B&(D^k))+W[11]+643717713&4294967295,j=D+(V<<14&4294967295|V>>>18),V=B+(D^k&(j^D))+W[0]+3921069994&4294967295,B=j+(V<<20&4294967295|V>>>12),V=k+(j^D&(B^j))+W[5]+3593408605&4294967295,k=B+(V<<5&4294967295|V>>>27),V=D+(B^j&(k^B))+W[10]+38016083&4294967295,D=k+(V<<9&4294967295|V>>>23),V=j+(k^B&(D^k))+W[15]+3634488961&4294967295,j=D+(V<<14&4294967295|V>>>18),V=B+(D^k&(j^D))+W[4]+3889429448&4294967295,B=j+(V<<20&4294967295|V>>>12),V=k+(j^D&(B^j))+W[9]+568446438&4294967295,k=B+(V<<5&4294967295|V>>>27),V=D+(B^j&(k^B))+W[14]+3275163606&4294967295,D=k+(V<<9&4294967295|V>>>23),V=j+(k^B&(D^k))+W[3]+4107603335&4294967295,j=D+(V<<14&4294967295|V>>>18),V=B+(D^k&(j^D))+W[8]+1163531501&4294967295,B=j+(V<<20&4294967295|V>>>12),V=k+(j^D&(B^j))+W[13]+2850285829&4294967295,k=B+(V<<5&4294967295|V>>>27),V=D+(B^j&(k^B))+W[2]+4243563512&4294967295,D=k+(V<<9&4294967295|V>>>23),V=j+(k^B&(D^k))+W[7]+1735328473&4294967295,j=D+(V<<14&4294967295|V>>>18),V=B+(D^k&(j^D))+W[12]+2368359562&4294967295,B=j+(V<<20&4294967295|V>>>12),V=k+(B^j^D)+W[5]+4294588738&4294967295,k=B+(V<<4&4294967295|V>>>28),V=D+(k^B^j)+W[8]+2272392833&4294967295,D=k+(V<<11&4294967295|V>>>21),V=j+(D^k^B)+W[11]+1839030562&4294967295,j=D+(V<<16&4294967295|V>>>16),V=B+(j^D^k)+W[14]+4259657740&4294967295,B=j+(V<<23&4294967295|V>>>9),V=k+(B^j^D)+W[1]+2763975236&4294967295,k=B+(V<<4&4294967295|V>>>28),V=D+(k^B^j)+W[4]+1272893353&4294967295,D=k+(V<<11&4294967295|V>>>21),V=j+(D^k^B)+W[7]+4139469664&4294967295,j=D+(V<<16&4294967295|V>>>16),V=B+(j^D^k)+W[10]+3200236656&4294967295,B=j+(V<<23&4294967295|V>>>9),V=k+(B^j^D)+W[13]+681279174&4294967295,k=B+(V<<4&4294967295|V>>>28),V=D+(k^B^j)+W[0]+3936430074&4294967295,D=k+(V<<11&4294967295|V>>>21),V=j+(D^k^B)+W[3]+3572445317&4294967295,j=D+(V<<16&4294967295|V>>>16),V=B+(j^D^k)+W[6]+76029189&4294967295,B=j+(V<<23&4294967295|V>>>9),V=k+(B^j^D)+W[9]+3654602809&4294967295,k=B+(V<<4&4294967295|V>>>28),V=D+(k^B^j)+W[12]+3873151461&4294967295,D=k+(V<<11&4294967295|V>>>21),V=j+(D^k^B)+W[15]+530742520&4294967295,j=D+(V<<16&4294967295|V>>>16),V=B+(j^D^k)+W[2]+3299628645&4294967295,B=j+(V<<23&4294967295|V>>>9),V=k+(j^(B|~D))+W[0]+4096336452&4294967295,k=B+(V<<6&4294967295|V>>>26),V=D+(B^(k|~j))+W[7]+1126891415&4294967295,D=k+(V<<10&4294967295|V>>>22),V=j+(k^(D|~B))+W[14]+2878612391&4294967295,j=D+(V<<15&4294967295|V>>>17),V=B+(D^(j|~k))+W[5]+4237533241&4294967295,B=j+(V<<21&4294967295|V>>>11),V=k+(j^(B|~D))+W[12]+1700485571&4294967295,k=B+(V<<6&4294967295|V>>>26),V=D+(B^(k|~j))+W[3]+2399980690&4294967295,D=k+(V<<10&4294967295|V>>>22),V=j+(k^(D|~B))+W[10]+4293915773&4294967295,j=D+(V<<15&4294967295|V>>>17),V=B+(D^(j|~k))+W[1]+2240044497&4294967295,B=j+(V<<21&4294967295|V>>>11),V=k+(j^(B|~D))+W[8]+1873313359&4294967295,k=B+(V<<6&4294967295|V>>>26),V=D+(B^(k|~j))+W[15]+4264355552&4294967295,D=k+(V<<10&4294967295|V>>>22),V=j+(k^(D|~B))+W[6]+2734768916&4294967295,j=D+(V<<15&4294967295|V>>>17),V=B+(D^(j|~k))+W[13]+1309151649&4294967295,B=j+(V<<21&4294967295|V>>>11),V=k+(j^(B|~D))+W[4]+4149444226&4294967295,k=B+(V<<6&4294967295|V>>>26),V=D+(B^(k|~j))+W[11]+3174756917&4294967295,D=k+(V<<10&4294967295|V>>>22),V=j+(k^(D|~B))+W[2]+718787259&4294967295,j=D+(V<<15&4294967295|V>>>17),V=B+(D^(j|~k))+W[9]+3951481745&4294967295,U.g[0]=U.g[0]+k&4294967295,U.g[1]=U.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,U.g[2]=U.g[2]+j&4294967295,U.g[3]=U.g[3]+D&4294967295}r.prototype.u=function(U,k){k===void 0&&(k=U.length);for(var B=k-this.blockSize,W=this.B,j=this.h,D=0;D<k;){if(j==0)for(;D<=B;)s(this,U,D),D+=this.blockSize;if(typeof U=="string"){for(;D<k;)if(W[j++]=U.charCodeAt(D++),j==this.blockSize){s(this,W),j=0;break}}else for(;D<k;)if(W[j++]=U[D++],j==this.blockSize){s(this,W),j=0;break}}this.h=j,this.o+=k},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var k=1;k<U.length-8;++k)U[k]=0;var B=8*this.o;for(k=U.length-8;k<U.length;++k)U[k]=B&255,B/=256;for(this.u(U),U=Array(16),k=B=0;4>k;++k)for(var W=0;32>W;W+=8)U[B++]=this.g[k]>>>W&255;return U};function i(U,k){var B=c;return Object.prototype.hasOwnProperty.call(B,U)?B[U]:B[U]=k(U)}function a(U,k){this.h=k;for(var B=[],W=!0,j=U.length-1;0<=j;j--){var D=U[j]|0;W&&D==k||(B[j]=D,W=!1)}this.g=B}var c={};function u(U){return-128<=U&&128>U?i(U,function(k){return new a([k|0],0>k?-1:0)}):new a([U|0],0>U?-1:0)}function d(U){if(isNaN(U)||!isFinite(U))return g;if(0>U)return P(d(-U));for(var k=[],B=1,W=0;U>=B;W++)k[W]=U/B|0,B*=4294967296;return new a(k,0)}function p(U,k){if(U.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(U.charAt(0)=="-")return P(p(U.substring(1),k));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=d(Math.pow(k,8)),W=g,j=0;j<U.length;j+=8){var D=Math.min(8,U.length-j),V=parseInt(U.substring(j,j+D),k);8>D?(D=d(Math.pow(k,D)),W=W.j(D).add(d(V))):(W=W.j(B),W=W.add(d(V)))}return W}var g=u(0),w=u(1),y=u(16777216);n=a.prototype,n.m=function(){if(E(this))return-P(this).m();for(var U=0,k=1,B=0;B<this.g.length;B++){var W=this.i(B);U+=(0<=W?W:4294967296+W)*k,k*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(T(this))return"0";if(E(this))return"-"+P(this).toString(U);for(var k=d(Math.pow(U,6)),B=this,W="";;){var j=H(B,k).g;B=I(B,j.j(k));var D=((0<B.g.length?B.g[0]:B.h)>>>0).toString(U);if(B=j,T(B))return D+W;for(;6>D.length;)D="0"+D;W=D+W}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function T(U){if(U.h!=0)return!1;for(var k=0;k<U.g.length;k++)if(U.g[k]!=0)return!1;return!0}function E(U){return U.h==-1}n.l=function(U){return U=I(this,U),E(U)?-1:T(U)?0:1};function P(U){for(var k=U.g.length,B=[],W=0;W<k;W++)B[W]=~U.g[W];return new a(B,~U.h).add(w)}n.abs=function(){return E(this)?P(this):this},n.add=function(U){for(var k=Math.max(this.g.length,U.g.length),B=[],W=0,j=0;j<=k;j++){var D=W+(this.i(j)&65535)+(U.i(j)&65535),V=(D>>>16)+(this.i(j)>>>16)+(U.i(j)>>>16);W=V>>>16,D&=65535,V&=65535,B[j]=V<<16|D}return new a(B,B[B.length-1]&-2147483648?-1:0)};function I(U,k){return U.add(P(k))}n.j=function(U){if(T(this)||T(U))return g;if(E(this))return E(U)?P(this).j(P(U)):P(P(this).j(U));if(E(U))return P(this.j(P(U)));if(0>this.l(y)&&0>U.l(y))return d(this.m()*U.m());for(var k=this.g.length+U.g.length,B=[],W=0;W<2*k;W++)B[W]=0;for(W=0;W<this.g.length;W++)for(var j=0;j<U.g.length;j++){var D=this.i(W)>>>16,V=this.i(W)&65535,ee=U.i(j)>>>16,Ee=U.i(j)&65535;B[2*W+2*j]+=V*Ee,L(B,2*W+2*j),B[2*W+2*j+1]+=D*Ee,L(B,2*W+2*j+1),B[2*W+2*j+1]+=V*ee,L(B,2*W+2*j+1),B[2*W+2*j+2]+=D*ee,L(B,2*W+2*j+2)}for(W=0;W<k;W++)B[W]=B[2*W+1]<<16|B[2*W];for(W=k;W<2*k;W++)B[W]=0;return new a(B,0)};function L(U,k){for(;(U[k]&65535)!=U[k];)U[k+1]+=U[k]>>>16,U[k]&=65535,k++}function F(U,k){this.g=U,this.h=k}function H(U,k){if(T(k))throw Error("division by zero");if(T(U))return new F(g,g);if(E(U))return k=H(P(U),k),new F(P(k.g),P(k.h));if(E(k))return k=H(U,P(k)),new F(P(k.g),k.h);if(30<U.g.length){if(E(U)||E(k))throw Error("slowDivide_ only works with positive integers.");for(var B=w,W=k;0>=W.l(U);)B=te(B),W=te(W);var j=le(B,1),D=le(W,1);for(W=le(W,2),B=le(B,2);!T(W);){var V=D.add(W);0>=V.l(U)&&(j=j.add(B),D=V),W=le(W,1),B=le(B,1)}return k=I(U,j.j(k)),new F(j,k)}for(j=g;0<=U.l(k);){for(B=Math.max(1,Math.floor(U.m()/k.m())),W=Math.ceil(Math.log(B)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),D=d(B),V=D.j(k);E(V)||0<V.l(U);)B-=W,D=d(B),V=D.j(k);T(D)&&(D=w),j=j.add(D),U=I(U,V)}return new F(j,U)}n.A=function(U){return H(this,U).h},n.and=function(U){for(var k=Math.max(this.g.length,U.g.length),B=[],W=0;W<k;W++)B[W]=this.i(W)&U.i(W);return new a(B,this.h&U.h)},n.or=function(U){for(var k=Math.max(this.g.length,U.g.length),B=[],W=0;W<k;W++)B[W]=this.i(W)|U.i(W);return new a(B,this.h|U.h)},n.xor=function(U){for(var k=Math.max(this.g.length,U.g.length),B=[],W=0;W<k;W++)B[W]=this.i(W)^U.i(W);return new a(B,this.h^U.h)};function te(U){for(var k=U.g.length+1,B=[],W=0;W<k;W++)B[W]=U.i(W)<<1|U.i(W-1)>>>31;return new a(B,U.h)}function le(U,k){var B=k>>5;k%=32;for(var W=U.g.length-B,j=[],D=0;D<W;D++)j[D]=0<k?U.i(D+B)>>>k|U.i(D+B+1)<<32-k:U.i(D+B);return new a(j,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZA=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=p,ru=a}).apply(typeof Cx<"u"?Cx:typeof self<"u"?self:typeof window<"u"?window:{});var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e3,nf,t3,rm,X0,n3,r3,s3;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,N,O){return m==Array.prototype||m==Object.prototype||(m[N]=O.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fp=="object"&&Fp];for(var N=0;N<m.length;++N){var O=m[N];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=t(this);function s(m,N){if(N)e:{var O=r;m=m.split(".");for(var J=0;J<m.length-1;J++){var Ne=m[J];if(!(Ne in O))break e;O=O[Ne]}m=m[m.length-1],J=O[m],N=N(J),N!=J&&N!=null&&e(O,m,{configurable:!0,writable:!0,value:N})}}function i(m,N){m instanceof String&&(m+="");var O=0,J=!1,Ne={next:function(){if(!J&&O<m.length){var Le=O++;return{value:N(Le,m[Le]),done:!1}}return J=!0,{done:!0,value:void 0}}};return Ne[Symbol.iterator]=function(){return Ne},Ne}s("Array.prototype.values",function(m){return m||function(){return i(this,function(N,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function u(m){var N=typeof m;return N=N!="object"?N:m?Array.isArray(m)?"array":N:"null",N=="array"||N=="object"&&typeof m.length=="number"}function d(m){var N=typeof m;return N=="object"&&m!=null||N=="function"}function p(m,N,O){return m.call.apply(m.bind,arguments)}function g(m,N,O){if(!m)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var Ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ne,J),m.apply(N,Ne)}}return function(){return m.apply(N,arguments)}}function w(m,N,O){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,w.apply(null,arguments)}function y(m,N){var O=Array.prototype.slice.call(arguments,1);return function(){var J=O.slice();return J.push.apply(J,arguments),m.apply(this,J)}}function T(m,N){function O(){}O.prototype=N.prototype,m.aa=N.prototype,m.prototype=new O,m.prototype.constructor=m,m.Qb=function(J,Ne,Le){for(var Xe=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)Xe[Xt-2]=arguments[Xt];return N.prototype[Ne].apply(J,Xe)}}function E(m){const N=m.length;if(0<N){const O=Array(N);for(let J=0;J<N;J++)O[J]=m[J];return O}return[]}function P(m,N){for(let O=1;O<arguments.length;O++){const J=arguments[O];if(u(J)){const Ne=m.length||0,Le=J.length||0;m.length=Ne+Le;for(let Xe=0;Xe<Le;Xe++)m[Ne+Xe]=J[Xe]}else m.push(J)}}class I{constructor(N,O){this.i=N,this.j=O,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function L(m){return/^[\s\xa0]*$/.test(m)}function F(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function H(m){return H[" "](m),m}H[" "]=function(){};var te=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function le(m,N,O){for(const J in m)N.call(O,m[J],J,m)}function U(m,N){for(const O in m)N.call(void 0,m[O],O,m)}function k(m){const N={};for(const O in m)N[O]=m[O];return N}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(m,N){let O,J;for(let Ne=1;Ne<arguments.length;Ne++){J=arguments[Ne];for(O in J)m[O]=J[O];for(let Le=0;Le<B.length;Le++)O=B[Le],Object.prototype.hasOwnProperty.call(J,O)&&(m[O]=J[O])}}function j(m){var N=1;m=m.split(":");const O=[];for(;0<N&&m.length;)O.push(m.shift()),N--;return m.length&&O.push(m.join(":")),O}function D(m){c.setTimeout(()=>{throw m},0)}function V(){var m=ye;let N=null;return m.g&&(N=m.g,m.g=m.g.next,m.g||(m.h=null),N.next=null),N}class ee{constructor(){this.h=this.g=null}add(N,O){const J=Ee.get();J.set(N,O),this.h?this.h.next=J:this.g=J,this.h=J}}var Ee=new I(()=>new de,m=>m.reset());class de{constructor(){this.next=this.g=this.h=null}set(N,O){this.h=N,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,re=!1,ye=new ee,fe=()=>{const m=c.Promise.resolve(void 0);Ae=()=>{m.then(oe)}};var oe=()=>{for(var m;m=V();){try{m.h.call(m.g)}catch(O){D(O)}var N=Ee;N.j(m),100>N.h&&(N.h++,m.next=N.g,N.g=m)}re=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(m,N){this.type=m,this.g=this.target=N,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,N=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const O=()=>{};c.addEventListener("test",O,N),c.removeEventListener("test",O,N)}catch{}return m}();function he(m,N){if(X.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var O=this.type=m.type,J=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=N,N=m.relatedTarget){if(te){e:{try{H(N.nodeName);var Ne=!0;break e}catch{}Ne=!1}Ne||(N=null)}}else O=="mouseover"?N=m.fromElement:O=="mouseout"&&(N=m.toElement);this.relatedTarget=N,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:me[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&he.aa.h.call(this)}}T(he,X);var me={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),ce=0;function ge(m,N,O,J,Ne){this.listener=m,this.proxy=null,this.src=N,this.type=O,this.capture=!!J,this.ha=Ne,this.key=++ce,this.da=this.fa=!1}function xe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function je(m){this.src=m,this.g={},this.h=0}je.prototype.add=function(m,N,O,J,Ne){var Le=m.toString();m=this.g[Le],m||(m=this.g[Le]=[],this.h++);var Xe=He(m,N,J,Ne);return-1<Xe?(N=m[Xe],O||(N.fa=!1)):(N=new ge(N,this.src,Le,!!J,Ne),N.fa=O,m.push(N)),N};function ze(m,N){var O=N.type;if(O in m.g){var J=m.g[O],Ne=Array.prototype.indexOf.call(J,N,void 0),Le;(Le=0<=Ne)&&Array.prototype.splice.call(J,Ne,1),Le&&(xe(N),m.g[O].length==0&&(delete m.g[O],m.h--))}}function He(m,N,O,J){for(var Ne=0;Ne<m.length;++Ne){var Le=m[Ne];if(!Le.da&&Le.listener==N&&Le.capture==!!O&&Le.ha==J)return Ne}return-1}var ht="closure_lm_"+(1e6*Math.random()|0),Oe={};function ue(m,N,O,J,Ne){if(Array.isArray(N)){for(var Le=0;Le<N.length;Le++)ue(m,N[Le],O,J,Ne);return null}return O=Ut(O),m&&m[ne]?m.K(N,O,d(J)?!!J.capture:!1,Ne):xt(m,N,O,!1,J,Ne)}function xt(m,N,O,J,Ne,Le){if(!N)throw Error("Invalid event type");var Xe=d(Ne)?!!Ne.capture:!!Ne,Xt=vt(m);if(Xt||(m[ht]=Xt=new je(m)),O=Xt.add(N,O,J,Xe,Le),O.proxy)return O;if(J=ut(),O.proxy=J,J.src=m,J.listener=O,m.addEventListener)ie||(Ne=Xe),Ne===void 0&&(Ne=!1),m.addEventListener(N.toString(),J,Ne);else if(m.attachEvent)m.attachEvent(rt(N.toString()),J);else if(m.addListener&&m.removeListener)m.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return O}function ut(){function m(O){return N.call(m.src,m.listener,O)}const N=st;return m}function Ke(m,N,O,J,Ne){if(Array.isArray(N))for(var Le=0;Le<N.length;Le++)Ke(m,N[Le],O,J,Ne);else J=d(J)?!!J.capture:!!J,O=Ut(O),m&&m[ne]?(m=m.i,N=String(N).toString(),N in m.g&&(Le=m.g[N],O=He(Le,O,J,Ne),-1<O&&(xe(Le[O]),Array.prototype.splice.call(Le,O,1),Le.length==0&&(delete m.g[N],m.h--)))):m&&(m=vt(m))&&(N=m.g[N.toString()],m=-1,N&&(m=He(N,O,J,Ne)),(O=-1<m?N[m]:null)&&et(O))}function et(m){if(typeof m!="number"&&m&&!m.da){var N=m.src;if(N&&N[ne])ze(N.i,m);else{var O=m.type,J=m.proxy;N.removeEventListener?N.removeEventListener(O,J,m.capture):N.detachEvent?N.detachEvent(rt(O),J):N.addListener&&N.removeListener&&N.removeListener(J),(O=vt(N))?(ze(O,m),O.h==0&&(O.src=null,N[ht]=null)):xe(m)}}}function rt(m){return m in Oe?Oe[m]:Oe[m]="on"+m}function st(m,N){if(m.da)m=!0;else{N=new he(N,this);var O=m.listener,J=m.ha||m.src;m.fa&&et(m),m=O.call(J,N)}return m}function vt(m){return m=m[ht],m instanceof je?m:null}var jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ut(m){return typeof m=="function"?m:(m[jt]||(m[jt]=function(N){return m.handleEvent(N)}),m[jt])}function Et(){M.call(this),this.i=new je(this),this.M=this,this.F=null}T(Et,M),Et.prototype[ne]=!0,Et.prototype.removeEventListener=function(m,N,O,J){Ke(this,m,N,O,J)};function Rt(m,N){var O,J=m.F;if(J)for(O=[];J;J=J.F)O.push(J);if(m=m.M,J=N.type||N,typeof N=="string")N=new X(N,m);else if(N instanceof X)N.target=N.target||m;else{var Ne=N;N=new X(J,m),W(N,Ne)}if(Ne=!0,O)for(var Le=O.length-1;0<=Le;Le--){var Xe=N.g=O[Le];Ne=rn(Xe,J,!0,N)&&Ne}if(Xe=N.g=m,Ne=rn(Xe,J,!0,N)&&Ne,Ne=rn(Xe,J,!1,N)&&Ne,O)for(Le=0;Le<O.length;Le++)Xe=N.g=O[Le],Ne=rn(Xe,J,!1,N)&&Ne}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var m=this.i,N;for(N in m.g){for(var O=m.g[N],J=0;J<O.length;J++)xe(O[J]);delete m.g[N],m.h--}}this.F=null},Et.prototype.K=function(m,N,O,J){return this.i.add(String(m),N,!1,O,J)},Et.prototype.L=function(m,N,O,J){return this.i.add(String(m),N,!0,O,J)};function rn(m,N,O,J){if(N=m.i.g[String(N)],!N)return!0;N=N.concat();for(var Ne=!0,Le=0;Le<N.length;++Le){var Xe=N[Le];if(Xe&&!Xe.da&&Xe.capture==O){var Xt=Xe.listener,un=Xe.ha||Xe.src;Xe.fa&&ze(m.i,Xe),Ne=Xt.call(un,J)!==!1&&Ne}}return Ne&&!J.defaultPrevented}function It(m,N,O){if(typeof m=="function")O&&(m=w(m,O));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:c.setTimeout(m,N||0)}function $t(m){m.g=It(()=>{m.g=null,m.i&&(m.i=!1,$t(m))},m.l);const N=m.h;m.h=null,m.m.apply(null,N)}class ot extends M{constructor(N,O){super(),this.m=N,this.l=O,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(m){M.call(this),this.h=m,this.g={}}T(er,M);var sn=[];function Tr(m){le(m.g,function(N,O){this.g.hasOwnProperty(O)&&et(N)},m),m.g={}}er.prototype.N=function(){er.aa.N.call(this),Tr(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=c.JSON.stringify,Nn=c.JSON.parse,ms=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function on(){}on.prototype.h=null;function Gs(m){return m.h||(m.h=m.i())}function Ln(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){X.call(this,"d")}T(Nr,X);function jn(){X.call(this,"c")}T(jn,X);var Pt={},cn=null;function ns(){return cn=cn||new Et}Pt.La="serverreachability";function ir(m){X.call(this,Pt.La,m)}T(ir,X);function Pr(m){const N=ns();Rt(N,new ir(N))}Pt.STAT_EVENT="statevent";function Kr(m,N){X.call(this,Pt.STAT_EVENT,m),this.stat=N}T(Kr,X);function dt(m){const N=ns();Rt(N,new Kr(N,m))}Pt.Ma="timingevent";function Yr(m,N){X.call(this,Pt.Ma,m),this.size=N}T(Yr,X);function Ve(m,N){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},N)}function it(){this.g=!0}it.prototype.xa=function(){this.g=!1};function pt(m,N,O,J,Ne,Le){m.info(function(){if(m.g)if(Le)for(var Xe="",Xt=Le.split("&"),un=0;un<Xt.length;un++){var Qt=Xt[un].split("=");if(1<Qt.length){var Cn=Qt[0];Qt=Qt[1];var On=Cn.split("_");Xe=2<=On.length&&On[1]=="type"?Xe+(Cn+"="+Qt+"&"):Xe+(Cn+"=redacted&")}}else Xe=null;else Xe=Le;return"XMLHTTP REQ ("+J+") [attempt "+Ne+"]: "+N+`
`+O+`
`+Xe})}function Tt(m,N,O,J,Ne,Le,Xe){m.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+Ne+"]: "+N+`
`+O+`
`+Le+" "+Xe})}function Yt(m,N,O,J){m.info(function(){return"XMLHTTP TEXT ("+N+"): "+Wt(m,O)+(J?" "+J:"")})}function Ot(m,N){m.info(function(){return"TIMEOUT: "+N})}it.prototype.info=function(){};function Wt(m,N){if(!m.g)return N;if(!N)return null;try{var O=JSON.parse(N);if(O){for(m=0;m<O.length;m++)if(Array.isArray(O[m])){var J=O[m];if(!(2>J.length)){var Ne=J[1];if(Array.isArray(Ne)&&!(1>Ne.length)){var Le=Ne[0];if(Le!="noop"&&Le!="stop"&&Le!="close")for(var Xe=1;Xe<Ne.length;Xe++)Ne[Xe]=""}}}}return dn(O)}catch{return N}}var gn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function Yn(){}T(Yn,on),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Bn=new Yn;function an(m,N,O,J){this.j=m,this.i=N,this.l=O,this.R=J||1,this.U=new er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var gs={},$n={};function or(m,N,O){m.L=1,m.v=to(os(N)),m.m=O,m.P=!0,Xr(m,null)}function Xr(m,N){m.F=Date.now(),Ct(m),m.A=os(m.v);var O=m.A,J=m.R;Array.isArray(J)||(J=[String(J)]),Dt(O.i,"t",J),m.C=0,O=m.j.J,m.h=new St,m.g=$(m.j,O?N:null,!m.m),0<m.O&&(m.M=new ot(w(m.Y,m,m.g),m.O)),N=m.U,O=m.g,J=m.ca;var Ne="readystatechange";Array.isArray(Ne)||(Ne&&(sn[0]=Ne.toString()),Ne=sn);for(var Le=0;Le<Ne.length;Le++){var Xe=ue(O,Ne[Le],J||N.handleEvent,!1,N.h||N);if(!Xe)break;N.g[Xe.key]=Xe}N=m.H?k(m.H):{},m.m?(m.u||(m.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,N)):(m.u="GET",m.g.ea(m.A,m.u,null,N)),Pr(),pt(m.i,m.u,m.A,m.l,m.R,m.m)}an.prototype.ca=function(m){m=m.target;const N=this.M;N&&gr(m)==3?N.j():this.Y(m)},an.prototype.Y=function(m){try{if(m==this.g)e:{const On=gr(this.g);var N=this.g.Ba();const Ds=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||ml(this.g)))){this.J||On!=4||N==7||(N==8||0>=Ds?Pr(3):Pr(2)),pr(this);var O=this.g.Z();this.X=O;t:if(Ks(this)){var J=ml(this.g);m="";var Ne=J.length,Le=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rs(this),ar(this);var Xe="";break t}this.h.i=new c.TextDecoder}for(N=0;N<Ne;N++)this.h.h=!0,m+=this.h.i.decode(J[N],{stream:!(Le&&N==Ne-1)});J.length=0,this.h.g+=m,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=O==200,Tt(this.i,this.u,this.A,this.l,this.R,On,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Xt,un=this.g;if((Xt=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Xt)){var Qt=Xt;break t}}Qt=null}if(O=Qt)Yt(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ri(this,O);else{this.o=!1,this.s=3,dt(12),rs(this),ar(this);break e}}if(this.P){O=!0;let cs;for(;!this.J&&this.C<Xe.length;)if(cs=Zi(this,Xe),cs==$n){On==4&&(this.s=4,dt(14),O=!1),Yt(this.i,this.l,null,"[Incomplete Response]");break}else if(cs==gs){this.s=4,dt(15),Yt(this.i,this.l,Xe,"[Invalid Chunk]"),O=!1;break}else Yt(this.i,this.l,cs,null),Ri(this,cs);if(Ks(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||Xe.length!=0||this.h.h||(this.s=1,dt(16),O=!1),this.o=this.o&&O,!O)Yt(this.i,this.l,Xe,"[Invalid Chunked Response]"),rs(this),ar(this);else if(0<Xe.length&&!this.W){this.W=!0;var Cn=this.j;Cn.g==this&&Cn.ba&&!Cn.M&&(Cn.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),Ra(Cn),Cn.M=!0,dt(11))}}else Yt(this.i,this.l,Xe,null),Ri(this,Xe);On==4&&rs(this),this.o&&!this.J&&(On==4?Vi(this.j,this):(this.o=!1,Ct(this)))}else xi(this.g),O==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),rs(this),ar(this)}}}catch{}finally{}};function Ks(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Zi(m,N){var O=m.C,J=N.indexOf(`
`,O);return J==-1?$n:(O=Number(N.substring(O,J)),isNaN(O)?gs:(J+=1,J+O>N.length?$n:(N=N.slice(J,J+O),m.C=J+O,N)))}an.prototype.cancel=function(){this.J=!0,rs(this)};function Ct(m){m.S=Date.now()+m.I,Hn(m,m.I)}function Hn(m,N){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Ve(w(m.ba,m),N)}function pr(m){m.B&&(c.clearTimeout(m.B),m.B=null)}an.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Ot(this.i,this.A),this.L!=2&&(Pr(),dt(17)),rs(this),this.s=2,ar(this)):Hn(this,this.S-m)};function ar(m){m.j.G==0||m.J||Vi(m.j,m)}function rs(m){pr(m);var N=m.M;N&&typeof N.ma=="function"&&N.ma(),m.M=null,Tr(m.U),m.g&&(N=m.g,m.g=null,N.abort(),N.ma())}function Ri(m,N){try{var O=m.j;if(O.G!=0&&(O.g==m||ss(O.h,m))){if(!m.K&&ss(O.h,m)&&O.G==3){try{var J=O.Da.g.parse(N)}catch{J=null}if(Array.isArray(J)&&J.length==3){var Ne=J;if(Ne[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<m.F)io(O),bi(O);else break e;Po(O),dt(18)}}else O.za=Ne[1],0<O.za-O.T&&37500>Ne[2]&&O.F&&O.v==0&&!O.C&&(O.C=Ve(w(O.Za,O),6e3));if(1>=$o(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else ws(O,11)}else if((m.K||O.g==m)&&io(O),!L(N))for(Ne=O.Da.g.parse(N),N=0;N<Ne.length;N++){let Qt=Ne[N];if(O.T=Qt[0],Qt=Qt[1],O.G==2)if(Qt[0]=="c"){O.K=Qt[1],O.ia=Qt[2];const Cn=Qt[3];Cn!=null&&(O.la=Cn,O.j.info("VER="+O.la));const On=Qt[4];On!=null&&(O.Aa=On,O.j.info("SVER="+O.Aa));const Ds=Qt[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(J=1.5*Ds,O.L=J,O.j.info("backChannelRequestTimeoutMs_="+J)),J=O;const cs=m.g;if(cs){const oo=cs.g?cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oo){var Le=J.h;Le.g||oo.indexOf("spdy")==-1&&oo.indexOf("quic")==-1&&oo.indexOf("h2")==-1||(Le.j=Le.l,Le.g=new Set,Le.h&&(Xn(Le,Le.h),Le.h=null))}if(J.D){const ao=cs.g?cs.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(J.ya=ao,Dn(J.I,J.D,ao))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-m.F,O.j.info("Handshake RTT: "+O.R+"ms")),J=O;var Xe=m;if(J.qa=_(J,J.J?J.ia:null,J.W),Xe.K){hl(J.h,Xe);var Xt=Xe,un=J.L;un&&(Xt.I=un),Xt.B&&(pr(Xt),Ct(Xt)),J.g=Xe}else so(J);0<O.i.length&&Mi(O)}else Qt[0]!="stop"&&Qt[0]!="close"||ws(O,7);else O.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?ws(O,7):lr(O):Qt[0]!="noop"&&O.l&&O.l.ta(Qt),O.v=0)}}Pr(4)}catch{}}var nc=class{constructor(m,N){this.g=m,this.map=N}};function vo(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rs(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function $o(m){return m.h?1:m.g?m.g.size:0}function ss(m,N){return m.h?m.h==N:m.g?m.g.has(N):!1}function Xn(m,N){m.g?m.g.add(N):m.h=N}function hl(m,N){m.h&&m.h==N?m.h=null:m.g&&m.g.has(N)&&m.g.delete(N)}vo.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function dl(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let N=m.i;for(const O of m.g.values())N=N.concat(O.D);return N}return E(m.i)}function Ho(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(u(m)){for(var N=[],O=m.length,J=0;J<O;J++)N.push(m[J]);return N}N=[],O=0;for(J in m)N[O++]=m[J];return N}function wo(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(u(m)||typeof m=="string"){var N=[];m=m.length;for(var O=0;O<m;O++)N.push(O);return N}N=[],O=0;for(const J in m)N[O++]=J;return N}}}function xo(m,N){if(m.forEach&&typeof m.forEach=="function")m.forEach(N,void 0);else if(u(m)||typeof m=="string")Array.prototype.forEach.call(m,N,void 0);else for(var O=wo(m),J=Ho(m),Ne=J.length,Le=0;Le<Ne;Le++)N.call(void 0,J[Le],O&&O[Le],m)}var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(m,N){if(m){m=m.split("&");for(var O=0;O<m.length;O++){var J=m[O].indexOf("="),Ne=null;if(0<=J){var Le=m[O].substring(0,J);Ne=m[O].substring(J+1)}else Le=m[O];N(Le,Ne?decodeURIComponent(Ne.replace(/\+/g," ")):"")}}}function mr(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof mr){this.h=m.h,bo(this,m.j),this.o=m.o,this.g=m.g,_o(this,m.s),this.l=m.l;var N=m.i,O=new vi;O.i=N.i,N.g&&(O.g=new Map(N.g),O.h=N.h),eo(this,O),this.m=m.m}else m&&(N=String(m).match(is))?(this.h=!1,bo(this,N[1]||"",!0),this.o=ln(N[2]||""),this.g=ln(N[3]||"",!0),_o(this,N[4]),this.l=ln(N[5]||"",!0),eo(this,N[6]||"",!0),this.m=ln(N[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}mr.prototype.toString=function(){var m=[],N=this.j;N&&m.push(Li(N,Pa,!0),":");var O=this.g;return(O||N=="file")&&(m.push("//"),(N=this.o)&&m.push(Li(N,Pa,!0),"@"),m.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&m.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&m.push("/"),m.push(Li(O,O.charAt(0)=="/"?ji:sc,!0))),(O=this.i.toString())&&m.push("?",O),(O=this.m)&&m.push("#",Li(O,So)),m.join("")};function os(m){return new mr(m)}function bo(m,N,O){m.j=O?ln(N,!0):N,m.j&&(m.j=m.j.replace(/:$/,""))}function _o(m,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);m.s=N}else m.s=null}function eo(m,N,O){N instanceof vi?(m.i=N,Di(m.i,m.h)):(O||(N=Li(N,Wo)),m.i=new vi(N,m.h))}function Dn(m,N,O){m.i.set(N,O)}function to(m){return Dn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ln(m,N){return m?N?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Li(m,N,O){return typeof m=="string"?(m=encodeURI(m).replace(N,rc),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function rc(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Pa=/[#\/\?@]/g,sc=/[#\?:]/g,ji=/[#\?]/g,Wo=/[#\?@]/g,So=/#/g;function vi(m,N){this.h=this.g=null,this.i=m||null,this.j=!!N}function wn(m){m.g||(m.g=new Map,m.h=0,m.i&&Na(m.i,function(N,O){m.add(decodeURIComponent(N.replace(/\+/g," ")),O)}))}n=vi.prototype,n.add=function(m,N){wn(this),this.i=null,m=Xs(this,m);var O=this.g.get(m);return O||this.g.set(m,O=[]),O.push(N),this.h+=1,this};function wi(m,N){wn(m),N=Xs(m,N),m.g.has(N)&&(m.i=null,m.h-=m.g.get(N).length,m.g.delete(N))}function Ys(m,N){return wn(m),N=Xs(m,N),m.g.has(N)}n.forEach=function(m,N){wn(this),this.g.forEach(function(O,J){O.forEach(function(Ne){m.call(N,Ne,J,this)},this)},this)},n.na=function(){wn(this);const m=Array.from(this.g.values()),N=Array.from(this.g.keys()),O=[];for(let J=0;J<N.length;J++){const Ne=m[J];for(let Le=0;Le<Ne.length;Le++)O.push(N[J])}return O},n.V=function(m){wn(this);let N=[];if(typeof m=="string")Ys(this,m)&&(N=N.concat(this.g.get(Xs(this,m))));else{m=Array.from(this.g.values());for(let O=0;O<m.length;O++)N=N.concat(m[O])}return N},n.set=function(m,N){return wn(this),this.i=null,m=Xs(this,m),Ys(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[N]),this.h+=1,this},n.get=function(m,N){return m?(m=this.V(m),0<m.length?String(m[0]):N):N};function Dt(m,N,O){wi(m,N),0<O.length&&(m.i=null,m.g.set(Xs(m,N),E(O)),m.h+=O.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],N=Array.from(this.g.keys());for(var O=0;O<N.length;O++){var J=N[O];const Le=encodeURIComponent(String(J)),Xe=this.V(J);for(J=0;J<Xe.length;J++){var Ne=Le;Xe[J]!==""&&(Ne+="="+encodeURIComponent(String(Xe[J]))),m.push(Ne)}}return this.i=m.join("&")};function Xs(m,N){return N=String(N),m.j&&(N=N.toLowerCase()),N}function Di(m,N){N&&!m.j&&(wn(m),m.i=null,m.g.forEach(function(O,J){var Ne=J.toLowerCase();J!=Ne&&(wi(this,J),Dt(this,Ne,O))},m)),m.j=N}function Oi(m,N){const O=new it;if(c.Image){const J=new Image;J.onload=y(as,O,"TestLoadImage: loaded",!0,N,J),J.onerror=y(as,O,"TestLoadImage: error",!1,N,J),J.onabort=y(as,O,"TestLoadImage: abort",!1,N,J),J.ontimeout=y(as,O,"TestLoadImage: timeout",!1,N,J),c.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=m}else N(!1)}function fl(m,N){const O=new it,J=new AbortController,Ne=setTimeout(()=>{J.abort(),as(O,"TestPingServer: timeout",!1,N)},1e4);fetch(m,{signal:J.signal}).then(Le=>{clearTimeout(Ne),Le.ok?as(O,"TestPingServer: ok",!0,N):as(O,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(Ne),as(O,"TestPingServer: error",!1,N)})}function as(m,N,O,J,Ne){try{Ne&&(Ne.onload=null,Ne.onerror=null,Ne.onabort=null,Ne.ontimeout=null),J(O)}catch{}}function Ca(){this.g=new ms}function Ia(m,N,O){const J=O||"";try{xo(m,function(Ne,Le){let Xe=Ne;d(Ne)&&(Xe=dn(Ne)),N.push(J+Le+"="+encodeURIComponent(Xe))})}catch(Ne){throw N.push(J+"type="+encodeURIComponent("_badmap")),Ne}}function no(m){this.l=m.Ub||null,this.j=m.eb||!1}T(no,on),no.prototype.g=function(){return new Go(this.l,this.j)},no.prototype.i=function(m){return function(){return m}}({});function Go(m,N){Et.call(this),this.D=m,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Go,Et),n=Go.prototype,n.open=function(m,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=N,this.readyState=1,ls(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(N.body=m),(this.D||c).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ls(this)),this.g&&(this.readyState=3,ls(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ic(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ic(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var N=m.value?m.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!m.done}))&&(this.response=this.responseText+=N)}m.done?Ls(this):ls(this),this.readyState==3&&ic(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ls(this))},n.Qa=function(m){this.g&&(this.response=m,Ls(this))},n.ga=function(){this.g&&Ls(this)};function Ls(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ls(m)}n.setRequestHeader=function(m,N){this.u.append(m,N)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],N=this.h.entries();for(var O=N.next();!O.done;)O=O.value,m.push(O[0]+": "+O[1]),O=N.next();return m.join(`\r
`)};function ls(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Go.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ys(m){let N="";return le(m,function(O,J){N+=J,N+=":",N+=O,N+=`\r
`}),N}function Ao(m,N,O){e:{for(J in O){var J=!1;break e}J=!0}J||(O=ys(O),typeof m=="string"?O!=null&&encodeURIComponent(String(O)):Dn(m,N,O))}function Pn(m){Et.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Pn,Et);var pl=/^https?$/i,Eo=["POST","PUT"];n=Pn.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,N,O,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);N=N?N.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Gs(this.o):Gs(Bn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(N,String(m),!0),this.B=!1}catch(Le){To(this,Le);return}if(m=O||"",O=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var Ne in J)O.set(Ne,J[Ne]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Le of J.keys())O.set(Le,J.get(Le));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(O.keys()).find(Le=>Le.toLowerCase()=="content-type"),Ne=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Eo,N,void 0))||J||Ne||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,Xe]of O)this.g.setRequestHeader(Le,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(m),this.u=!1}catch(Le){To(this,Le)}};function To(m,N){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=N,m.m=5,Ko(m),vs(m)}function Ko(m){m.A||(m.A=!0,Rt(m,"complete"),Rt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Rt(this,"complete"),Rt(this,"abort"),vs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vs(this,!0)),Pn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},n.bb=function(){ka(this)};function ka(m){if(m.h&&typeof a<"u"&&(!m.v[1]||gr(m)!=4||m.Z()!=2)){if(m.u&&gr(m)==4)It(m.Ea,0,m);else if(Rt(m,"readystatechange"),gr(m)==4){m.h=!1;try{const Xe=m.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var O;if(!(O=N)){var J;if(J=Xe===0){var Ne=String(m.D).match(is)[1]||null;!Ne&&c.self&&c.self.location&&(Ne=c.self.location.protocol.slice(0,-1)),J=!pl.test(Ne?Ne.toLowerCase():"")}O=J}if(O)Rt(m,"complete"),Rt(m,"success");else{m.m=6;try{var Le=2<gr(m)?m.g.statusText:""}catch{Le=""}m.l=Le+" ["+m.Z()+"]",Ko(m)}}finally{vs(m)}}}}function vs(m,N){if(m.g){js(m);const O=m.g,J=m.v[0]?()=>{}:null;m.g=null,m.v=null,N||Rt(m,"ready");try{O.onreadystatechange=J}catch{}}}function js(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function gr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var N=this.g.responseText;return m&&N.indexOf(m)==0&&(N=N.substring(m.length)),Nn(N)}};function ml(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(m){const N={};m=(m.g&&2<=gr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<m.length;J++){if(L(m[J]))continue;var O=j(m[J]);const Ne=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const Le=N[Ne]||[];N[Ne]=Le,Le.push(O)}U(N,function(J){return J.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(m,N,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||N}function Yo(m){this.Aa=0,this.i=[],this.j=new it,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cr("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cr("baseRetryDelayMs",5e3,m),this.cb=Cr("retryDelaySeedMs",1e4,m),this.Wa=Cr("forwardChannelMaxRetries",2,m),this.wa=Cr("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new vo(m&&m.concurrentRequestLimit),this.Da=new Ca,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Yo.prototype,n.la=8,n.G=1,n.connect=function(m,N,O,J){dt(0),this.W=m,this.H=N||{},O&&J!==void 0&&(this.H.OSID=O,this.H.OAID=J),this.F=this.X,this.I=_(this,null,this.W),Mi(this)};function lr(m){if(ro(m),m.G==3){var N=m.U++,O=os(m.I);if(Dn(O,"SID",m.K),Dn(O,"RID",N),Dn(O,"TYPE","terminate"),Fi(m,O),N=new an(m,m.j,N),N.L=2,N.v=to(os(O)),O=!1,c.navigator&&c.navigator.sendBeacon)try{O=c.navigator.sendBeacon(N.v.toString(),"")}catch{}!O&&c.Image&&(new Image().src=N.v,O=!0),O||(N.g=$(N.j,null),N.g.ea(N.v)),N.F=Date.now(),Ct(N)}ja(m)}function bi(m){m.g&&(Ra(m),m.g.cancel(),m.g=null)}function ro(m){bi(m),m.u&&(c.clearTimeout(m.u),m.u=null),io(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Mi(m){if(!Rs(m.h)&&!m.s){m.s=!0;var N=m.Ga;Ae||fe(),re||(Ae(),re=!0),ye.add(N,m),m.B=0}}function gl(m,N){return $o(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=N.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Ve(w(m.Ga,m,N),La(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Ne=new an(this,this.j,m);let Le=this.o;if(this.S&&(Le?(Le=k(Le),W(Le,this.S)):Le=this.S),this.m!==null||this.O||(Ne.H=Le,Le=null),this.P)e:{for(var N=0,O=0;O<this.i.length;O++){t:{var J=this.i[O];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(N+=J,4096<N){N=O;break e}if(N===4096||O===this.i.length-1){N=O+1;break e}}N=1e3}else N=1e3;N=_i(this,Ne,N),O=os(this.I),Dn(O,"RID",m),Dn(O,"CVER",22),this.D&&Dn(O,"X-HTTP-Session-Id",this.D),Fi(this,O),Le&&(this.O?N="headers="+encodeURIComponent(String(ys(Le)))+"&"+N:this.m&&Ao(O,this.m,Le)),Xn(this.h,Ne),this.Ua&&Dn(O,"TYPE","init"),this.P?(Dn(O,"$req",N),Dn(O,"SID","null"),Ne.T=!0,or(Ne,O,null)):or(Ne,O,N),this.G=2}}else this.G==3&&(m?No(this,m):this.i.length==0||Rs(this.h)||No(this))};function No(m,N){var O;N?O=N.l:O=m.U++;const J=os(m.I);Dn(J,"SID",m.K),Dn(J,"RID",O),Dn(J,"AID",m.T),Fi(m,J),m.m&&m.o&&Ao(J,m.m,m.o),O=new an(m,m.j,O,m.B+1),m.m===null&&(O.H=m.o),N&&(m.i=N.D.concat(m.i)),N=_i(m,O,1e3),O.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Xn(m.h,O),or(O,J,N)}function Fi(m,N){m.H&&le(m.H,function(O,J){Dn(N,J,O)}),m.l&&xo({},function(O,J){Dn(N,J,O)})}function _i(m,N,O){O=Math.min(m.i.length,O);var J=m.l?w(m.l.Na,m.l,m):null;e:{var Ne=m.i;let Le=-1;for(;;){const Xe=["count="+O];Le==-1?0<O?(Le=Ne[0].g,Xe.push("ofs="+Le)):Le=0:Xe.push("ofs="+Le);let Xt=!0;for(let un=0;un<O;un++){let Qt=Ne[un].g;const Cn=Ne[un].map;if(Qt-=Le,0>Qt)Le=Math.max(0,Ne[un].g-100),Xt=!1;else try{Ia(Cn,Xe,"req"+Qt+"_")}catch{J&&J(Cn)}}if(Xt){J=Xe.join("&");break e}}}return m=m.i.splice(0,O),N.D=m,J}function so(m){if(!m.g&&!m.u){m.Y=1;var N=m.Fa;Ae||fe(),re||(Ae(),re=!0),ye.add(N,m),m.v=0}}function Po(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Ve(w(m.Fa,m),La(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,oc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ve(w(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),bi(this),oc(this))};function Ra(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function oc(m){m.g=new an(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var N=os(m.qa);Dn(N,"RID","rpc"),Dn(N,"SID",m.K),Dn(N,"AID",m.T),Dn(N,"CI",m.F?"0":"1"),!m.F&&m.ja&&Dn(N,"TO",m.ja),Dn(N,"TYPE","xmlhttp"),Fi(m,N),m.m&&m.o&&Ao(N,m.m,m.o),m.L&&(m.g.I=m.L);var O=m.g;m=m.ia,O.L=1,O.v=to(os(N)),O.m=null,O.P=!0,Xr(O,m)}n.Za=function(){this.C!=null&&(this.C=null,bi(this),Po(this),dt(19))};function io(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Vi(m,N){var O=null;if(m.g==N){io(m),Ra(m),m.g=null;var J=2}else if(ss(m.h,N))O=N.D,hl(m.h,N),J=1;else return;if(m.G!=0){if(N.o)if(J==1){O=N.m?N.m.length:0,N=Date.now()-N.F;var Ne=m.B;J=ns(),Rt(J,new Yr(J,O)),Mi(m)}else so(m);else if(Ne=N.s,Ne==3||Ne==0&&0<N.X||!(J==1&&gl(m,N)||J==2&&Po(m)))switch(O&&0<O.length&&(N=m.h,N.i=N.i.concat(O)),Ne){case 1:ws(m,5);break;case 4:ws(m,10);break;case 3:ws(m,6);break;default:ws(m,2)}}}function La(m,N){let O=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(O*=2),O*N}function ws(m,N){if(m.j.info("Error code "+N),N==2){var O=w(m.fb,m),J=m.Xa;const Ne=!J;J=new mr(J||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||bo(J,"https"),to(J),Ne?Oi(J.toString(),O):fl(J.toString(),O)}else dt(2);m.G=0,m.l&&m.l.sa(N),ja(m),ro(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function ja(m){if(m.G=0,m.ka=[],m.l){const N=dl(m.h);(N.length!=0||m.i.length!=0)&&(P(m.ka,N),P(m.ka,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.ra()}}function _(m,N,O){var J=O instanceof mr?os(O):new mr(O);if(J.g!="")N&&(J.g=N+"."+J.g),_o(J,J.s);else{var Ne=c.location;J=Ne.protocol,N=N?N+"."+Ne.hostname:Ne.hostname,Ne=+Ne.port;var Le=new mr(null);J&&bo(Le,J),N&&(Le.g=N),Ne&&_o(Le,Ne),O&&(Le.l=O),J=Le}return O=m.D,N=m.ya,O&&N&&Dn(J,O,N),Dn(J,"VER",m.la),Fi(m,J),J}function $(m,N,O){if(N&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=m.Ca&&!m.pa?new Pn(new no({eb:O})):new Pn(m.pa),N.Ha(m.J),N}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ae(){}n=ae.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ve(){}ve.prototype.g=function(m,N){return new Ce(m,N)};function Ce(m,N){Et.call(this),this.g=new Yo(N),this.l=m,this.h=N&&N.messageUrlParams||null,m=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(m?m["X-WebChannel-Content-Type"]=N.messageContentType:m={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(m?m["X-WebChannel-Client-Profile"]=N.va:m={"X-WebChannel-Client-Profile":N.va}),this.g.S=m,(m=N&&N.Sb)&&!L(m)&&(this.g.m=m),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!L(N)&&(this.g.D=N,m=this.h,m!==null&&N in m&&(m=this.h,N in m&&delete m[N])),this.j=new at(this)}T(Ce,Et),Ce.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ce.prototype.close=function(){lr(this.g)},Ce.prototype.o=function(m){var N=this.g;if(typeof m=="string"){var O={};O.__data__=m,m=O}else this.u&&(O={},O.__data__=dn(m),m=O);N.i.push(new nc(N.Ya++,m)),N.G==3&&Mi(N)},Ce.prototype.N=function(){this.g.l=null,delete this.j,lr(this.g),delete this.g,Ce.aa.N.call(this)};function Be(m){Nr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var N=m.__sm__;if(N){e:{for(const O in N){m=O;break e}m=void 0}(this.i=m)&&(m=this.i,N=N!==null&&m in N?N[m]:void 0),this.data=N}else this.data=m}T(Be,Nr);function Ye(){jn.call(this),this.status=1}T(Ye,jn);function at(m){this.g=m}T(at,ae),at.prototype.ua=function(){Rt(this.g,"a")},at.prototype.ta=function(m){Rt(this.g,new Be(m))},at.prototype.sa=function(m){Rt(this.g,new Ye)},at.prototype.ra=function(){Rt(this.g,"b")},ve.prototype.createWebChannel=ve.prototype.g,Ce.prototype.send=Ce.prototype.o,Ce.prototype.open=Ce.prototype.m,Ce.prototype.close=Ce.prototype.close,s3=function(){return new ve},r3=function(){return ns()},n3=Pt,X0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gn.NO_ERROR=0,gn.TIMEOUT=8,gn.HTTP_ERROR=6,rm=gn,nr.COMPLETE="complete",t3=nr,Ln.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",Et.prototype.listen=Et.prototype.K,nf=Ln,Pn.prototype.listenOnce=Pn.prototype.L,Pn.prototype.getLastError=Pn.prototype.Ka,Pn.prototype.getLastErrorCode=Pn.prototype.Ba,Pn.prototype.getStatus=Pn.prototype.Z,Pn.prototype.getResponseJson=Pn.prototype.Oa,Pn.prototype.getResponseText=Pn.prototype.oa,Pn.prototype.send=Pn.prototype.ea,Pn.prototype.setWithCredentials=Pn.prototype.Ha,e3=Pn}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});const Ix="@firebase/firestore",kx="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new _v("@firebase/firestore");function Dh(){return ih.logLevel}function gt(n,...e){if(ih.logLevel<=mn.DEBUG){const t=e.map(jv);ih.debug(`Firestore (${Sd}): ${n}`,...t)}}function Jl(n,...e){if(ih.logLevel<=mn.ERROR){const t=e.map(jv);ih.error(`Firestore (${Sd}): ${n}`,...t)}}function hd(n,...e){if(ih.logLevel<=mn.WARN){const t=e.map(jv);ih.warn(`Firestore (${Sd}): ${n}`,...t)}}function jv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,i3(n,r,t)}function i3(n,e,t){let r=`FIRESTORE (${Sd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Jl(r),new Error(r)}function Ar(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||i3(e,s,r)}function Sn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends tc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hi.UNAUTHENTICATED))}shutdown(){}}class m7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class g7{constructor(e){this.t=e,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ar(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let i=new Qu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qu,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qu)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ar(typeof r.accessToken=="string",31837,{l:r}),new o3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ar(e===null||typeof e=="string",2055,{h:e}),new hi(e)}}class y7{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=hi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v7{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new y7(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w7{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ga(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ar(this.o===void 0,3512);const r=i=>{i.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,gt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ar(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Rx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=x7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function yn(n,e){return n<e?-1:n>e?1:0}function Q0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return t0(s)===t0(i)?yn(s,i):t0(s)?1:-1}return yn(n.length,e.length)}const b7=55296,_7=57343;function t0(n){const e=n.charCodeAt(0);return e>=b7&&e<=_7}function dd(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="__name__";class Wa{constructor(e,t,r){t===void 0?t=0:t>e.length&&tn(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&tn(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Wa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wa?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=Wa.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return yn(e.length,t.length)}static compareSegments(e,t){const r=Wa.isNumericId(e),s=Wa.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Wa.extractNumericId(e).compare(Wa.extractNumericId(t)):Q0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ru.fromString(e.substring(4,e.length-2))}}class wr extends Wa{construct(e,t,r){return new wr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new yt(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new wr(t)}static emptyPath(){return new wr([])}}const S7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pi extends Wa{construct(e,t,r){return new pi(e,t,r)}static isValidIdentifier(e){return S7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lx}static keyField(){return new pi([Lx])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new yt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new yt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new yt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(r+=c,s++):(i(),s++)}if(i(),a)throw new yt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pi(t)}static emptyPath(){return new pi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(wr.fromString(e))}static fromName(e){return new Vt(wr.fromString(e).popFirst(5))}static empty(){return new Vt(wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new wr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(n,e,t){if(!t)throw new yt(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function E7(n,e,t,r){if(e===!0&&r===!0)throw new yt(tt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jx(n){if(Vt.isDocumentKey(n))throw new yt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function l3(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function yg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":tn(12329,{type:typeof n})}function Xh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new yt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yg(n);throw new yt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(n,e){const t={typeString:n};return e&&(t.value=e),t}function $f(n,e){if(!l3(n))throw new yt(tt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const a=n[r];if(s&&typeof a!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new yt(tt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=-62135596800,Ox=1e6;class xr{static now(){return xr.fromMillis(Date.now())}static fromDate(e){return xr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ox);return new xr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Dx)throw new yt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ox}_compareTo(e){return this.seconds===e.seconds?yn(this.nanoseconds,e.nanoseconds):yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($f(e,xr._jsonSchema))return new xr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xr._jsonSchemaVersion="firestore/timestamp/1.0",xr._jsonSchema={type:ts("string",xr._jsonSchemaVersion),seconds:ts("number"),nanoseconds:ts("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{static fromTimestamp(e){return new en(e)}static min(){return new en(new xr(0,0))}static max(){return new en(new xr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=-1;function T7(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=en.fromTimestamp(r===1e9?new xr(t+1,0):new xr(t,r));return new ou(s,Vt.empty(),e)}function N7(n){return new ou(n.readTime,n.key,Af)}class ou{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ou(en.min(),Vt.empty(),Af)}static max(){return new ou(en.max(),Vt.empty(),Af)}}function P7(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Vt.comparator(n.documentKey,e.documentKey),t!==0?t:yn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vg(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==C7)throw n;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ge((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ge?t:Ge.resolve(t)}catch(t){return Ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ge.reject(t)}static resolve(e){return new Ge((t,r)=>{t(e)})}static reject(e){return new Ge((t,r)=>{r(e)})}static waitFor(e){return new Ge((t,r)=>{let s=0,i=0,a=!1;e.forEach(c=>{++s,c.next(()=>{++i,a&&i===s&&t()},u=>r(u))}),a=!0,i===s&&t()})}static or(e){let t=Ge.resolve(!1);for(const r of e)t=t.next(s=>s?Ge.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new Ge((r,s)=>{const i=e.length,a=new Array(i);let c=0;for(let u=0;u<i;u++){const d=u;t(e[d]).next(p=>{a[d]=p,++c,c===i&&r(a)},p=>s(p))}})}static doWhile(e,t){return new Ge((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function k7(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ad(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=-1;function xg(n){return n==null}function jm(n){return n===0&&1/n==-1/0}function L7(n){return typeof n=="number"&&Number.isInteger(n)&&!jm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="";function j7(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Mx(e)),e=D7(n.get(t),e);return Mx(e)}function D7(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case c3:t+="";break;default:t+=i}}return t}function Mx(n){return n+c3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ed(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function u3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,t){this.comparator=e,this.root=t||Hs.EMPTY}insert(e,t){return new Gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hs.BLACK,null,null))}remove(e){return new Gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vp(this.root,e,this.comparator,!0)}}class Vp{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hs{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Hs.RED,this.left=s??Hs.EMPTY,this.right=i??Hs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Hs(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Hs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Hs.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tn(27949);return e+(this.isRed()?0:1)}}Hs.EMPTY=null,Hs.RED=!0,Hs.BLACK=!1;Hs.EMPTY=new class{constructor(){this.size=0}get key(){throw tn(57766)}get value(){throw tn(16141)}get color(){throw tn(16727)}get left(){throw tn(29726)}get right(){throw tn(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new Hs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.comparator=e,this.data=new Gr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vx(this.data.getIterator())}getIteratorFrom(e){return new Vx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ps)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ps(this.comparator);return t.data=e,t}}class Vx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.fields=e,e.sort(pi.comparator)}static empty(){return new Kc([])}unionWith(e){let t=new ps(pi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Kc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new h3("Invalid base64 string: "+i):i}}(e);return new Ws(t)}static fromUint8Array(e){const t=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Ws(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ws.EMPTY_BYTE_STRING=new Ws("");const O7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function au(n){if(Ar(!!n,39018),typeof n=="string"){let e=0;const t=O7.exec(n);if(Ar(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ur(n.seconds),nanos:Ur(n.nanos)}}function Ur(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function lu(n){return typeof n=="string"?Ws.fromBase64String(n):Ws.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="server_timestamp",f3="__type__",p3="__previous_value__",m3="__local_write_time__";function Dv(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[f3])==null?void 0:r.stringValue)===d3}function bg(n){const e=n.mapValue.fields[p3];return Dv(e)?bg(e):e}function Ef(n){const e=au(n.mapValue.fields[m3].timestampValue);return new xr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e,t,r,s,i,a,c,u,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=p}}const Dm="(default)";class Tf{constructor(e,t){this.projectId=e,this.database=t||Dm}static empty(){return new Tf("","")}get isDefaultDatabase(){return this.database===Dm}isEqual(e){return e instanceof Tf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="__type__",F7="__max__",Bp={mapValue:{}},y3="__vector__",Om="value";function cu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dv(n)?4:B7(n)?9007199254740991:V7(n)?10:11:tn(28295,{value:n})}function ol(n,e){if(n===e)return!0;const t=cu(n);if(t!==cu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ef(n).isEqual(Ef(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=au(s.timestampValue),c=au(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return lu(s.bytesValue).isEqual(lu(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return Ur(s.geoPointValue.latitude)===Ur(i.geoPointValue.latitude)&&Ur(s.geoPointValue.longitude)===Ur(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ur(s.integerValue)===Ur(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Ur(s.doubleValue),c=Ur(i.doubleValue);return a===c?jm(a)===jm(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return dd(n.arrayValue.values||[],e.arrayValue.values||[],ol);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},c=i.mapValue.fields||{};if(Fx(a)!==Fx(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!ol(a[u],c[u])))return!1;return!0}(n,e);default:return tn(52216,{left:n})}}function Nf(n,e){return(n.values||[]).find(t=>ol(t,e))!==void 0}function fd(n,e){if(n===e)return 0;const t=cu(n),r=cu(e);if(t!==r)return yn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Ur(i.integerValue||i.doubleValue),u=Ur(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return Bx(n.timestampValue,e.timestampValue);case 4:return Bx(Ef(n),Ef(e));case 5:return Q0(n.stringValue,e.stringValue);case 6:return function(i,a){const c=lu(i),u=lu(a);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const p=yn(c[d],u[d]);if(p!==0)return p}return yn(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=yn(Ur(i.latitude),Ur(a.latitude));return c!==0?c:yn(Ur(i.longitude),Ur(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ux(n.arrayValue,e.arrayValue);case 10:return function(i,a){var w,y,T,E;const c=i.fields||{},u=a.fields||{},d=(w=c[Om])==null?void 0:w.arrayValue,p=(y=u[Om])==null?void 0:y.arrayValue,g=yn(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((E=p==null?void 0:p.values)==null?void 0:E.length)||0);return g!==0?g:Ux(d,p)}(n.mapValue,e.mapValue);case 11:return function(i,a){if(i===Bp.mapValue&&a===Bp.mapValue)return 0;if(i===Bp.mapValue)return 1;if(a===Bp.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),d=a.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const w=Q0(u[g],p[g]);if(w!==0)return w;const y=fd(c[u[g]],d[p[g]]);if(y!==0)return y}return yn(u.length,p.length)}(n.mapValue,e.mapValue);default:throw tn(23264,{he:t})}}function Bx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yn(n,e);const t=au(n),r=au(e),s=yn(t.seconds,r.seconds);return s!==0?s:yn(t.nanos,r.nanos)}function Ux(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=fd(t[s],r[s]);if(i)return i}return yn(t.length,r.length)}function pd(n){return J0(n)}function J0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=au(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return lu(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Vt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=J0(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${J0(t.fields[a])}`;return s+"}"}(n.mapValue):tn(61005,{value:n})}function sm(n){switch(cu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bg(n);return e?16+sm(e):16;case 5:return 2*n.stringValue.length;case 6:return lu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+sm(i),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ed(r.fields,(i,a)=>{s+=i.length+sm(a)}),s}(n.mapValue);default:throw tn(13486,{value:n})}}function zx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Z0(n){return!!n&&"integerValue"in n}function Ov(n){return!!n&&"arrayValue"in n}function qx(n){return!!n&&"nullValue"in n}function $x(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function n0(n){return!!n&&"mapValue"in n}function V7(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[g3])==null?void 0:r.stringValue)===y3}function pf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ed(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pf(n.arrayValue.values[t]);return e}return{...n}}function B7(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===F7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.value=e}static empty(){return new Ka({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!n0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pf(t)}setAll(e){let t=pi.emptyPath(),r={},s=[];e.forEach((a,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,r,s),r={},s=[],t=c.popLast()}a?r[c.lastSegment()]=pf(a):s.push(c.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());n0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ol(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];n0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ed(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ka(pf(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t,r,s,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new di(e,0,en.min(),en.min(),en.min(),Ka.empty(),0)}static newFoundDocument(e,t,r,s){return new di(e,1,t,en.min(),r,s,0)}static newNoDocument(e,t){return new di(e,2,t,en.min(),en.min(),Ka.empty(),0)}static newUnknownDocument(e,t){return new di(e,3,t,en.min(),en.min(),Ka.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(en.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ka.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ka.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=en.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,t){this.position=e,this.inclusive=t}}function Hx(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],a=n.position[s];if(i.field.isKeyField()?r=Vt.comparator(Vt.fromName(a.referenceValue),t.key):r=fd(a,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ol(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t="asc"){this.field=e,this.dir=t}}function U7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{}class es extends v3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new q7(e,t,r):t==="array-contains"?new W7(e,r):t==="in"?new G7(e,r):t==="not-in"?new K7(e,r):t==="array-contains-any"?new Y7(e,r):new es(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new $7(e,r):new H7(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(fd(t,this.value)):t!==null&&cu(this.value)===cu(t)&&this.matchesComparison(fd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _a extends v3{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new _a(e,t)}matches(e){return w3(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w3(n){return n.op==="and"}function x3(n){return z7(n)&&w3(n)}function z7(n){for(const e of n.filters)if(e instanceof _a)return!1;return!0}function ey(n){if(n instanceof es)return n.field.canonicalString()+n.op.toString()+pd(n.value);if(x3(n))return n.filters.map(e=>ey(e)).join(",");{const e=n.filters.map(t=>ey(t)).join(",");return`${n.op}(${e})`}}function b3(n,e){return n instanceof es?function(r,s){return s instanceof es&&r.op===s.op&&r.field.isEqual(s.field)&&ol(r.value,s.value)}(n,e):n instanceof _a?function(r,s){return s instanceof _a&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,c)=>i&&b3(a,s.filters[c]),!0):!1}(n,e):void tn(19439)}function _3(n){return n instanceof es?function(t){return`${t.field.canonicalString()} ${t.op} ${pd(t.value)}`}(n):n instanceof _a?function(t){return t.op.toString()+" {"+t.getFilters().map(_3).join(" ,")+"}"}(n):"Filter"}class q7 extends es{constructor(e,t,r){super(e,t,r),this.key=Vt.fromName(r.referenceValue)}matches(e){const t=Vt.comparator(e.key,this.key);return this.matchesComparison(t)}}class $7 extends es{constructor(e,t){super(e,"in",t),this.keys=S3("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class H7 extends es{constructor(e,t){super(e,"not-in",t),this.keys=S3("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function S3(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(r=>Vt.fromName(r.referenceValue))}class W7 extends es{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ov(t)&&Nf(t.arrayValue,this.value)}}class G7 extends es{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nf(this.value.arrayValue,t)}}class K7 extends es{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Nf(this.value.arrayValue,t)}}class Y7 extends es{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ov(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Nf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,t=null,r=[],s=[],i=null,a=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=c,this.Te=null}}function Gx(n,e=null,t=[],r=[],s=null,i=null,a=null){return new X7(n,e,t,r,s,i,a)}function Mv(n){const e=Sn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ey(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),xg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>pd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>pd(r)).join(",")),e.Te=t}return e.Te}function Fv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!U7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!b3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wx(n.startAt,e.startAt)&&Wx(n.endAt,e.endAt)}function ty(n){return Vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t=null,r=[],s=[],i=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Q7(n,e,t,r,s,i,a,c){return new Td(n,e,t,r,s,i,a,c)}function Vv(n){return new Td(n)}function Kx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function A3(n){return n.collectionGroup!==null}function mf(n){const e=Sn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new ps(pi.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Pf(i,r))}),t.has(pi.keyField().canonicalString())||e.Ie.push(new Pf(pi.keyField(),r))}return e.Ie}function el(n){const e=Sn(n);return e.Ee||(e.Ee=J7(e,mf(n))),e.Ee}function J7(n,e){if(n.limitType==="F")return Gx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Pf(s.field,i)});const t=n.endAt?new Mm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Mm(n.startAt.position,n.startAt.inclusive):null;return Gx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ny(n,e){const t=n.filters.concat([e]);return new Td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ry(n,e,t){return new Td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _g(n,e){return Fv(el(n),el(e))&&n.limitType===e.limitType}function E3(n){return`${Mv(el(n))}|lt:${n.limitType}`}function Oh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>_3(s)).join(", ")}]`),xg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>pd(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>pd(s)).join(",")),`Target(${r})`}(el(n))}; limitType=${n.limitType})`}function Sg(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Vt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of mf(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(a,c,u){const d=Hx(a,c,u);return a.inclusive?d<=0:d<0}(r.startAt,mf(r),s)||r.endAt&&!function(a,c,u){const d=Hx(a,c,u);return a.inclusive?d>=0:d>0}(r.endAt,mf(r),s))}(n,e)}function Z7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function T3(n){return(e,t)=>{let r=!1;for(const s of mf(n)){const i=eO(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function eO(n,e,t){const r=n.field.isKeyField()?Vt.comparator(e.key,t.key):function(i,a,c){const u=a.data.field(i),d=c.data.field(i);return u!==null&&d!==null?fd(u,d):tn(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tn(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ed(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return u3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new Gr(Vt.comparator);function uu(){return tO}const N3=new Gr(Vt.comparator);function rf(...n){let e=N3;for(const t of n)e=e.insert(t.key,t);return e}function nO(n){let e=N3;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ku(){return gf()}function P3(){return gf()}function gf(){return new uh(n=>n.toString(),(n,e)=>n.isEqual(e))}const rO=new ps(Vt.comparator);function Tn(...n){let e=rO;for(const t of n)e=e.add(t);return e}const sO=new ps(yn);function iO(){return sO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jm(e)?"-0":e}}function C3(n){return{integerValue:""+n}}function oO(n,e){return L7(e)?C3(e):Bv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this._=void 0}}function aO(n,e,t){return n instanceof sy?function(s,i){const a={fields:{[f3]:{stringValue:d3},[m3]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Dv(i)&&(i=bg(i)),i&&(a.fields[p3]=i),{mapValue:a}}(t,e):n instanceof Fm?I3(n,e):n instanceof Vm?k3(n,e):function(s,i){const a=cO(s,i),c=Yx(a)+Yx(s.Ae);return Z0(a)&&Z0(s.Ae)?C3(c):Bv(s.serializer,c)}(n,e)}function lO(n,e,t){return n instanceof Fm?I3(n,e):n instanceof Vm?k3(n,e):t}function cO(n,e){return n instanceof iy?function(r){return Z0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class sy extends Ag{}class Fm extends Ag{constructor(e){super(),this.elements=e}}function I3(n,e){const t=R3(e);for(const r of n.elements)t.some(s=>ol(s,r))||t.push(r);return{arrayValue:{values:t}}}class Vm extends Ag{constructor(e){super(),this.elements=e}}function k3(n,e){let t=R3(e);for(const r of n.elements)t=t.filter(s=>!ol(s,r));return{arrayValue:{values:t}}}class iy extends Ag{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Yx(n){return Ur(n.integerValue||n.doubleValue)}function R3(n){return Ov(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function uO(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Fm&&s instanceof Fm||r instanceof Vm&&s instanceof Vm?dd(r.elements,s.elements,ol):r instanceof iy&&s instanceof iy?ol(r.Ae,s.Ae):r instanceof sy&&s instanceof sy}(n.transform,e.transform)}class Ju{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ju}static exists(e){return new Ju(void 0,e)}static updateTime(e){return new Ju(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function im(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Uv{}function L3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new dO(n.key,Ju.none()):new zv(n.key,n.data,Ju.none());{const t=n.data,r=Ka.empty();let s=new ps(pi.comparator);for(let i of e.fields)if(!s.has(i)){let a=t.field(i);a===null&&i.length>1&&(i=i.popLast(),a=t.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Eg(n.key,r,new Kc(s.toArray()),Ju.none())}}function hO(n,e,t){n instanceof zv?function(s,i,a){const c=s.value.clone(),u=Qx(s.fieldTransforms,i,a.transformResults);c.setAll(u),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Eg?function(s,i,a){if(!im(s.precondition,i))return void i.convertToUnknownDocument(a.version);const c=Qx(s.fieldTransforms,i,a.transformResults),u=i.data;u.setAll(j3(s)),u.setAll(c),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function yf(n,e,t,r){return n instanceof zv?function(i,a,c,u){if(!im(i.precondition,a))return c;const d=i.value.clone(),p=Jx(i.fieldTransforms,u,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Eg?function(i,a,c,u){if(!im(i.precondition,a))return c;const d=Jx(i.fieldTransforms,u,a),p=a.data;return p.setAll(j3(i)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(i,a,c){return im(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(n,e,t)}function Xx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&dd(r,s,(i,a)=>uO(i,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zv extends Uv{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Eg extends Uv{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function j3(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Qx(n,e,t){const r=new Map;Ar(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const i=n[s],a=i.transform,c=e.data.field(i.field);r.set(i.field,lO(a,c,t[s]))}return r}function Jx(n,e,t){const r=new Map;for(const s of n){const i=s.transform,a=t.data.field(s.field);r.set(s.field,aO(i,a,e))}return r}class dO extends Uv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&hO(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=yf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=yf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=P3();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let c=this.applyToLocalView(a,i.mutatedFields);c=t.has(s.key)?null:c;const u=L3(a,c);u!==null&&r.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(en.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tn())}isEqual(e){return this.batchId===e.batchId&&dd(this.mutations,e.mutations,(t,r)=>Xx(t,r))&&dd(this.baseMutations,e.baseMutations,(t,r)=>Xx(t,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr,_n;function D3(n){if(n===void 0)return Jl("GRPC error has no .code"),tt.UNKNOWN;switch(n){case Jr.OK:return tt.OK;case Jr.CANCELLED:return tt.CANCELLED;case Jr.UNKNOWN:return tt.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return tt.INTERNAL;case Jr.UNAVAILABLE:return tt.UNAVAILABLE;case Jr.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Jr.NOT_FOUND:return tt.NOT_FOUND;case Jr.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Jr.ABORTED:return tt.ABORTED;case Jr.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Jr.DATA_LOSS:return tt.DATA_LOSS;default:return tn(39323,{code:n})}}(_n=Jr||(Jr={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new ru([4294967295,4294967295],0);function Zx(n){const e=gO().encode(n),t=new ZA;return t.update(e),new Uint8Array(t.digest())}function eb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ru([t,r],0),new ru([s,i],0)]}class qv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sf(`Invalid padding: ${t}`);if(r<0)throw new sf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new sf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ru.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(ru.fromNumber(r)));return s.compare(yO)===1&&(s=new ru([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Zx(e),[r,s]=eb(t);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new qv(i,s,t);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.ge===0)return;const t=Zx(e),[r,s]=eb(t);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Hf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Tg(en.min(),s,new Gr(yn),uu(),Tn())}}class Hf{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Hf(r,t,Tn(),Tn(),Tn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class O3{constructor(e,t){this.targetId=e,this.Ce=t}}class M3{constructor(e,t,r=Ws.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class tb{constructor(){this.ve=0,this.Fe=nb(),this.Me=Ws.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Tn(),t=Tn(),r=Tn();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:tn(38017,{changeType:i})}}),new Hf(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=nb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ar(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vO{constructor(e){this.Ge=e,this.ze=new Map,this.je=uu(),this.Je=Up(),this.He=Up(),this.Ye=new Gr(yn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:tn(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,s)=>{this.rt(s)&&t(s)})}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(ty(i))if(r===0){const a=new Vt(i.path);this.et(t,a,di.newNoDocument(a,en.min()))}else Ar(r===1,20013,{expectedCount:r});else{const a=this._t(t);if(a!==r){const c=this.ut(e),u=c?this.ct(c,e,a):1;if(u!==0){this.it(t);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let a,c;try{a=lu(r).toUint8Array()}catch(u){if(u instanceof h3)return hd("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new qv(a,s,i)}catch(u){return hd(u instanceof sf?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const a=this.Ge.ht(),c=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(t,i,null),s++)}),s}Tt(e){const t=new Map;this.ze.forEach((i,a)=>{const c=this.ot(a);if(c){if(i.current&&ty(c.target)){const u=new Vt(c.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,di.newNoDocument(u,e))}i.Be&&(t.set(a,i.ke()),i.qe())}});let r=Tn();this.He.forEach((i,a)=>{let c=!0;a.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new Tg(e,t,this.Ye,this.je,r);return this.je=uu(),this.Je=Up(),this.He=Up(),this.Ye=new Gr(yn),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new tb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ps(yn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ps(yn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||gt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Up(){return new Gr(Vt.comparator)}function nb(){return new Gr(Vt.comparator)}const wO={asc:"ASCENDING",desc:"DESCENDING"},xO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bO={and:"AND",or:"OR"};class _O{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function oy(n,e){return n.useProto3Json||xg(e)?e:{value:e}}function ay(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Qh(n){return Ar(!!n,49232),en.fromTimestamp(function(t){const r=au(t);return new xr(r.seconds,r.nanos)}(n))}function V3(n,e){return ly(n,e).canonicalString()}function ly(n,e){const t=function(s){return new wr(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function B3(n){const e=wr.fromString(n);return Ar(H3(e),10190,{key:e.toString()}),e}function r0(n,e){const t=B3(e);if(t.get(1)!==n.databaseId.projectId)throw new yt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new yt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Vt(z3(t))}function U3(n,e){return V3(n.databaseId,e)}function SO(n){const e=B3(n);return e.length===4?wr.emptyPath():z3(e)}function rb(n){return new wr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function z3(n){return Ar(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function AO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:tn(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,p){return d.useProto3Json?(Ar(p===void 0||typeof p=="string",58123),Ws.fromBase64String(p||"")):(Ar(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Ws.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(d){const p=d.code===void 0?tt.UNKNOWN:D3(d.code);return new yt(p,d.message||"")}(a);t=new M3(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=r0(n,r.document.name),i=Qh(r.document.updateTime),a=r.document.createTime?Qh(r.document.createTime):en.min(),c=new Ka({mapValue:{fields:r.document.fields}}),u=di.newFoundDocument(s,i,a,c),d=r.targetIds||[],p=r.removedTargetIds||[];t=new om(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=r0(n,r.document),i=r.readTime?Qh(r.readTime):en.min(),a=di.newNoDocument(s,i),c=r.removedTargetIds||[];t=new om([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=r0(n,r.document),i=r.removedTargetIds||[];t=new om([],i,s,null)}else{if(!("filter"in e))return tn(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new mO(s,i),c=r.targetId;t=new O3(c,a)}}return t}function EO(n,e){return{documents:[U3(n,e.path)]}}function TO(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=U3(n,s);const i=function(d){if(d.length!==0)return $3(_a.create(d,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(p=>function(w){return{field:Mh(w.field),direction:CO(w.dir)}}(p))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=oy(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:t,parent:s}}function NO(n){let e=SO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ar(r===1,65062);const p=t.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];t.where&&(i=function(g){const w=q3(g);return w instanceof _a&&x3(w)?w.getFilters():[w]}(t.where));let a=[];t.orderBy&&(a=function(g){return g.map(w=>function(T){return new Pf(Fh(T.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(g){let w;return w=typeof g=="object"?g.value:g,xg(w)?null:w}(t.limit));let u=null;t.startAt&&(u=function(g){const w=!!g.before,y=g.values||[];return new Mm(y,w)}(t.startAt));let d=null;return t.endAt&&(d=function(g){const w=!g.before,y=g.values||[];return new Mm(y,w)}(t.endAt)),Q7(e,s,a,i,c,"F",u,d)}function PO(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function q3(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Fh(t.unaryFilter.field);return es.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fh(t.unaryFilter.field);return es.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fh(t.unaryFilter.field);return es.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Fh(t.unaryFilter.field);return es.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tn(61313);default:return tn(60726)}}(n):n.fieldFilter!==void 0?function(t){return es.create(Fh(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tn(58110);default:return tn(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _a.create(t.compositeFilter.filters.map(r=>q3(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return tn(1026)}}(t.compositeFilter.op))}(n):tn(30097,{filter:n})}function CO(n){return wO[n]}function IO(n){return xO[n]}function kO(n){return bO[n]}function Mh(n){return{fieldPath:n.canonicalString()}}function Fh(n){return pi.fromServerFormat(n.fieldPath)}function $3(n){return n instanceof es?function(t){if(t.op==="=="){if($x(t.value))return{unaryFilter:{field:Mh(t.field),op:"IS_NAN"}};if(qx(t.value))return{unaryFilter:{field:Mh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($x(t.value))return{unaryFilter:{field:Mh(t.field),op:"IS_NOT_NAN"}};if(qx(t.value))return{unaryFilter:{field:Mh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mh(t.field),op:IO(t.op),value:t.value}}}(n):n instanceof _a?function(t){const r=t.getFilters().map(s=>$3(s));return r.length===1?r[0]:{compositeFilter:{op:kO(t.op),filters:r}}}(n):tn(54877,{filter:n})}function H3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t,r,s,i=en.min(),a=en.min(),c=Ws.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Yc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.yt=e}}function LO(n){const e=NO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ry(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.Cn=new DO}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ge.resolve()}getCollectionParents(e,t){return Ge.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ge.resolve()}deleteFieldIndex(e,t){return Ge.resolve()}deleteAllFieldIndexes(e){return Ge.resolve()}createTargetIndexes(e,t){return Ge.resolve()}getDocumentsMatchingTarget(e,t){return Ge.resolve(null)}getIndexType(e,t){return Ge.resolve(0)}getFieldIndexes(e,t){return Ge.resolve([])}getNextCollectionGroupToUpdate(e){return Ge.resolve(null)}getMinOffset(e,t){return Ge.resolve(ou.min())}getMinOffsetFromCollectionGroup(e,t){return Ge.resolve(ou.min())}updateCollectionGroup(e,t,r){return Ge.resolve()}updateIndexEntries(e,t){return Ge.resolve()}}class DO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new ps(wr.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ps(wr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W3=41943040;class Xi{static withCacheSize(e){return new Xi(e,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(W3,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new md(0)}static cr(){return new md(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="LruGarbageCollector",OO=1048576;function ob([n,e],[t,r]){const s=yn(n,t);return s===0?yn(e,r):s}class MO{constructor(e){this.Ir=e,this.buffer=new ps(ob),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ob(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){gt(ib,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ad(t)?gt(ib,"Ignoring IndexedDB error during garbage collection: ",t):await vg(t)}await this.Vr(3e5)})}}class VO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Ge.resolve(wg.ce);const r=new MO(t);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),Ge.resolve(sb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sb):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,i,a,c,u,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,t))).next(g=>(i=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(d=Date.now(),Dh()<=mn.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${s} in `+(c-a)+`ms
	Removed ${i} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-p}ms`),Ge.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g})))}}function BO(n,e){return new VO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.changes=new uh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,di.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&yf(r.mutation,s,Kc.empty(),xr.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Tn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Tn()){const s=Ku();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let a=rf();return i.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=Ku();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Tn()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,c)=>{t.set(a,c)})})}computeViews(e,t,r,s){let i=uu();const a=gf(),c=function(){return gf()}();return t.forEach((u,d)=>{const p=r.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof Eg)?i=i.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),yf(p.mutation,d,p.mutation.getFieldMask(),xr.now())):a.set(d.key,Kc.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,p)=>a.set(d,p)),t.forEach((d,p)=>c.set(d,new zO(p,a.get(d)??null))),c))}recalculateAndSaveOverlays(e,t){const r=gf();let s=new Gr((a,c)=>a-c),i=Tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const c of a)c.keys().forEach(u=>{const d=t.get(u);if(d===null)return;let p=r.get(u)||Kc.empty();p=c.applyToLocalView(d,p),r.set(u,p);const g=(s.get(c.batchId)||Tn()).add(u);s=s.insert(c.batchId,g)})}).next(()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,p=u.value,g=P3();p.forEach(w=>{if(!i.has(w)){const y=L3(t.get(w),r.get(w));y!==null&&g.set(w,y),i=i.add(w)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Ge.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(a){return Vt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):A3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):Ge.resolve(Ku());let c=Af,u=i;return a.next(d=>Ge.forEach(d,(p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),i.get(p)?Ge.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{u=u.insert(p,w)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,Tn())).next(p=>({batchId:c,changes:nO(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Vt(t)).next(r=>{let s=rf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let a=rf();return this.indexManager.getCollectionParents(e,i).next(c=>Ge.forEach(c,u=>{const d=function(g,w){return new Td(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(p=>{p.forEach((g,w)=>{a=a.insert(g,w)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(a=>{i.forEach((u,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,di.newInvalidDocument(p)))});let c=rf();return a.forEach((u,d)=>{const p=i.get(u);p!==void 0&&yf(p.mutation,d,Kc.empty(),xr.now()),Sg(t,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ge.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Qh(s.createTime)}}(t)),Ge.resolve()}getNamedQuery(e,t){return Ge.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(s){return{name:s.name,query:LO(s.bundledQuery),readTime:Qh(s.readTime)}}(t)),Ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.overlays=new Gr(Vt.comparator),this.qr=new Map}getOverlay(e,t){return Ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ku();return Ge.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.St(e,t,i)}),Ge.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),Ge.resolve()}getOverlaysForCollection(e,t,r){const s=Ku(),i=t.length+1,a=new Vt(t.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return Ge.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new Gr((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=i.get(d.largestBatchId);p===null&&(p=Ku(),i=i.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=Ku(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=s)););return Ge.resolve(c)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new pO(t,r));let i=this.qr.get(t);i===void 0&&(i=Tn(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.sessionToken=Ws.EMPTY_BYTE_STRING}getSessionToken(e){return Ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.Qr=new ps(Cs.$r),this.Ur=new ps(Cs.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Cs(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Cs(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new Vt(new wr([])),r=new Cs(t,e),s=new Cs(t,e+1),i=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Vt(new wr([])),r=new Cs(t,e),s=new Cs(t,e+1);let i=Tn();return this.Ur.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const t=new Cs(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Cs{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Vt.comparator(e.key,t.key)||yn(e.Yr,t.Yr)}static Kr(e,t){return yn(e.Yr,t.Yr)||Vt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ps(Cs.$r)}checkEmpty(e){return Ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new fO(i,t,r,s);this.mutationQueue.push(a);for(const c of s)this.Zr=this.Zr.add(new Cs(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ge.resolve(a)}lookupMutationBatch(e,t){return Ge.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),i=s<0?0:s;return Ge.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ge.resolve(this.mutationQueue.length===0?R7:this.tr-1)}getAllMutationBatches(e){return Ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Cs(t,0),s=new Cs(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],a=>{const c=this.Xr(a.Yr);i.push(c)}),Ge.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ps(yn);return t.forEach(s=>{const i=new Cs(s,0),a=new Cs(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],c=>{r=r.add(c.Yr)})}),Ge.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;Vt.isDocumentKey(i)||(i=i.child(""));const a=new Cs(new Vt(i),0);let c=new ps(yn);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(u.Yr)),!0)},a),Ge.resolve(this.ti(c))}ti(e){const t=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ar(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ge.forEach(t.mutations,s=>{const i=new Cs(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new Cs(t,0),s=this.Zr.firstAfterOrEqual(r);return Ge.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ge.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.ri=e,this.docs=function(){return new Gr(Vt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ge.resolve(r?r.document.mutableCopy():di.newInvalidDocument(t))}getEntries(e,t){let r=uu();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():di.newInvalidDocument(s))}),Ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=uu();const a=t.path,c=new Vt(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||P7(N7(p),r)<=0||(s.has(p.key)||Sg(t,p))&&(i=i.insert(p.key,p.mutableCopy()))}return Ge.resolve(i)}getAllFromCollectionGroup(e,t,r,s){tn(9500)}ii(e,t){return Ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new YO(this)}getSize(e){return Ge.resolve(this.size)}}class YO extends UO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),Ge.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.persistence=e,this.si=new uh(t=>Mv(t),Fv),this.lastRemoteSnapshotVersion=en.min(),this.highestTargetId=0,this.oi=0,this._i=new $v,this.targetCount=0,this.ai=md.ur()}forEachTarget(e,t){return this.si.forEach((r,s)=>t(s)),Ge.resolve()}getLastRemoteSnapshotVersion(e){return Ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Ge.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new md(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ge.resolve()}updateTargetData(e,t){return this.Pr(t),Ge.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ge.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.si.forEach((a,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),Ge.waitFor(i).next(()=>s)}getTargetCount(e){return Ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Ge.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Ge.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),Ge.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Ge.resolve(r)}containsKey(e,t){return Ge.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,t){this.ui={},this.overlays={},this.ci=new wg(0),this.li=!1,this.li=!0,this.hi=new WO,this.referenceDelegate=e(this),this.Pi=new XO(this),this.indexManager=new jO,this.remoteDocumentCache=function(s){return new KO(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new RO(t),this.Ii=new $O(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new GO(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){gt("MemoryPersistence","Starting transaction:",e);const s=new QO(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,t){return Ge.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class QO extends I7{constructor(e){super(),this.currentSequenceNumber=e}}class Hv{constructor(e){this.persistence=e,this.Ri=new $v,this.Vi=null}static mi(e){return new Hv(e)}get fi(){if(this.Vi)return this.Vi;throw tn(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Ge.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Ge.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ge.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.fi,r=>{const s=Vt.fromPath(r);return this.gi(e,s).next(i=>{i||t.removeEntry(s,en.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ge.or([()=>Ge.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Bm{constructor(e,t){this.persistence=e,this.pi=new uh(r=>j7(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=BO(this,t)}static mi(e,t){return new Bm(e,t)}Ei(){}di(e){return Ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return Ge.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?Ge.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,t).next(c=>{c||(r++,i.removeEntry(a,en.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ge.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ge.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ge.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sm(e.data.value)),t}br(e,t,r){return Ge.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Ge.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=Tn(),s=Tn();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Wv(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return JL()?8:k7(yi())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ys(e,t).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,t,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new JO;return this.Ss(e,t,a).next(c=>{if(i.result=c,this.Vs)return this.bs(e,t,a,c.size)})}).next(()=>i.result)}bs(e,t,r,s){return r.documentReadCount<this.fs?(Dh()<=mn.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Oh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ge.resolve()):(Dh()<=mn.DEBUG&&gt("QueryEngine","Query:",Oh(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Dh()<=mn.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Oh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,el(t))):Ge.resolve())}ys(e,t){if(Kx(t))return Ge.resolve(null);let r=el(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=ry(t,null,"F"),r=el(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=Tn(...i);return this.ps.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Ds(t,c);return this.Cs(t,d,a,u.readTime)?this.ys(e,ry(t,null,"F")):this.vs(e,d,t,u)}))})))}ws(e,t,r,s){return Kx(t)||s.isEqual(en.min())?Ge.resolve(null):this.ps.getDocuments(e,r).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,r,s)?Ge.resolve(null):(Dh()<=mn.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Oh(t)),this.vs(e,a,t,T7(s,Af)).next(c=>c))})}Ds(e,t){let r=new ps(T3(e));return t.forEach((s,i)=>{Sg(e,i)&&(r=r.add(i))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,r){return Dh()<=mn.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Oh(t)),this.ps.getDocumentsMatchingQuery(e,t,ou.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="LocalStore",eM=3e8;class tM{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Gr(yn),this.xs=new uh(i=>Mv(i),Fv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function nM(n,e,t,r){return new tM(n,e,t,r)}async function K3(n,e){const t=Sn(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],c=[];let u=Tn();for(const d of s){a.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of i){c.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next(d=>({Ls:d,removedBatchIds:a,addedBatchIds:c}))})})}function Y3(n){const e=Sn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function rM(n,e){const t=Sn(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const c=[];e.targetChanges.forEach((p,g)=>{const w=s.get(g);if(!w)return;c.push(t.Pi.removeMatchingKeys(i,p.removedDocuments,g).next(()=>t.Pi.addMatchingKeys(i,p.addedDocuments,g)));let y=w.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(Ws.EMPTY_BYTE_STRING,en.min()).withLastLimboFreeSnapshotVersion(en.min()):p.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(p.resumeToken,r)),s=s.insert(g,y),function(E,P,I){return E.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=eM?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(w,y,p)&&c.push(t.Pi.updateTargetData(i,y))});let u=uu(),d=Tn();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(i,p))}),c.push(sM(i,a,e.documentUpdates).next(p=>{u=p.ks,d=p.qs})),!r.isEqual(en.min())){const p=t.Pi.getLastRemoteSnapshotVersion(i).next(g=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(p)}return Ge.waitFor(c).next(()=>a.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(t.Ms=s,i))}function sM(n,e,t){let r=Tn(),s=Tn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=uu();return t.forEach((c,u)=>{const d=i.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(en.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):gt(Gv,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{ks:a,qs:s}})}function iM(n,e){const t=Sn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Pi.getTargetData(r,e).next(i=>i?(s=i,Ge.resolve(s)):t.Pi.allocateTargetId(r).next(a=>(s=new Yc(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function cy(n,e,t){const r=Sn(n),s=r.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Ad(a))throw a;gt(Gv,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function ab(n,e,t){const r=Sn(n);let s=en.min(),i=Tn();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,p){const g=Sn(u),w=g.xs.get(p);return w!==void 0?Ge.resolve(g.Ms.get(w)):g.Pi.getTargetData(d,p)}(r,a,el(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,c.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,t?s:en.min(),t?i:Tn())).next(c=>(oM(r,Z7(e),c),{documents:c,Qs:i})))}function oM(n,e,t){let r=n.Os.get(e)||en.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.Os.set(e,r)}class lb{constructor(){this.activeTargetIds=iO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aM{constructor(){this.Mo=new lb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="ConnectivityMonitor";class ub{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){gt(cb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){gt(cb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp=null;function uy(){return zp===null?zp=function(){return 268435456+Math.round(2147483648*Math.random())}():zp++,"0x"+zp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="RestConnection",cM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Dm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,i){const a=uy(),c=this.zo(e,t.toUriEncodedString());gt(s0,`Sending RPC '${e}' ${a}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:d}=new URL(c),p=xd(d);return this.Jo(e,c,u,r,p).then(g=>(gt(s0,`Received RPC '${e}' ${a}: `,g),g),g=>{throw hd(s0,`RPC '${e}' ${a} failed with error: `,g,"url: ",c,"request:",r),g})}Ho(e,t,r,s,i,a){return this.Go(e,t,r,s,i)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,t){const r=cM[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="WebChannelConnection";class dM extends uM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,i){const a=uy();return new Promise((c,u)=>{const d=new e3;d.setWithCredentials(!0),d.listenOnce(t3.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case rm.NO_ERROR:const g=d.getResponseJson();gt(ii,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),c(g);break;case rm.TIMEOUT:gt(ii,`RPC '${e}' ${a} timed out`),u(new yt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case rm.HTTP_ERROR:const w=d.getStatus();if(gt(ii,`RPC '${e}' ${a} failed with status:`,w,"response text:",d.getResponseText()),w>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const T=y==null?void 0:y.error;if(T&&T.status&&T.message){const E=function(I){const L=I.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(L)>=0?L:tt.UNKNOWN}(T.status);u(new yt(E,T.message))}else u(new yt(tt.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new yt(tt.UNAVAILABLE,"Connection failed."));break;default:tn(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{gt(ii,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);gt(ii,`RPC '${e}' ${a} sending request:`,s),d.send(t,"POST",p,r,15)})}T_(e,t,r){const s=uy(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=s3(),c=r3(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const p=i.join("");gt(ii,`Creating RPC '${e}' stream ${s}: ${p}`,u);const g=a.createWebChannel(p,u);this.I_(g);let w=!1,y=!1;const T=new hM({Yo:P=>{y?gt(ii,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(w||(gt(ii,`Opening RPC '${e}' stream ${s} transport.`),g.open(),w=!0),gt(ii,`RPC '${e}' stream ${s} sending:`,P),g.send(P))},Zo:()=>g.close()}),E=(P,I,L)=>{P.listen(I,F=>{try{L(F)}catch(H){setTimeout(()=>{throw H},0)}})};return E(g,nf.EventType.OPEN,()=>{y||(gt(ii,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),E(g,nf.EventType.CLOSE,()=>{y||(y=!0,gt(ii,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(g))}),E(g,nf.EventType.ERROR,P=>{y||(y=!0,hd(ii,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),T.a_(new yt(tt.UNAVAILABLE,"The operation could not be completed")))}),E(g,nf.EventType.MESSAGE,P=>{var I;if(!y){const L=P.data[0];Ar(!!L,16349);const F=L,H=(F==null?void 0:F.error)||((I=F[0])==null?void 0:I.error);if(H){gt(ii,`RPC '${e}' stream ${s} received error:`,H);const te=H.status;let le=function(B){const W=Jr[B];if(W!==void 0)return D3(W)}(te),U=H.message;le===void 0&&(le=tt.INTERNAL,U="Unknown error status: "+te+" with message "+H.message),y=!0,T.a_(new yt(le,U)),g.close()}else gt(ii,`RPC '${e}' stream ${s} received:`,L),T.u_(L)}}),E(c,n3.STAT_EVENT,P=>{P.stat===X0.PROXY?gt(ii,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===X0.NOPROXY&&gt(ii,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function i0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(n){return new _O(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&gt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="PersistentStream";class fM{constructor(e,t,r,s,i,a,c,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X3(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===tt.RESOURCE_EXHAUSTED?(Jl(t.toString()),Jl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===t&&this.G_(r,s)},r=>{e(()=>{const s=new yt(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return gt(hb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(gt(hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pM extends fM{constructor(e,t,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=AO(this.serializer,e),r=function(i){if(!("targetChange"in i))return en.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?en.min():a.readTime?Qh(a.readTime):en.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=rb(this.serializer),t.addTarget=function(i,a){let c;const u=a.target;if(c=ty(u)?{documents:EO(i,u)}:{query:TO(i,u).ft},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=F3(i,a.resumeToken);const d=oy(i,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(en.min())>0){c.readTime=ay(i,a.snapshotVersion.toTimestamp());const d=oy(i,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=PO(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=rb(this.serializer),t.removeTarget=e,this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{}class gM extends mM{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new yt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,ly(t,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new yt(tt.UNKNOWN,i.toString())})}Ho(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Ho(e,ly(t,r),s,a,c,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new yt(tt.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class yM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jl(t),this.aa=!1):gt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="RemoteStore";class vM{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Gf(this)&&(gt(gd,"Restarting streams for network reachability change."),await async function(u){const d=Sn(u);d.Ea.add(4),await Wf(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Pg(d)}(this))})}),this.Ra=new yM(r,s)}}async function Pg(n){if(Gf(n))for(const e of n.da)await e(!0)}async function Wf(n){for(const e of n.da)await e(!1)}function Q3(n,e){const t=Sn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Qv(t)?Xv(t):Nd(t).O_()&&Yv(t,e))}function Kv(n,e){const t=Sn(n),r=Nd(t);t.Ia.delete(e),r.O_()&&J3(t,e),t.Ia.size===0&&(r.O_()?r.L_():Gf(t)&&t.Ra.set("Unknown"))}function Yv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(en.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nd(n).Y_(e)}function J3(n,e){n.Va.Ue(e),Nd(n).Z_(e)}function Xv(n){n.Va=new vO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Nd(n).start(),n.Ra.ua()}function Qv(n){return Gf(n)&&!Nd(n).x_()&&n.Ia.size>0}function Gf(n){return Sn(n).Ea.size===0}function Z3(n){n.Va=void 0}async function wM(n){n.Ra.set("Online")}async function xM(n){n.Ia.forEach((e,t)=>{Yv(n,e)})}async function bM(n,e){Z3(n),Qv(n)?(n.Ra.ha(e),Xv(n)):n.Ra.set("Unknown")}async function _M(n,e,t){if(n.Ra.set("Online"),e instanceof M3&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.Ia.delete(c),s.Va.removeTarget(c))}(n,e)}catch(r){gt(gd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await db(n,r)}else if(e instanceof om?n.Va.Ze(e):e instanceof O3?n.Va.st(e):n.Va.tt(e),!t.isEqual(en.min()))try{const r=await Y3(n.localStore);t.compareTo(r)>=0&&await function(i,a){const c=i.Va.Tt(a);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=i.Ia.get(d);p&&i.Ia.set(d,p.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,d)=>{const p=i.Ia.get(u);if(!p)return;i.Ia.set(u,p.withResumeToken(Ws.EMPTY_BYTE_STRING,p.snapshotVersion)),J3(i,u);const g=new Yc(p.target,u,d,p.sequenceNumber);Yv(i,g)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){gt(gd,"Failed to raise snapshot:",r),await db(n,r)}}async function db(n,e,t){if(!Ad(e))throw e;n.Ea.add(1),await Wf(n),n.Ra.set("Offline"),t||(t=()=>Y3(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{gt(gd,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Pg(n)})}async function fb(n,e){const t=Sn(n);t.asyncQueue.verifyOperationInProgress(),gt(gd,"RemoteStore received new credentials");const r=Gf(t);t.Ea.add(3),await Wf(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Pg(t)}async function SM(n,e){const t=Sn(n);e?(t.Ea.delete(2),await Pg(t)):e||(t.Ea.add(2),await Wf(t),t.Ra.set("Unknown"))}function Nd(n){return n.ma||(n.ma=function(t,r,s){const i=Sn(t);return i.sa(),new pM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Xo:wM.bind(null,n),t_:xM.bind(null,n),r_:bM.bind(null,n),H_:_M.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Qv(n)?Xv(n):n.Ra.set("Unknown")):(await n.ma.stop(),Z3(n))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Qu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const a=Date.now()+r,c=new Jv(e,t,a,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eE(n,e){if(Jl("AsyncQueue",`${e}: ${n}`),Ad(n))return new yt(tt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{static emptySet(e){return new Jh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Vt.comparator(t.key,r.key):(t,r)=>Vt.comparator(t.key,r.key),this.keyedMap=rf(),this.sortedSet=new Gr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Jh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.ga=new Gr(Vt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):tn(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class yd{constructor(e,t,r,s,i,a,c,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new yd(e,t,Jh.emptySet(t),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_g(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class EM{constructor(){this.queries=mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Sn(t),i=s.queries;s.queries=mb(),i.forEach((a,c)=>{for(const u of c.Sa)u.onError(r)})})(this,new yt(tt.ABORTED,"Firestore shutting down"))}}function mb(){return new uh(n=>E3(n),_g)}async function tE(n,e){const t=Sn(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new AM,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(a){const c=eE(a,`Initialization of query '${Oh(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&Zv(t)}async function nE(n,e){const t=Sn(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function TM(n,e){const t=Sn(n);let r=!1;for(const s of e){const i=s.query,a=t.queries.get(i);if(a){for(const c of a.Sa)c.Fa(s)&&(r=!0);a.wa=s}}r&&Zv(t)}function NM(n,e,t){const r=Sn(n),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);r.queries.delete(e)}function Zv(n){n.Ca.forEach(e=>{e.next()})}var hy,gb;(gb=hy||(hy={})).Ma="default",gb.Cache="cache";class rE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=yd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this.key=e}}class iE{constructor(e){this.key=e}}class PM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Tn(),this.mutatedKeys=Tn(),this.eu=T3(e),this.tu=new Jh(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new pb,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,g)=>{const w=s.get(p),y=Sg(this.query,g)?g:null,T=!!w&&this.mutatedKeys.has(w.key),E=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let P=!1;w&&y?w.data.isEqual(y.data)?T!==E&&(r.track({type:3,doc:y}),P=!0):this.su(w,y)||(r.track({type:2,doc:y}),P=!0,(u&&this.eu(y,u)>0||d&&this.eu(y,d)<0)&&(c=!0)):!w&&y?(r.track({type:0,doc:y}),P=!0):w&&!y&&(r.track({type:1,doc:w}),P=!0,(u||d)&&(c=!0)),P&&(y?(a=a.add(y),i=E?i.add(p):i.delete(p)):(a=a.delete(p),i=i.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{tu:a,iu:r,Cs:c,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((p,g)=>function(y,T){const E=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn(20277,{Rt:P})}};return E(y)-E(T)}(p.type,g.type)||this.eu(p.doc,g.doc)),this.ou(r),s=s??!1;const c=t&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,d=u!==this.Za;return this.Za=u,a.length!==0||d?{snapshot:new yd(this.query,e.tu,i,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Tn(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new iE(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new sE(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Tn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return yd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const e2="SyncEngine";class CM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class IM{constructor(e){this.key=e,this.hu=!1}}class kM{constructor(e,t,r,s,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new uh(c=>E3(c),_g),this.Iu=new Map,this.Eu=new Set,this.du=new Gr(Vt.comparator),this.Au=new Map,this.Ru=new $v,this.Vu={},this.mu=new Map,this.fu=md.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RM(n,e,t=!0){const r=uE(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await oE(r,e,t,!0),s}async function LM(n,e){const t=uE(n);await oE(t,e,!0,!1)}async function oE(n,e,t,r){const s=await iM(n.localStore,el(e)),i=s.targetId,a=n.sharedClientState.addLocalQueryTarget(i,t);let c;return r&&(c=await jM(n,e,i,a==="current",s.resumeToken)),n.isPrimaryClient&&t&&Q3(n.remoteStore,s),c}async function jM(n,e,t,r,s){n.pu=(g,w,y)=>async function(E,P,I,L){let F=P.view.ru(I);F.Cs&&(F=await ab(E.localStore,P.query,!1).then(({documents:U})=>P.view.ru(U,F)));const H=L&&L.targetChanges.get(P.targetId),te=L&&L.targetMismatches.get(P.targetId)!=null,le=P.view.applyChanges(F,E.isPrimaryClient,H,te);return vb(E,P.targetId,le.au),le.snapshot}(n,g,w,y);const i=await ab(n.localStore,e,!0),a=new PM(e,i.Qs),c=a.ru(i.documents),u=Hf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=a.applyChanges(c,n.isPrimaryClient,u);vb(n,t,d.au);const p=new CM(e,t,a);return n.Tu.set(e,p),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function DM(n,e,t){const r=Sn(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(a=>!_g(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await cy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Kv(r.remoteStore,s.targetId),dy(r,s.targetId)}).catch(vg)):(dy(r,s.targetId),await cy(r.localStore,s.targetId,!0))}async function OM(n,e){const t=Sn(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Kv(t.remoteStore,r.targetId))}async function aE(n,e){const t=Sn(n);try{const r=await rM(t.localStore,e);e.targetChanges.forEach((s,i)=>{const a=t.Au.get(i);a&&(Ar(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Ar(a.hu,14607):s.removedDocuments.size>0&&(Ar(a.hu,42227),a.hu=!1))}),await cE(t,r,e)}catch(r){await vg(r)}}function yb(n,e,t){const r=Sn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach((i,a)=>{const c=a.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(a,c){const u=Sn(a);u.onlineState=c;let d=!1;u.queries.forEach((p,g)=>{for(const w of g.Sa)w.va(c)&&(d=!0)}),d&&Zv(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MM(n,e,t){const r=Sn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Gr(Vt.comparator);a=a.insert(i,di.newNoDocument(i,en.min()));const c=Tn().add(i),u=new Tg(en.min(),new Map,new Gr(yn),a,c);await aE(r,u),r.du=r.du.remove(i),r.Au.delete(e),t2(r)}else await cy(r.localStore,e,!1).then(()=>dy(r,e,t)).catch(vg)}function dy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||lE(n,r)})}function lE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Kv(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),t2(n))}function vb(n,e,t){for(const r of t)r instanceof sE?(n.Ru.addReference(r.key,e),FM(n,r)):r instanceof iE?(gt(e2,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||lE(n,r.key)):tn(19791,{wu:r})}function FM(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(gt(e2,"New document in limbo: "+t),n.Eu.add(r),t2(n))}function t2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Vt(wr.fromString(e)),r=n.fu.next();n.Au.set(r,new IM(t)),n.du=n.du.insert(t,r),Q3(n.remoteStore,new Yc(el(Vv(t.path)),r,"TargetPurposeLimboResolution",wg.ce))}}async function cE(n,e,t){const r=Sn(n),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((c,u)=>{a.push(r.pu(u,e,t).then(d=>{var p;if((d||t)&&r.isPrimaryClient){const g=d?!d.fromCache:(p=t==null?void 0:t.targetChanges.get(u.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Wv.As(u.targetId,d);i.push(g)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(u,d){const p=Sn(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Ge.forEach(d,w=>Ge.forEach(w.Es,y=>p.persistence.referenceDelegate.addReference(g,w.targetId,y)).next(()=>Ge.forEach(w.ds,y=>p.persistence.referenceDelegate.removeReference(g,w.targetId,y)))))}catch(g){if(!Ad(g))throw g;gt(Gv,"Failed to update sequence numbers: "+g)}for(const g of d){const w=g.targetId;if(!g.fromCache){const y=p.Ms.get(w),T=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(T);p.Ms=p.Ms.insert(w,E)}}}(r.localStore,i))}async function VM(n,e){const t=Sn(n);if(!t.currentUser.isEqual(e)){gt(e2,"User change. New user:",e.toKey());const r=await K3(t.localStore,e);t.currentUser=e,function(i,a){i.mu.forEach(c=>{c.forEach(u=>{u.reject(new yt(tt.CANCELLED,a))})}),i.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cE(t,r.Ls)}}function BM(n,e){const t=Sn(n),r=t.Au.get(e);if(r&&r.hu)return Tn().add(r.key);{let s=Tn();const i=t.Iu.get(e);if(!i)return s;for(const a of i){const c=t.Tu.get(a);s=s.unionWith(c.view.nu)}return s}}function uE(n){const e=Sn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MM.bind(null,e),e.Pu.H_=TM.bind(null,e.eventManager),e.Pu.yu=NM.bind(null,e.eventManager),e}class Um{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ng(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return nM(this.persistence,new ZO,e.initialUser,this.serializer)}Cu(e){return new G3(Hv.mi,this.serializer)}Du(e){return new aM}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Um.provider={build:()=>new Um};class UM extends Um{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ar(this.persistence.referenceDelegate instanceof Bm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FO(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Xi.withCacheSize(this.cacheSizeBytes):Xi.DEFAULT;return new G3(r=>Bm.mi(r,t),this.serializer)}}class fy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VM.bind(null,this.syncEngine),await SM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EM}()}createDatastore(e){const t=Ng(e.databaseInfo.databaseId),r=function(i){return new dM(i)}(e.databaseInfo);return function(i,a,c,u){return new gM(i,a,c,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,a,c){return new vM(r,s,i,a,c)}(this.localStore,this.datastore,e.asyncQueue,t=>yb(this.syncEngine,t,0),function(){return ub.v()?new ub:new lM}())}createSyncEngine(e,t){return function(s,i,a,c,u,d,p){const g=new kM(s,i,a,c,u,d);return p&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=Sn(s);gt(gd,"RemoteStore shutting down."),i.Ea.add(5),await Wf(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}fy.provider={build:()=>new fy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="FirestoreClient";class zM{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=hi.UNAUTHENTICATED,this.clientId=a3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{gt(hu,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(gt(hu,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=eE(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function o0(n,e){n.asyncQueue.verifyOperationInProgress(),gt(hu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await K3(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await qM(n);gt(hu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>fb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>fb(e.remoteStore,s)),n._onlineComponents=e}async function qM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){gt(hu,"Using user provided OfflineComponentProvider");try{await o0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===tt.FAILED_PRECONDITION||s.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;hd("Error using user provided cache. Falling back to memory cache: "+t),await o0(n,new Um)}}else gt(hu,"Using default OfflineComponentProvider"),await o0(n,new UM(void 0));return n._offlineComponents}async function $M(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(gt(hu,"Using user provided OnlineComponentProvider"),await wb(n,n._uninitializedComponentsProvider._online)):(gt(hu,"Using default OnlineComponentProvider"),await wb(n,new fy))),n._onlineComponents}async function py(n){const e=await $M(n),t=e.eventManager;return t.onListen=RM.bind(null,e.syncEngine),t.onUnlisten=DM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=OM.bind(null,e.syncEngine),t}function HM(n,e,t={}){const r=new Qu;return n.asyncQueue.enqueueAndForget(async()=>function(i,a,c,u,d){const p=new hE({next:w=>{p.Nu(),a.enqueueAndForget(()=>nE(i,g)),w.fromCache&&u.source==="server"?d.reject(new yt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),g=new rE(c,p,{includeMetadataChanges:!0,qa:!0});return tE(i,g)}(await py(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="firestore.googleapis.com",bb=!0;class _b{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new yt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fE,this.ssl=bb}else this.host=e.host,this.ssl=e.ssl??bb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OO)throw new yt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dE(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class n2{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _b({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _b(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p7;switch(r.type){case"firstParty":return new v7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=xb.get(t);r&&(gt("ComponentProvider","Removing Datastore"),xb.delete(t),r.terminate())}(this),Promise.resolve()}}function WM(n,e,t,r={}){var d;n=Xh(n,n2);const s=xd(e),i=n._getSettings(),a={...i,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(pA(`https://${c}`),mA("Firestore",!0)),i.host!==fE&&i.host!==c&&hd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:c,ssl:s,emulatorOptions:r};if(!nh(u,a)&&(n._setSettings(u),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=hi.MOCK_USER;else{p=qL(r.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new yt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new hi(w)}n._authCredentials=new m7(new o3(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wu(this.firestore,e,this._query)}}class gi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gi(this.firestore,e,this._key)}toJSON(){return{type:gi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if($f(t,gi._jsonSchema))return new gi(e,r||null,new Vt(wr.fromString(t.referencePath)))}}gi._jsonSchemaVersion="firestore/documentReference/1.0",gi._jsonSchema={type:ts("string",gi._jsonSchemaVersion),referencePath:ts("string")};class Zh extends wu{constructor(e,t,r){super(e,t,Vv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gi(this.firestore,null,new Vt(e))}withConverter(e){return new Zh(this.firestore,e,this._path)}}function qp(n,e,...t){if(n=ba(n),A7("collection","path",e),n instanceof n2){const r=wr.fromString(e,...t);return jx(r),new Zh(n,null,r)}{if(!(n instanceof gi||n instanceof Zh))throw new yt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wr.fromString(e,...t));return jx(r),new Zh(n.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="AsyncQueue";class Ab{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X3(this,"async_queue_retry"),this._c=()=>{const r=i0();r&&gt(Sb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=i0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=i0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Qu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ad(e))throw e;gt(Sb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Jl("INTERNAL UNHANDLED ERROR: ",Eb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Jv.createAndSchedule(this,e,t,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&tn(47125,{Pc:Eb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Eb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(n,["next","error","complete"])}class zm extends n2{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Ab,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ab(e),this._firestoreClient=void 0,await e}}}function GM(n,e){const t=typeof n=="object"?n:wA(),r=typeof n=="string"?n:Dm,s=Av(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=UL("firestore");i&&WM(s,...i)}return s}function pE(n){if(n._terminated)throw new yt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||KM(n),n._firestoreClient}function KM(n){var r,s,i;const e=n._freezeSettings(),t=function(c,u,d,p){return new M7(c,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,dE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new zM(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zo(Ws.fromBase64String(e))}catch(t){throw new yt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zo(Ws.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($f(e,zo._jsonSchema))return zo.fromBase64String(e.bytes)}}zo._jsonSchemaVersion="firestore/bytes/1.0",zo._jsonSchema={type:ts("string",zo._jsonSchemaVersion),bytes:ts("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new yt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yn(this._lat,e._lat)||yn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tl._jsonSchemaVersion}}static fromJSON(e){if($f(e,tl._jsonSchema))return new tl(e.latitude,e.longitude)}}tl._jsonSchemaVersion="firestore/geoPoint/1.0",tl._jsonSchema={type:ts("string",tl._jsonSchemaVersion),latitude:ts("number"),longitude:ts("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:nl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($f(e,nl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new nl(e.vectorValues);throw new yt(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nl._jsonSchemaVersion="firestore/vectorValue/1.0",nl._jsonSchema={type:ts("string",nl._jsonSchemaVersion),vectorValues:ts("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=/^__.*__$/;function yE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn(40011,{Ac:n})}}class r2{constructor(e,t,r,s,i,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new r2({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return my(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yE(this.Ac)&&YM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ng(e)}Cc(e,t,r,s=!1){return new r2({Ac:e,methodName:t,Dc:r,path:pi.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QM(n){const e=n._freezeSettings(),t=Ng(n._databaseId);return new XM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function JM(n,e,t,r=!1){return s2(t,n.Cc(r?4:3,e))}function s2(n,e){if(vE(n=ba(n)))return e9("Unsupported field value:",e,n),ZM(n,e);if(n instanceof gE)return function(r,s){if(!yE(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const c of r){let u=s2(c,s.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),a++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=ba(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=xr.fromDate(r);return{timestampValue:ay(s.serializer,i)}}if(r instanceof xr){const i=new xr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ay(s.serializer,i)}}if(r instanceof tl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zo)return{bytesValue:F3(s.serializer,r._byteString)};if(r instanceof gi){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:V3(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof nl)return function(a,c){return{mapValue:{fields:{[g3]:{stringValue:y3},[Om]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return Bv(c.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${yg(r)}`)}(n,e)}function ZM(n,e){const t={};return u3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ed(n,(r,s)=>{const i=s2(s,e.mc(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function vE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xr||n instanceof tl||n instanceof zo||n instanceof gi||n instanceof gE||n instanceof nl)}function e9(n,e,t){if(!vE(t)||!l3(t)){const r=yg(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}const t9=new RegExp("[~\\*/\\[\\]]");function n9(n,e,t){if(e.search(t9)>=0)throw my(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mE(...e.split("."))._internalPath}catch{throw my(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function my(n,e,t,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||a)&&(u+=" (found",i&&(u+=` in field ${r}`),a&&(u+=` in document ${s}`),u+=")"),new yt(tt.INVALID_ARGUMENT,c+n+u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new gi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class r9 extends wE{data(){return super.data()}}function Cg(n,e){return typeof e=="string"?n9(n,e):e instanceof mE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i2{}class bE extends i2{}function $p(n,e,...t){let r=[];e instanceof i2&&r.push(e),r=r.concat(t),function(i){const a=i.filter(u=>u instanceof o2).length,c=i.filter(u=>u instanceof Ig).length;if(a>1||a>0&&c>0)throw new yt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Ig extends bE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ig(e,t,r)}_apply(e){const t=this._parse(e);return _E(e._query,t),new wu(e.firestore,e.converter,ny(e._query,t))}_parse(e){const t=QM(e.firestore);return function(i,a,c,u,d,p,g){let w;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new yt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Cb(g,p);const T=[];for(const E of g)T.push(Pb(u,i,E));w={arrayValue:{values:T}}}else w=Pb(u,i,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Cb(g,p),w=JM(c,a,g,p==="in"||p==="not-in");return es.create(d,p,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function a0(n,e,t){const r=e,s=Cg("where",n);return Ig._create(s,r,t)}class o2 extends i2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new o2(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:_a.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,i){let a=s;const c=i.getFlattenedFilters();for(const u of c)_E(a,u),a=ny(a,u)}(e._query,t),new wu(e.firestore,e.converter,ny(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class a2 extends bE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new a2(e,t)}_apply(e){const t=function(s,i,a){if(s.startAt!==null)throw new yt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new yt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pf(i,a)}(e._query,this._field,this._direction);return new wu(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Td(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Nb(n,e="asc"){const t=e,r=Cg("orderBy",n);return a2._create(r,t)}function Pb(n,e,t){if(typeof(t=ba(t))=="string"){if(t==="")throw new yt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A3(e)&&t.indexOf("/")!==-1)throw new yt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(wr.fromString(t));if(!Vt.isDocumentKey(r))throw new yt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zx(n,new Vt(r))}if(t instanceof gi)return zx(n,t._key);throw new yt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yg(t)}.`)}function Cb(n,e){if(!Array.isArray(n)||n.length===0)throw new yt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _E(n,e){const t=function(s,i){for(const a of s)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new yt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new yt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class s9{convertValue(e,t="none"){switch(cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ed(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertVectorValue(e){var r,s,i;const t=(i=(s=(r=e.fields)==null?void 0:r[Om].arrayValue)==null?void 0:s.values)==null?void 0:i.map(a=>Ur(a.doubleValue));return new nl(t)}convertGeoPoint(e){return new tl(Ur(e.latitude),Ur(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ef(e));default:return null}}convertTimestamp(e){const t=au(e);return new xr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=wr.fromString(e);Ar(H3(r),9688,{name:e});const s=new Tf(r.get(1),r.get(3)),i=new Vt(r.popFirst(5));return s.isEqual(t)||Jl(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class of{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zu extends wE{constructor(e,t,r,s,i,a){super(e,t,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Cg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Zu._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Zu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zu._jsonSchema={type:ts("string",Zu._jsonSchemaVersion),bundleSource:ts("string","DocumentSnapshot"),bundleName:ts("string"),bundle:ts("string")};class am extends Zu{data(e={}){return super.data(e)}}class eh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new of(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new am(this._firestore,this._userDataWriter,r.key,r,new of(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(c=>{const u=new am(s._firestore,s._userDataWriter,c.doc.key,c.doc,new of(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const u=new am(s._firestore,s._userDataWriter,c.doc.key,c.doc,new of(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),p=a.indexOf(c.doc.key)),{type:i9(c.type),doc:u,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=a3.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function i9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn(61501,{type:n})}}eh._jsonSchemaVersion="firestore/querySnapshot/1.0",eh._jsonSchema={type:ts("string",eh._jsonSchemaVersion),bundleSource:ts("string","QuerySnapshot"),bundleName:ts("string"),bundle:ts("string")};class l2 extends s9{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gi(this.firestore,null,t)}}function Ib(n){n=Xh(n,wu);const e=Xh(n.firestore,zm),t=pE(e),r=new l2(e);return xE(n._query),HM(t,n._query).then(s=>new eh(e,r,n,s))}function kb(n,...e){var u,d,p;n=ba(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Tb(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Tb(e[r])){const g=e[r];e[r]=(u=g.next)==null?void 0:u.bind(g),e[r+1]=(d=g.error)==null?void 0:d.bind(g),e[r+2]=(p=g.complete)==null?void 0:p.bind(g)}let i,a,c;if(n instanceof gi)a=Xh(n.firestore,zm),c=Vv(n._key.path),i={next:g=>{e[r]&&e[r](o9(a,n,g))},error:e[r+1],complete:e[r+2]};else{const g=Xh(n,wu);a=Xh(g.firestore,zm),c=g._query;const w=new l2(a);i={next:y=>{e[r]&&e[r](new eh(a,w,g,y))},error:e[r+1],complete:e[r+2]},xE(n._query)}return function(w,y,T,E){const P=new hE(E),I=new rE(y,P,T);return w.asyncQueue.enqueueAndForget(async()=>tE(await py(w),I)),()=>{P.Nu(),w.asyncQueue.enqueueAndForget(async()=>nE(await py(w),I))}}(pE(a),c,s,i)}function o9(n,e,t){const r=t.docs.get(e._key),s=new l2(n);return new Zu(n,s,e._key,r,new of(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Sd=s})(bd),cd(new rh("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),c=new zm(new g7(r.getProvider("auth-internal")),new w7(a,r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new yt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tf(d.options.projectId,p)}(a,s),a);return i={useFetchStreams:t,...i},c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),nu(Ix,kx,e),nu(Ix,kx,"esm2020")})();var a9="firebase",l9="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nu(a9,l9,"app");const c9={apiKey:"AIzaSyAD8uLz9NfCfyeR0YtA60m4H4tVP0RlSAk",authDomain:"arkos-c36a4.web.app",projectId:"arkos-c36a4",storageBucket:"arkos-c36a4.appspot.com",messagingSenderId:"987078281603",appId:"1:987078281603:web:1d34affdd58f2976d48eb6",databaseURL:"https://arkos-c36a4-default-rtdb.firebaseio.com"},SE=vA(c9),Rb=d7(SE),u9=GM(SE),AE=z.createContext(),qm=()=>z.useContext(AE),h9=({children:n})=>{const[e,t]=z.useState(null),[r,s]=z.useState(!0);z.useEffect(()=>{const a=Rb.onAuthStateChanged(c=>{t(c),s(!1)});return()=>a()},[]);const i={currentUser:e,loading:r,auth:Rb,firestore:u9};return b.jsx(AE.Provider,{value:i,children:n})},d9=["top","right","bottom","left"],du=Math.min,po=Math.max,$m=Math.round,Hp=Math.floor,rl=n=>({x:n,y:n}),f9={left:"right",right:"left",bottom:"top",top:"bottom"},p9={start:"end",end:"start"};function gy(n,e,t){return po(n,du(e,t))}function Zl(n,e){return typeof n=="function"?n(e):n}function ec(n){return n.split("-")[0]}function Pd(n){return n.split("-")[1]}function c2(n){return n==="x"?"y":"x"}function u2(n){return n==="y"?"height":"width"}function Ya(n){return["top","bottom"].includes(ec(n))?"y":"x"}function h2(n){return c2(Ya(n))}function m9(n,e,t){t===void 0&&(t=!1);const r=Pd(n),s=h2(n),i=u2(s);let a=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Hm(a)),[a,Hm(a)]}function g9(n){const e=Hm(n);return[yy(n),e,yy(e)]}function yy(n){return n.replace(/start|end/g,e=>p9[e])}function y9(n,e,t){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function v9(n,e,t,r){const s=Pd(n);let i=y9(ec(n),t==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(yy)))),i}function Hm(n){return n.replace(/left|right|bottom|top/g,e=>f9[e])}function w9(n){return{top:0,right:0,bottom:0,left:0,...n}}function EE(n){return typeof n!="number"?w9(n):{top:n,right:n,bottom:n,left:n}}function Wm(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function Lb(n,e,t){let{reference:r,floating:s}=n;const i=Ya(e),a=h2(e),c=u2(a),u=ec(e),d=i==="y",p=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,w=r[c]/2-s[c]/2;let y;switch(u){case"top":y={x:p,y:r.y-s.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:g};break;case"left":y={x:r.x-s.width,y:g};break;default:y={x:r.x,y:r.y}}switch(Pd(e)){case"start":y[a]-=w*(t&&d?-1:1);break;case"end":y[a]+=w*(t&&d?-1:1);break}return y}const x9=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=t,c=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:n,floating:e,strategy:s}),{x:p,y:g}=Lb(d,r,u),w=r,y={},T=0;for(let E=0;E<c.length;E++){const{name:P,fn:I}=c[E],{x:L,y:F,data:H,reset:te}=await I({x:p,y:g,initialPlacement:r,placement:w,strategy:s,middlewareData:y,rects:d,platform:a,elements:{reference:n,floating:e}});p=L??p,g=F??g,y={...y,[P]:{...y[P],...H}},te&&T<=50&&(T++,typeof te=="object"&&(te.placement&&(w=te.placement),te.rects&&(d=te.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:s}):te.rects),{x:p,y:g}=Lb(d,w,u)),E=-1)}return{x:p,y:g,placement:w,strategy:s,middlewareData:y}};async function Cf(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:c,strategy:u}=n,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:w=!1,padding:y=0}=Zl(e,n),T=EE(y),P=c[w?g==="floating"?"reference":"floating":g],I=Wm(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(P)))==null||t?P:P.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:d,rootBoundary:p,strategy:u})),L=g==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,F=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),H=await(i.isElement==null?void 0:i.isElement(F))?await(i.getScale==null?void 0:i.getScale(F))||{x:1,y:1}:{x:1,y:1},te=Wm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:L,offsetParent:F,strategy:u}):L);return{top:(I.top-te.top+T.top)/H.y,bottom:(te.bottom-I.bottom+T.bottom)/H.y,left:(I.left-te.left+T.left)/H.x,right:(te.right-I.right+T.right)/H.x}}const b9=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:a,elements:c,middlewareData:u}=e,{element:d,padding:p=0}=Zl(n,e)||{};if(d==null)return{};const g=EE(p),w={x:t,y:r},y=h2(s),T=u2(y),E=await a.getDimensions(d),P=y==="y",I=P?"top":"left",L=P?"bottom":"right",F=P?"clientHeight":"clientWidth",H=i.reference[T]+i.reference[y]-w[y]-i.floating[T],te=w[y]-i.reference[y],le=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let U=le?le[F]:0;(!U||!await(a.isElement==null?void 0:a.isElement(le)))&&(U=c.floating[F]||i.floating[T]);const k=H/2-te/2,B=U/2-E[T]/2-1,W=du(g[I],B),j=du(g[L],B),D=W,V=U-E[T]-j,ee=U/2-E[T]/2+k,Ee=gy(D,ee,V),de=!u.arrow&&Pd(s)!=null&&ee!==Ee&&i.reference[T]/2-(ee<D?W:j)-E[T]/2<0,Ae=de?ee<D?ee-D:ee-V:0;return{[y]:w[y]+Ae,data:{[y]:Ee,centerOffset:ee-Ee-Ae,...de&&{alignmentOffset:Ae}},reset:de}}}),_9=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:u,elements:d}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:w,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:E=!0,...P}=Zl(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const I=ec(s),L=Ya(c),F=ec(c)===c,H=await(u.isRTL==null?void 0:u.isRTL(d.floating)),te=w||(F||!E?[Hm(c)]:g9(c)),le=T!=="none";!w&&le&&te.push(...v9(c,E,T,H));const U=[c,...te],k=await Cf(e,P),B=[];let W=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&B.push(k[I]),g){const ee=m9(s,a,H);B.push(k[ee[0]],k[ee[1]])}if(W=[...W,{placement:s,overflows:B}],!B.every(ee=>ee<=0)){var j,D;const ee=(((j=i.flip)==null?void 0:j.index)||0)+1,Ee=U[ee];if(Ee&&(!(g==="alignment"?L!==Ya(Ee):!1)||W.every(re=>re.overflows[0]>0&&Ya(re.placement)===L)))return{data:{index:ee,overflows:W},reset:{placement:Ee}};let de=(D=W.filter(Ae=>Ae.overflows[0]<=0).sort((Ae,re)=>Ae.overflows[1]-re.overflows[1])[0])==null?void 0:D.placement;if(!de)switch(y){case"bestFit":{var V;const Ae=(V=W.filter(re=>{if(le){const ye=Ya(re.placement);return ye===L||ye==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(ye=>ye>0).reduce((ye,fe)=>ye+fe,0)]).sort((re,ye)=>re[1]-ye[1])[0])==null?void 0:V[0];Ae&&(de=Ae);break}case"initialPlacement":de=c;break}if(s!==de)return{reset:{placement:de}}}return{}}}};function jb(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Db(n){return d9.some(e=>n[e]>=0)}const S9=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=Zl(n,e);switch(r){case"referenceHidden":{const i=await Cf(e,{...s,elementContext:"reference"}),a=jb(i,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Db(a)}}}case"escaped":{const i=await Cf(e,{...s,altBoundary:!0}),a=jb(i,t.floating);return{data:{escapedOffsets:a,escaped:Db(a)}}}default:return{}}}}};async function A9(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=ec(t),c=Pd(t),u=Ya(t)==="y",d=["left","top"].includes(a)?-1:1,p=i&&u?-1:1,g=Zl(e,n);let{mainAxis:w,crossAxis:y,alignmentAxis:T}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof T=="number"&&(y=c==="end"?T*-1:T),u?{x:y*p,y:w*d}:{x:w*d,y:y*p}}const E9=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:a,middlewareData:c}=e,u=await A9(e,n);return a===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:a}}}}},T9=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:P=>{let{x:I,y:L}=P;return{x:I,y:L}}},...u}=Zl(n,e),d={x:t,y:r},p=await Cf(e,u),g=Ya(ec(s)),w=c2(g);let y=d[w],T=d[g];if(i){const P=w==="y"?"top":"left",I=w==="y"?"bottom":"right",L=y+p[P],F=y-p[I];y=gy(L,y,F)}if(a){const P=g==="y"?"top":"left",I=g==="y"?"bottom":"right",L=T+p[P],F=T-p[I];T=gy(L,T,F)}const E=c.fn({...e,[w]:y,[g]:T});return{...E,data:{x:E.x-t,y:E.y-r,enabled:{[w]:i,[g]:a}}}}}},N9=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=Zl(n,e),p={x:t,y:r},g=Ya(s),w=c2(g);let y=p[w],T=p[g];const E=Zl(c,e),P=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(u){const F=w==="y"?"height":"width",H=i.reference[w]-i.floating[F]+P.mainAxis,te=i.reference[w]+i.reference[F]-P.mainAxis;y<H?y=H:y>te&&(y=te)}if(d){var I,L;const F=w==="y"?"width":"height",H=["top","left"].includes(ec(s)),te=i.reference[g]-i.floating[F]+(H&&((I=a.offset)==null?void 0:I[g])||0)+(H?0:P.crossAxis),le=i.reference[g]+i.reference[F]+(H?0:((L=a.offset)==null?void 0:L[g])||0)-(H?P.crossAxis:0);T<te?T=te:T>le&&(T=le)}return{[w]:y,[g]:T}}}},P9=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:a,elements:c}=e,{apply:u=()=>{},...d}=Zl(n,e),p=await Cf(e,d),g=ec(s),w=Pd(s),y=Ya(s)==="y",{width:T,height:E}=i.floating;let P,I;g==="top"||g==="bottom"?(P=g,I=w===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(I=g,P=w==="end"?"top":"bottom");const L=E-p.top-p.bottom,F=T-p.left-p.right,H=du(E-p[P],L),te=du(T-p[I],F),le=!e.middlewareData.shift;let U=H,k=te;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(k=F),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(U=L),le&&!w){const W=po(p.left,0),j=po(p.right,0),D=po(p.top,0),V=po(p.bottom,0);y?k=T-2*(W!==0||j!==0?W+j:po(p.left,p.right)):U=E-2*(D!==0||V!==0?D+V:po(p.top,p.bottom))}await u({...e,availableWidth:k,availableHeight:U});const B=await a.getDimensions(c.floating);return T!==B.width||E!==B.height?{reset:{rects:!0}}:{}}}};function kg(){return typeof window<"u"}function Cd(n){return TE(n)?(n.nodeName||"").toLowerCase():"#document"}function go(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function cl(n){var e;return(e=(TE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function TE(n){return kg()?n instanceof Node||n instanceof go(n).Node:!1}function Sa(n){return kg()?n instanceof Element||n instanceof go(n).Element:!1}function al(n){return kg()?n instanceof HTMLElement||n instanceof go(n).HTMLElement:!1}function Ob(n){return!kg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof go(n).ShadowRoot}function Kf(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Aa(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function C9(n){return["table","td","th"].includes(Cd(n))}function Rg(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function d2(n){const e=f2(),t=Sa(n)?Aa(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function I9(n){let e=fu(n);for(;al(e)&&!vd(e);){if(d2(e))return e;if(Rg(e))return null;e=fu(e)}return null}function f2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vd(n){return["html","body","#document"].includes(Cd(n))}function Aa(n){return go(n).getComputedStyle(n)}function Lg(n){return Sa(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function fu(n){if(Cd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Ob(n)&&n.host||cl(n);return Ob(e)?e.host:e}function NE(n){const e=fu(n);return vd(e)?n.ownerDocument?n.ownerDocument.body:n.body:al(e)&&Kf(e)?e:NE(e)}function If(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=NE(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),a=go(s);if(i){const c=vy(a);return e.concat(a,a.visualViewport||[],Kf(s)?s:[],c&&t?If(c):[])}return e.concat(s,If(s,[],t))}function vy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function PE(n){const e=Aa(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=al(n),i=s?n.offsetWidth:t,a=s?n.offsetHeight:r,c=$m(t)!==i||$m(r)!==a;return c&&(t=i,r=a),{width:t,height:r,$:c}}function p2(n){return Sa(n)?n:n.contextElement}function ed(n){const e=p2(n);if(!al(e))return rl(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=PE(e);let a=(i?$m(t.width):t.width)/r,c=(i?$m(t.height):t.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const k9=rl(0);function CE(n){const e=go(n);return!f2()||!e.visualViewport?k9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function R9(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==go(n)?!1:e}function oh(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=p2(n);let a=rl(1);e&&(r?Sa(r)&&(a=ed(r)):a=ed(n));const c=R9(i,t,r)?CE(i):rl(0);let u=(s.left+c.x)/a.x,d=(s.top+c.y)/a.y,p=s.width/a.x,g=s.height/a.y;if(i){const w=go(i),y=r&&Sa(r)?go(r):r;let T=w,E=vy(T);for(;E&&r&&y!==T;){const P=ed(E),I=E.getBoundingClientRect(),L=Aa(E),F=I.left+(E.clientLeft+parseFloat(L.paddingLeft))*P.x,H=I.top+(E.clientTop+parseFloat(L.paddingTop))*P.y;u*=P.x,d*=P.y,p*=P.x,g*=P.y,u+=F,d+=H,T=go(E),E=vy(T)}}return Wm({width:p,height:g,x:u,y:d})}function m2(n,e){const t=Lg(n).scrollLeft;return e?e.left+t:oh(cl(n)).left+t}function IE(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:m2(n,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function L9(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",a=cl(r),c=e?Rg(e.floating):!1;if(r===a||c&&i)return t;let u={scrollLeft:0,scrollTop:0},d=rl(1);const p=rl(0),g=al(r);if((g||!g&&!i)&&((Cd(r)!=="body"||Kf(a))&&(u=Lg(r)),al(r))){const y=oh(r);d=ed(r),p.x=y.x+r.clientLeft,p.y=y.y+r.clientTop}const w=a&&!g&&!i?IE(a,u,!0):rl(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-u.scrollLeft*d.x+p.x+w.x,y:t.y*d.y-u.scrollTop*d.y+p.y+w.y}}function j9(n){return Array.from(n.getClientRects())}function D9(n){const e=cl(n),t=Lg(n),r=n.ownerDocument.body,s=po(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=po(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+m2(n);const c=-t.scrollTop;return Aa(r).direction==="rtl"&&(a+=po(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:c}}function O9(n,e){const t=go(n),r=cl(n),s=t.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,u=0;if(s){i=s.width,a=s.height;const d=f2();(!d||d&&e==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:i,height:a,x:c,y:u}}function M9(n,e){const t=oh(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=al(n)?ed(n):rl(1),a=n.clientWidth*i.x,c=n.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:a,height:c,x:u,y:d}}function Mb(n,e,t){let r;if(e==="viewport")r=O9(n,t);else if(e==="document")r=D9(cl(n));else if(Sa(e))r=M9(e,t);else{const s=CE(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Wm(r)}function kE(n,e){const t=fu(n);return t===e||!Sa(t)||vd(t)?!1:Aa(t).position==="fixed"||kE(t,e)}function F9(n,e){const t=e.get(n);if(t)return t;let r=If(n,[],!1).filter(c=>Sa(c)&&Cd(c)!=="body"),s=null;const i=Aa(n).position==="fixed";let a=i?fu(n):n;for(;Sa(a)&&!vd(a);){const c=Aa(a),u=d2(a);!u&&c.position==="fixed"&&(s=null),(i?!u&&!s:!u&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Kf(a)&&!u&&kE(n,a))?r=r.filter(p=>p!==a):s=c,a=fu(a)}return e.set(n,r),r}function V9(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const a=[...t==="clippingAncestors"?Rg(e)?[]:F9(e,this._c):[].concat(t),r],c=a[0],u=a.reduce((d,p)=>{const g=Mb(e,p,s);return d.top=po(g.top,d.top),d.right=du(g.right,d.right),d.bottom=du(g.bottom,d.bottom),d.left=po(g.left,d.left),d},Mb(e,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function B9(n){const{width:e,height:t}=PE(n);return{width:e,height:t}}function U9(n,e,t){const r=al(e),s=cl(e),i=t==="fixed",a=oh(n,!0,i,e);let c={scrollLeft:0,scrollTop:0};const u=rl(0);function d(){u.x=m2(s)}if(r||!r&&!i)if((Cd(e)!=="body"||Kf(s))&&(c=Lg(e)),r){const y=oh(e,!0,i,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else s&&d();i&&!r&&s&&d();const p=s&&!r&&!i?IE(s,c):rl(0),g=a.left+c.scrollLeft-u.x-p.x,w=a.top+c.scrollTop-u.y-p.y;return{x:g,y:w,width:a.width,height:a.height}}function l0(n){return Aa(n).position==="static"}function Fb(n,e){if(!al(n)||Aa(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return cl(n)===t&&(t=t.ownerDocument.body),t}function RE(n,e){const t=go(n);if(Rg(n))return t;if(!al(n)){let s=fu(n);for(;s&&!vd(s);){if(Sa(s)&&!l0(s))return s;s=fu(s)}return t}let r=Fb(n,e);for(;r&&C9(r)&&l0(r);)r=Fb(r,e);return r&&vd(r)&&l0(r)&&!d2(r)?t:r||I9(n)||t}const z9=async function(n){const e=this.getOffsetParent||RE,t=this.getDimensions,r=await t(n.floating);return{reference:U9(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function q9(n){return Aa(n).direction==="rtl"}const $9={convertOffsetParentRelativeRectToViewportRelativeRect:L9,getDocumentElement:cl,getClippingRect:V9,getOffsetParent:RE,getElementRects:z9,getClientRects:j9,getDimensions:B9,getScale:ed,isElement:Sa,isRTL:q9};function LE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function H9(n,e){let t=null,r;const s=cl(n);function i(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const d=n.getBoundingClientRect(),{left:p,top:g,width:w,height:y}=d;if(c||e(),!w||!y)return;const T=Hp(g),E=Hp(s.clientWidth-(p+w)),P=Hp(s.clientHeight-(g+y)),I=Hp(p),F={rootMargin:-T+"px "+-E+"px "+-P+"px "+-I+"px",threshold:po(0,du(1,u))||1};let H=!0;function te(le){const U=le[0].intersectionRatio;if(U!==u){if(!H)return a();U?a(!1,U):r=setTimeout(()=>{a(!1,1e-7)},1e3)}U===1&&!LE(d,n.getBoundingClientRect())&&a(),H=!1}try{t=new IntersectionObserver(te,{...F,root:s.ownerDocument})}catch{t=new IntersectionObserver(te,F)}t.observe(n)}return a(!0),i}function W9(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=p2(n),p=s||i?[...d?If(d):[],...If(e)]:[];p.forEach(I=>{s&&I.addEventListener("scroll",t,{passive:!0}),i&&I.addEventListener("resize",t)});const g=d&&c?H9(d,t):null;let w=-1,y=null;a&&(y=new ResizeObserver(I=>{let[L]=I;L&&L.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var F;(F=y)==null||F.observe(e)})),t()}),d&&!u&&y.observe(d),y.observe(e));let T,E=u?oh(n):null;u&&P();function P(){const I=oh(n);E&&!LE(E,I)&&t(),E=I,T=requestAnimationFrame(P)}return t(),()=>{var I;p.forEach(L=>{s&&L.removeEventListener("scroll",t),i&&L.removeEventListener("resize",t)}),g==null||g(),(I=y)==null||I.disconnect(),y=null,u&&cancelAnimationFrame(T)}}const G9=E9,K9=T9,Y9=_9,X9=P9,Q9=S9,Vb=b9,J9=N9,Z9=(n,e,t)=>{const r=new Map,s={platform:$9,...t},i={...s.platform,_c:r};return x9(n,e,{...s,platform:i})};var eF=typeof document<"u",tF=function(){},lm=eF?z.useLayoutEffect:tF;function Gm(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Gm(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!Gm(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function jE(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Bb(n,e){const t=jE(n);return Math.round(e*t)/t}function c0(n){const e=z.useRef(n);return lm(()=>{e.current=n}),e}function nF(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:u,open:d}=n,[p,g]=z.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,y]=z.useState(r);Gm(w,r)||y(r);const[T,E]=z.useState(null),[P,I]=z.useState(null),L=z.useCallback(re=>{re!==le.current&&(le.current=re,E(re))},[]),F=z.useCallback(re=>{re!==U.current&&(U.current=re,I(re))},[]),H=i||T,te=a||P,le=z.useRef(null),U=z.useRef(null),k=z.useRef(p),B=u!=null,W=c0(u),j=c0(s),D=c0(d),V=z.useCallback(()=>{if(!le.current||!U.current)return;const re={placement:e,strategy:t,middleware:w};j.current&&(re.platform=j.current),Z9(le.current,U.current,re).then(ye=>{const fe={...ye,isPositioned:D.current!==!1};ee.current&&!Gm(k.current,fe)&&(k.current=fe,Jm.flushSync(()=>{g(fe)}))})},[w,e,t,j,D]);lm(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,g(re=>({...re,isPositioned:!1})))},[d]);const ee=z.useRef(!1);lm(()=>(ee.current=!0,()=>{ee.current=!1}),[]),lm(()=>{if(H&&(le.current=H),te&&(U.current=te),H&&te){if(W.current)return W.current(H,te,V);V()}},[H,te,V,W,B]);const Ee=z.useMemo(()=>({reference:le,floating:U,setReference:L,setFloating:F}),[L,F]),de=z.useMemo(()=>({reference:H,floating:te}),[H,te]),Ae=z.useMemo(()=>{const re={position:t,left:0,top:0};if(!de.floating)return re;const ye=Bb(de.floating,p.x),fe=Bb(de.floating,p.y);return c?{...re,transform:"translate("+ye+"px, "+fe+"px)",...jE(de.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ye,top:fe}},[t,c,de.floating,p.x,p.y]);return z.useMemo(()=>({...p,update:V,refs:Ee,elements:de,floatingStyles:Ae}),[p,V,Ee,de,Ae])}const rF=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Vb({element:r.current,padding:s}).fn(t):{}:r?Vb({element:r,padding:s}).fn(t):{}}}},sF=(n,e)=>({...G9(n),options:[n,e]}),iF=(n,e)=>({...K9(n),options:[n,e]}),oF=(n,e)=>({...J9(n),options:[n,e]}),aF=(n,e)=>({...Y9(n),options:[n,e]}),lF=(n,e)=>({...X9(n),options:[n,e]}),cF=(n,e)=>({...Q9(n),options:[n,e]}),uF=(n,e)=>({...rF(n),options:[n,e]});var hF="Arrow",DE=z.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return b.jsx(Zn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});DE.displayName=hF;var dF=DE;function fF(n){const[e,t]=z.useState(void 0);return il(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,c;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,c=d.blockSize}else a=n.offsetWidth,c=n.offsetHeight;t({width:a,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var g2="Popper",[OE,ME]=gu(g2),[pF,FE]=OE(g2),VE=n=>{const{__scopePopper:e,children:t}=n,[r,s]=z.useState(null);return b.jsx(pF,{scope:e,anchor:r,onAnchorChange:s,children:t})};VE.displayName=g2;var BE="PopperAnchor",UE=z.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=FE(BE,t),a=z.useRef(null),c=ks(e,a);return z.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:b.jsx(Zn.div,{...s,ref:c})});UE.displayName=BE;var y2="PopperContent",[mF,gF]=OE(y2),zE=z.forwardRef((n,e)=>{var ne,ce,ge,xe,je,ze;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:w=!1,updatePositionStrategy:y="optimized",onPlaced:T,...E}=n,P=FE(y2,t),[I,L]=z.useState(null),F=ks(e,He=>L(He)),[H,te]=z.useState(null),le=fF(H),U=(le==null?void 0:le.width)??0,k=(le==null?void 0:le.height)??0,B=r+(i!=="center"?"-"+i:""),W=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},j=Array.isArray(d)?d:[d],D=j.length>0,V={padding:W,boundary:j.filter(vF),altBoundary:D},{refs:ee,floatingStyles:Ee,placement:de,isPositioned:Ae,middlewareData:re}=nF({strategy:"fixed",placement:B,whileElementsMounted:(...He)=>W9(...He,{animationFrame:y==="always"}),elements:{reference:P.anchor},middleware:[sF({mainAxis:s+k,alignmentAxis:a}),u&&iF({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?oF():void 0,...V}),u&&aF({...V}),lF({...V,apply:({elements:He,rects:ht,availableWidth:Oe,availableHeight:ue})=>{const{width:xt,height:ut}=ht.reference,Ke=He.floating.style;Ke.setProperty("--radix-popper-available-width",`${Oe}px`),Ke.setProperty("--radix-popper-available-height",`${ue}px`),Ke.setProperty("--radix-popper-anchor-width",`${xt}px`),Ke.setProperty("--radix-popper-anchor-height",`${ut}px`)}}),H&&uF({element:H,padding:c}),wF({arrowWidth:U,arrowHeight:k}),w&&cF({strategy:"referenceHidden",...V})]}),[ye,fe]=HE(de),oe=fi(T);il(()=>{Ae&&(oe==null||oe())},[Ae,oe]);const M=(ne=re.arrow)==null?void 0:ne.x,X=(ce=re.arrow)==null?void 0:ce.y,ie=((ge=re.arrow)==null?void 0:ge.centerOffset)!==0,[he,me]=z.useState();return il(()=>{I&&me(window.getComputedStyle(I).zIndex)},[I]),b.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ee,transform:Ae?Ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(xe=re.transformOrigin)==null?void 0:xe.x,(je=re.transformOrigin)==null?void 0:je.y].join(" "),...((ze=re.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:b.jsx(mF,{scope:t,placedSide:ye,onArrowChange:te,arrowX:M,arrowY:X,shouldHideArrow:ie,children:b.jsx(Zn.div,{"data-side":ye,"data-align":fe,...E,ref:F,style:{...E.style,animation:Ae?void 0:"none"}})})})});zE.displayName=y2;var qE="PopperArrow",yF={top:"bottom",right:"left",bottom:"top",left:"right"},$E=z.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=gF(qE,r),a=yF[i.placedSide];return b.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:b.jsx(dF,{...s,ref:t,style:{...s.style,display:"block"}})})});$E.displayName=qE;function vF(n){return n!==null}var wF=n=>({name:"transformOrigin",options:n,fn(e){var P,I,L;const{placement:t,rects:r,middlewareData:s}=e,a=((P=s.arrow)==null?void 0:P.centerOffset)!==0,c=a?0:n.arrowWidth,u=a?0:n.arrowHeight,[d,p]=HE(t),g={start:"0%",center:"50%",end:"100%"}[p],w=(((I=s.arrow)==null?void 0:I.x)??0)+c/2,y=(((L=s.arrow)==null?void 0:L.y)??0)+u/2;let T="",E="";return d==="bottom"?(T=a?g:`${w}px`,E=`${-u}px`):d==="top"?(T=a?g:`${w}px`,E=`${r.floating.height+u}px`):d==="right"?(T=`${-u}px`,E=a?g:`${y}px`):d==="left"&&(T=`${r.floating.width+u}px`,E=a?g:`${y}px`),{data:{x:T,y:E}}}});function HE(n){const[e,t="center"]=n.split("-");return[e,t]}var xF=VE,bF=UE,_F=zE,SF=$E,[jg,wB]=gu("Tooltip",[ME]),Dg=ME(),WE="TooltipProvider",AF=700,wy="tooltip.open",[EF,v2]=jg(WE),GE=n=>{const{__scopeTooltip:e,delayDuration:t=AF,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,a=z.useRef(!0),c=z.useRef(!1),u=z.useRef(0);return z.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),b.jsx(EF,{scope:e,isOpenDelayedRef:a,delayDuration:t,onOpen:z.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:z.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:z.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:i})};GE.displayName=WE;var kf="Tooltip",[TF,Og]=jg(kf),KE=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:a,delayDuration:c}=n,u=v2(kf,n.__scopeTooltip),d=Dg(e),[p,g]=z.useState(null),w=wv(),y=z.useRef(0),T=a??u.disableHoverableContent,E=c??u.delayDuration,P=z.useRef(!1),[I,L]=Zm({prop:r,defaultProp:s??!1,onChange:U=>{U?(u.onOpen(),document.dispatchEvent(new CustomEvent(wy))):u.onClose(),i==null||i(U)},caller:kf}),F=z.useMemo(()=>I?P.current?"delayed-open":"instant-open":"closed",[I]),H=z.useCallback(()=>{window.clearTimeout(y.current),y.current=0,P.current=!1,L(!0)},[L]),te=z.useCallback(()=>{window.clearTimeout(y.current),y.current=0,L(!1)},[L]),le=z.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{P.current=!0,L(!0),y.current=0},E)},[E,L]);return z.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),b.jsx(xF,{...d,children:b.jsx(TF,{scope:e,contentId:w,open:I,stateAttribute:F,trigger:p,onTriggerChange:g,onTriggerEnter:z.useCallback(()=>{u.isOpenDelayedRef.current?le():H()},[u.isOpenDelayedRef,le,H]),onTriggerLeave:z.useCallback(()=>{T?te():(window.clearTimeout(y.current),y.current=0)},[te,T]),onOpen:H,onClose:te,disableHoverableContent:T,children:t})})};KE.displayName=kf;var xy="TooltipTrigger",YE=z.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Og(xy,t),i=v2(xy,t),a=Dg(t),c=z.useRef(null),u=ks(e,c,s.onTriggerChange),d=z.useRef(!1),p=z.useRef(!1),g=z.useCallback(()=>d.current=!1,[]);return z.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),b.jsx(bF,{asChild:!0,...a,children:b.jsx(Zn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:vn(n.onPointerMove,w=>{w.pointerType!=="touch"&&!p.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:vn(n.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:vn(n.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:vn(n.onFocus,()=>{d.current||s.onOpen()}),onBlur:vn(n.onBlur,s.onClose),onClick:vn(n.onClick,s.onClose)})})});YE.displayName=xy;var NF="TooltipPortal",[xB,PF]=jg(NF,{forceMount:void 0}),wd="TooltipContent",XE=z.forwardRef((n,e)=>{const t=PF(wd,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,a=Og(wd,n.__scopeTooltip);return b.jsx(yu,{present:r||a.open,children:a.disableHoverableContent?b.jsx(QE,{side:s,...i,ref:e}):b.jsx(CF,{side:s,...i,ref:e})})}),CF=z.forwardRef((n,e)=>{const t=Og(wd,n.__scopeTooltip),r=v2(wd,n.__scopeTooltip),s=z.useRef(null),i=ks(e,s),[a,c]=z.useState(null),{trigger:u,onClose:d}=t,p=s.current,{onPointerInTransitChange:g}=r,w=z.useCallback(()=>{c(null),g(!1)},[g]),y=z.useCallback((T,E)=>{const P=T.currentTarget,I={x:T.clientX,y:T.clientY},L=jF(I,P.getBoundingClientRect()),F=DF(I,L),H=OF(E.getBoundingClientRect()),te=FF([...F,...H]);c(te),g(!0)},[g]);return z.useEffect(()=>()=>w(),[w]),z.useEffect(()=>{if(u&&p){const T=P=>y(P,p),E=P=>y(P,u);return u.addEventListener("pointerleave",T),p.addEventListener("pointerleave",E),()=>{u.removeEventListener("pointerleave",T),p.removeEventListener("pointerleave",E)}}},[u,p,y,w]),z.useEffect(()=>{if(a){const T=E=>{const P=E.target,I={x:E.clientX,y:E.clientY},L=(u==null?void 0:u.contains(P))||(p==null?void 0:p.contains(P)),F=!MF(I,a);L?w():F&&(w(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[u,p,a,d,w]),b.jsx(QE,{...n,ref:i})}),[IF,kF]=jg(kf,{isInside:!1}),RF=KN("TooltipContent"),QE=z.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...c}=n,u=Og(wd,t),d=Dg(t),{onClose:p}=u;return z.useEffect(()=>(document.addEventListener(wy,p),()=>document.removeEventListener(wy,p)),[p]),z.useEffect(()=>{if(u.trigger){const g=w=>{const y=w.target;y!=null&&y.contains(u.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[u.trigger,p]),b.jsx(Vy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:b.jsxs(_F,{"data-state":u.stateAttribute,...d,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[b.jsx(RF,{children:r}),b.jsx(IF,{scope:t,isInside:!0,children:b.jsx(yP,{id:u.contentId,role:"tooltip",children:s||r})})]})})});XE.displayName=wd;var JE="TooltipArrow",LF=z.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Dg(t);return kF(JE,t).isInside?null:b.jsx(SF,{...s,...r,ref:e})});LF.displayName=JE;function jF(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function DF(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function OF(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function MF(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const c=e[i],u=e[a],d=c.x,p=c.y,g=u.x,w=u.y;p>r!=w>r&&t<(g-d)*(r-p)/(w-p)+d&&(s=!s)}return s}function FF(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),VF(e)}function VF(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var BF=GE,UF=KE,zF=YE,ZE=XE;const eT=BF,by=UF,_y=zF,Km=z.forwardRef(({className:n,sideOffset:e=4,...t},r)=>b.jsx(ZE,{ref:r,sideOffset:e,className:Er("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));Km.displayName=ZE.displayName;const Dr=z.forwardRef(({className:n,...e},t)=>b.jsx("div",{ref:t,className:Er("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Dr.displayName="Card";const Ns=z.forwardRef(({className:n,...e},t)=>b.jsx("div",{ref:t,className:Er("flex flex-col space-y-1.5 p-6",n),...e}));Ns.displayName="CardHeader";const Ps=z.forwardRef(({className:n,...e},t)=>b.jsx("h3",{ref:t,className:Er("text-lg font-semibold leading-none tracking-tight",n),...e}));Ps.displayName="CardTitle";const Ml=z.forwardRef(({className:n,...e},t)=>b.jsx("p",{ref:t,className:Er("text-sm text-muted-foreground",n),...e}));Ml.displayName="CardDescription";const Or=z.forwardRef(({className:n,...e},t)=>b.jsx("div",{ref:t,className:Er("p-6 pt-0",n),...e}));Or.displayName="CardContent";const w2=z.forwardRef(({className:n,...e},t)=>b.jsx("div",{ref:t,className:Er("flex items-center p-6 pt-0",n),...e}));w2.displayName="CardFooter";var x2="Progress",b2=100,[qF,bB]=gu(x2),[$F,HF]=qF(x2),tT=z.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:s,getValueLabel:i=WF,...a}=n;(s||s===0)&&!Ub(s)&&console.error(GF(`${s}`,"Progress"));const c=Ub(s)?s:b2;r!==null&&!zb(r,c)&&console.error(KF(`${r}`,"Progress"));const u=zb(r,c)?r:null,d=Ym(u)?i(u,c):void 0;return b.jsx($F,{scope:t,value:u,max:c,children:b.jsx(Zn.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Ym(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":sT(u,c),"data-value":u??void 0,"data-max":c,...a,ref:e})})});tT.displayName=x2;var nT="ProgressIndicator",rT=z.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,s=HF(nT,t);return b.jsx(Zn.div,{"data-state":sT(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});rT.displayName=nT;function WF(n,e){return`${Math.round(n/e*100)}%`}function sT(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function Ym(n){return typeof n=="number"}function Ub(n){return Ym(n)&&!isNaN(n)&&n>0}function zb(n,e){return Ym(n)&&!isNaN(n)&&n<=e&&n>=0}function GF(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${b2}\`.`}function KF(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${b2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var iT=tT,YF=rT;const oT=z.forwardRef(({className:n,value:e,...t},r)=>b.jsx(iT,{ref:r,className:Er("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...t,children:b.jsx(YF,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));oT.displayName=iT.displayName;const XF=()=>{const[n,e]=z.useState(new Date),[t,r]=z.useState(null),[s,i]=z.useState({}),[a,c]=z.useState(!1),u=z.useMemo(()=>{const F=n.getFullYear(),H=n.getMonth(),te=new Date(F,H,1),le=new Date(F,H+1,0),U=new Date(te);U.setDate(U.getDate()-te.getDay());const k=[],B=new Date(U);for(;B<=le||B.getDay()!==0;)k.push(new Date(B)),B.setDate(B.getDate()+1);return k},[n]);z.useEffect(()=>{d()},[n]);const d=async()=>{c(!0);try{const F=new Date(n.getFullYear(),n.getMonth(),1),H=new Date(n.getFullYear(),n.getMonth()+1,0),{data:te,error:le}=await supabase.from("calendar_events").select("*").gte("date",F.toISOString().split("T")[0]).lte("date",H.toISOString().split("T")[0]);if(le){console.error("Erro ao carregar dados do calendário:",le);return}const U={};te==null||te.forEach(k=>{const B=k.date;U[B]=k}),i(U)}catch(F){console.error("Erro ao carregar dados do calendário:",F)}finally{c(!1)}},p=async(F,H)=>{try{const te=F.toISOString().split("T")[0],le=te,U={date:te,type:H==="success"?"romaneio_ok":"dispatch_failure",user_id:"system",user_name:"Sistema ARKOS",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},k=s[le];if(k){const{error:B}=await supabase.from("calendar_events").update(U).eq("id",k.id);if(B)throw B}else{const{error:B}=await supabase.from("calendar_events").insert(U);if(B)throw B}i(B=>({...B,[le]:U}))}catch(te){console.error("Erro ao salvar evento do calendário:",te)}},g=async F=>{try{const te=F.toISOString().split("T")[0],le=s[te];if(le!=null&&le.id){const{error:U}=await supabase.from("calendar_events").delete().eq("id",le.id);if(U)throw U}i(U=>{const k={...U};return delete k[te],k})}catch(H){console.error("Erro ao remover evento do calendário:",H)}},w=()=>{e(F=>{const H=new Date(F);return H.setMonth(H.getMonth()-1),H})},y=()=>{e(F=>{const H=new Date(F);return H.setMonth(H.getMonth()+1),H})},T=F=>{var le;const te=F.toISOString().split("T")[0];return((le=s[te])==null?void 0:le.type)||null},E=F=>{const H=new Date;return F.toDateString()===H.toDateString()},P=F=>F.getMonth()===n.getMonth()&&F.getFullYear()===n.getFullYear(),I=F=>F.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),L=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"];return b.jsxs(Dr,{className:"w-full",children:[b.jsx(Ns,{children:b.jsxs(Ps,{className:"flex items-center gap-2",children:[b.jsx(W_,{className:"h-5 w-5"}),"Calendário de Romaneio"]})}),b.jsxs(Or,{children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx(Jt,{variant:"outline",size:"sm",onClick:w,disabled:a,children:b.jsx(UP,{className:"h-4 w-4"})}),b.jsx("h3",{className:"text-lg font-semibold capitalize",children:I(n)}),b.jsx(Jt,{variant:"outline",size:"sm",onClick:y,disabled:a,children:b.jsx(zP,{className:"h-4 w-4"})})]}),b.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),b.jsx("span",{children:"Romaneio OK"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),b.jsx("span",{children:"Falha no Despacho"})]})]}),b.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[L.map(F=>b.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:F},F)),u.map((F,H)=>{const te=T(F),le=P(F),U=E(F);return b.jsx(qn.div,{className:`
                  p-2 text-center text-sm cursor-pointer rounded-lg border transition-all duration-200
                  ${le?"hover:bg-accent hover:text-accent-foreground":"text-muted-foreground/50"}
                  ${U?"ring-2 ring-primary":""}
                  ${te==="success"?"bg-green-100 border-green-300 text-green-800 dark:bg-green-900/30 dark:border-green-700 dark:text-green-300":""}
                  ${te==="failure"?"bg-red-100 border-red-300 text-red-800 dark:bg-red-900/30 dark:border-red-700 dark:text-red-300":""}
                `,onClick:()=>r(F),whileHover:{scale:1.05},whileTap:{scale:.95},children:b.jsxs("div",{className:"flex items-center justify-center gap-1",children:[b.jsx("span",{children:F.getDate()}),te==="success"&&b.jsx(af,{className:"h-3 w-3"}),te==="failure"&&b.jsx(Xp,{className:"h-3 w-3"})]})},H)})]}),t&&b.jsx(qn.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(null),children:b.jsxs(qn.div,{className:"bg-card p-6 rounded-lg shadow-lg border max-w-sm w-full mx-4",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:F=>F.stopPropagation(),children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:t.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs(Jt,{className:"w-full bg-green-500 hover:bg-green-600 text-white",onClick:()=>{p(t,"success"),r(null)},children:[b.jsx(af,{className:"h-4 w-4 mr-2"}),"Romaneio OK"]}),b.jsxs(Jt,{className:"w-full bg-red-500 hover:bg-red-600 text-white",onClick:()=>{p(t,"failure"),r(null)},children:[b.jsx(Xp,{className:"h-4 w-4 mr-2"}),"Falha no Despacho"]}),T(t)&&b.jsx(Jt,{variant:"outline",className:"w-full",onClick:()=>{g(t),r(null)},children:"Remover Marcação"}),b.jsx(Jt,{variant:"ghost",className:"w-full",onClick:()=>r(null),children:"Cancelar"})]})]})}),b.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[b.jsx(Dr,{children:b.jsx(Or,{className:"p-4",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(af,{className:"h-5 w-5 text-green-500"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Dias OK"}),b.jsx("p",{className:"text-2xl font-bold text-green-600",children:Object.values(s).filter(F=>F.type==="success").length})]})]})})}),b.jsx(Dr,{children:b.jsx(Or,{className:"p-4",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Xp,{className:"h-5 w-5 text-red-500"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Dias com Falha"}),b.jsx("p",{className:"text-2xl font-bold text-red-600",children:Object.values(s).filter(F=>F.type==="failure").length})]})]})})})]})]})]})},QF=({isSoundEnabled:n,onToggleSound:e})=>{const[t,r]=z.useState(!1),[s,i]=z.useState({}),a={bip:z.useRef(null),siren:z.useRef(null)},c=async p=>{if(!n){alert("Ative o som primeiro para testar!");return}r(!0),i(g=>({...g,[p]:"testing"}));try{if(a[p]&&a[p].current)try{a[p].current.pause(),a[p].current.currentTime=0,a[p].current.volume=1;const g=a[p].current.src;a[p].current.src="",a[p].current.src=g+"?t="+new Date().getTime();const w=a[p].current.play();w!==void 0&&await w,i(y=>({...y,[p]:"success"}));return}catch(g){console.warn(`Estratégia 1 falhou para som ${p}:`,g)}try{const g=`?t=${new Date().getTime()}`,w=new Audio(`./sounds/${p}.mp3${g}`);w.volume=1,w.crossOrigin="anonymous",await new Promise((y,T)=>{w.oncanplaythrough=y,w.onerror=T,w.load(),setTimeout(y,1e3)}),await w.play(),i(y=>({...y,[p]:"success"}));return}catch(g){console.warn(`Estratégia 2 falhou para som ${p}:`,g)}try{const g=window.AudioContext||window.webkitAudioContext;if(g){const w=new g,y=w.createGain();y.gain.value=5;const T=`?t=${new Date().getTime()}`,E=await fetch(`./sounds/${p}.mp3${T}`);if(!E.ok)throw new Error(`Falha ao carregar arquivo de som: ${E.status}`);const P=await E.arrayBuffer(),I=await w.decodeAudioData(P),L=w.createBufferSource();L.buffer=I,L.connect(y),y.connect(w.destination),L.start(0),i(F=>({...F,[p]:"success"}));return}}catch(g){console.warn(`Estratégia 3 falhou para som ${p}:`,g)}i(g=>({...g,[p]:"error"}))}catch(g){console.error(`Erro ao testar som ${p}:`,g),i(w=>({...w,[p]:"error"}))}finally{r(!1)}},u=p=>{const g=s[p];return g==="success"?b.jsx(af,{className:"h-4 w-4 text-green-500"}):g==="error"?b.jsx(wa,{className:"h-4 w-4 text-red-500"}):null},d=p=>{const g=s[p];return g==="success"?"Funcionando":g==="error"?"Falhou":g==="testing"?"Testando...":"Não testado"};return b.jsxs(Dr,{className:"w-full",children:[b.jsx(Ns,{children:b.jsxs(Ps,{className:"flex items-center gap-2",children:[b.jsx(J_,{className:"h-5 w-5"}),"Teste de Som"]})}),b.jsxs(Or,{children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/50 rounded-lg",children:[b.jsx("span",{className:"text-sm font-medium",children:"Status do Som"}),b.jsx(Jt,{variant:n?"default":"outline",size:"sm",onClick:e,className:n?"bg-green-500 hover:bg-green-600":"",children:n?"Ativado":"Desativado"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"p-4 border rounded-lg",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h4",{className:"font-medium",children:"Som de Confirmação (Bip)"}),u("bip")]}),b.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Som reproduzido quando um pacote é escaneado com sucesso"}),b.jsxs(Jt,{onClick:()=>c("bip"),disabled:!n||t,className:"w-full",children:[b.jsx(G5,{className:"h-4 w-4 mr-2"}),"Testar Bip"]}),b.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:d("bip")})]}),b.jsxs("div",{className:"p-4 border rounded-lg",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h4",{className:"font-medium",children:"Som de Alerta (Sirene)"}),u("siren")]}),b.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Som reproduzido quando um pacote duplicado é detectado"}),b.jsxs(Jt,{onClick:()=>c("siren"),disabled:!n||t,className:"w-full bg-red-500 hover:bg-red-600",children:[b.jsx(G5,{className:"h-4 w-4 mr-2"}),"Testar Sirene"]}),b.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:d("siren")})]})]}),b.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[b.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Dicas para Resolver Problemas de Som"}),b.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[b.jsx("li",{children:"• Verifique se o som do navegador está ativado"}),b.jsx("li",{children:"• Certifique-se de que o sistema não está em modo silencioso"}),b.jsx("li",{children:"• Tente atualizar a página se os sons não funcionarem"}),b.jsx("li",{children:"• Verifique se há bloqueadores de pop-up ativos"})]})]})]}),b.jsx("audio",{ref:a.bip,src:"./sounds/bip.mp3",preload:"auto",crossOrigin:"anonymous",controls:!1}),b.jsx("audio",{ref:a.siren,src:"./sounds/siren.mp3",preload:"auto",crossOrigin:"anonymous",controls:!1})]})]})},JF=()=>{const[n,e]=z.useState([]),[t,r]=z.useState([]),[s,i]=z.useState({isOnline:!0,lastSync:new Date,totalUsers:0,activeSessions:0}),{supabase:a,firestore:c}=qm();z.useEffect(()=>{const w=$p(qp(c,"online_users"),a0("online","==",!0),Nb("last_active","desc")),y=kb(w,I=>{e(I.docs.map(L=>L.data()))}),T=$p(qp(c,"activities"),Nb("timestamp","desc")),E=kb(T,I=>{r(I.docs.map(L=>L.data()).slice(0,10))}),P=setInterval(()=>{u()},3e4);return()=>{y(),E(),clearInterval(P)}},[]);const u=async()=>{try{const w=$p(qp(c,"online_users"),a0("online","==",!0)),y=await Ib(w),T=new Date(Date.now()-1440*60*1e3),E=$p(qp(c,"activities"),a0("timestamp",">=",T)),P=await Ib(E);i({isOnline:navigator.onLine,lastSync:new Date,totalUsers:y.size,activeSessions:P.size})}catch(w){console.error("Erro ao atualizar status do sistema:",w)}},d=w=>{switch(w){case"scan":return b.jsx(N0,{className:"h-4 w-4"});case"duplicate":return b.jsx(wa,{className:"h-4 w-4"});case"login":return b.jsx(pm,{className:"h-4 w-4"});case"logout":return b.jsx(pm,{className:"h-4 w-4"});default:return b.jsx(Vl,{className:"h-4 w-4"})}},p=w=>{switch(w){case"scan":return"text-green-600";case"duplicate":return"text-red-600";case"login":return"text-blue-600";case"logout":return"text-gray-600";default:return"text-gray-600"}},g=w=>{if(!w)return"Agora";const y=new Date(w),E=new Date-y;return E<6e4?"Agora":E<36e5?`${Math.floor(E/6e4)}m atrás`:E<864e5?`${Math.floor(E/36e5)}h atrás`:y.toLocaleDateString("pt-BR")};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Dr,{children:[b.jsx(Ns,{className:"pb-3",children:b.jsxs(Ps,{className:"flex items-center gap-2 text-lg",children:[s.isOnline?b.jsx(Hy,{className:"h-5 w-5 text-green-500"}):b.jsx($y,{className:"h-5 w-5 text-red-500"}),"Status do Sistema"]})}),b.jsxs(Or,{children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Qc,{className:"h-4 w-4 text-blue-500"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-medium",children:"Usuários Online"}),b.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.length})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Vl,{className:"h-4 w-4 text-green-500"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-medium",children:"Atividades Hoje"}),b.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.activeSessions})]})]})]}),b.jsx("div",{className:"mt-3 pt-3 border-t",children:b.jsxs("div",{className:"flex items-center justify-between text-sm",children:[b.jsx("span",{className:"text-muted-foreground",children:"Última sincronização:"}),b.jsx("span",{className:"font-mono",children:s.lastSync.toLocaleTimeString("pt-BR")})]})})]})]}),b.jsxs(Dr,{children:[b.jsx(Ns,{className:"pb-3",children:b.jsxs(Ps,{className:"flex items-center gap-2 text-lg",children:[b.jsx(Qc,{className:"h-5 w-5 text-blue-500"}),"Usuários Online (",n.length,")"]})}),b.jsx(Or,{children:b.jsx(Kl,{children:n.length>0?b.jsx("div",{className:"space-y-2",children:n.map((w,y)=>b.jsxs(qn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:y*.1},className:"flex items-center justify-between p-2 bg-secondary/50 rounded-lg",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),b.jsx("span",{className:"font-medium",children:w.display_name||w.email})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[b.jsx(Hl,{className:"h-3 w-3"}),g(w.last_active)]})]},w.id))}):b.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[b.jsx(Qc,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),b.jsx("p",{children:"Nenhum usuário online"})]})})})]}),b.jsxs(Dr,{children:[b.jsx(Ns,{className:"pb-3",children:b.jsxs(Ps,{className:"flex items-center gap-2 text-lg",children:[b.jsx(Vl,{className:"h-5 w-5 text-green-500"}),"Atividades Recentes"]})}),b.jsx(Or,{children:b.jsx(Kl,{children:t.length>0?b.jsx("div",{className:"space-y-2",children:t.map((w,y)=>b.jsxs(qn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:y*.05},className:"flex items-center gap-3 p-2 bg-secondary/30 rounded-lg",children:[b.jsx("div",{className:`${p(w.type)}`,children:d(w.type)}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-medium",children:w.message}),b.jsx("p",{className:"text-xs text-muted-foreground",children:w.user_name||w.user_id})]}),b.jsx("div",{className:"text-xs text-muted-foreground",children:g(w.timestamp)})]},w.id))}):b.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[b.jsx(Vl,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),b.jsx("p",{children:"Nenhuma atividade recente"})]})})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx(Dr,{children:b.jsx(Or,{className:"p-4",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`w-3 h-3 rounded-full ${s.isOnline?"bg-green-500":"bg-red-500"}`}),b.jsx("span",{className:"text-sm font-medium",children:s.isOnline?"Online":"Offline"})]})})}),b.jsx(Dr,{children:b.jsx(Or,{className:"p-4",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 animate-pulse"}),b.jsx("span",{className:"text-sm font-medium",children:"Sincronizando"})]})})})]})]})},ZF=({isOpen:n,onClose:e})=>{const[t,r]=z.useState("dashboard"),[s,i]=z.useState([]),[a,c]=z.useState({}),[u,d]=z.useState([]),[p,g]=z.useState({}),[w,y]=z.useState([]),[T,E]=z.useState(!1),[P,I]=z.useState(""),[L,F]=z.useState(""),[H,te]=z.useState({dbSize:0,lastBackup:null,uptime:0,performance:85,errors:[],warnings:[]}),[le,U]=z.useState(!1),[k,B]=z.useState(!1),[W,j]=z.useState(""),[D,V]=z.useState([]),[ee,Ee]=z.useState({}),{currentUser:de}=qm();z.useEffect(()=>{n&&Ae()},[n]),z.useEffect(()=>{if(W){const ne=W.toLowerCase(),ce=s.filter(xe=>{var je;return xe.email.toLowerCase().includes(ne)||((je=xe.displayName)==null?void 0:je.toLowerCase().includes(ne))||xe.uid.toLowerCase().includes(ne)});V(ce);const ge={};Object.entries(a).forEach(([xe,je])=>{const ze=je.filter(He=>{var ht,Oe,ue;return((ht=He.title)==null?void 0:ht.toLowerCase().includes(ne))||((Oe=He.description)==null?void 0:Oe.toLowerCase().includes(ne))||((ue=He.id)==null?void 0:ue.toLowerCase().includes(ne))});ze.length>0&&(ge[xe]=ze)}),Ee(ge)}else V(s),Ee(a)},[W,s,a]);const Ae=z.useCallback(async()=>{E(!0),F("");let ne={};try{try{const ce=await de.collection("users").get(),ge=[];ce.forEach(xe=>{ge.push({uid:xe.id,...xe.data(),lastLogin:xe.data().lastLogin?new Date(xe.data().lastLogin):null,createdAt:xe.data().createdAt?new Date(xe.data().createdAt):null})}),i(ge),V(ge)}catch(ce){console.error("Erro ao carregar usuários:",ce),F(ge=>ge+`
Erro ao carregar usuários: `+ce.message),i([]),V([])}try{const ce=["packages","categories","tags","comments"];await Promise.all(ce.map(async ge=>{try{const je=await de.collection(ge).get(),ze=[];je.forEach(He=>{ze.push({...He.data(),id:He.id,createdAt:He.data().createdAt?new Date(He.data().createdAt):null,updatedAt:He.data().updatedAt?new Date(He.data().updatedAt):null})}),ne[ge]=ze}catch(xe){console.error(`Erro ao carregar coleção ${ge}:`,xe),ne[ge]=[]}})),c(ne),Ee(ne)}catch(ce){console.error("Erro ao processar coleções:",ce),F(ge=>ge+`
Erro ao carregar coleções: `+ce.message),c({}),Ee({})}try{const ge=(await de.collection("activities").orderBy("timestamp","desc").limit(50).get()).docs.map(xe=>({id:xe.id,...xe.data(),timestamp:xe.data().timestamp?new Date(xe.data().timestamp):null}));d(ge)}catch(ce){console.error("Erro ao carregar atividades:",ce),F(ge=>ge+`
Erro ao carregar atividades: `+ce.message),d([])}try{if(ne!=null&&ne.packages&&ne.packages.length>0){const ce=ne.packages,ge={total:ce.length,published:ce.filter(xe=>(xe==null?void 0:xe.status)==="published").length,draft:ce.filter(xe=>(xe==null?void 0:xe.status)==="draft").length,archived:ce.filter(xe=>(xe==null?void 0:xe.status)==="archived").length,avgDownloads:ce.length>0?Math.round(ce.reduce((xe,je)=>xe+((je==null?void 0:je.downloads)||0),0)/ce.length):0,avgRating:ce.length>0?(ce.reduce((xe,je)=>xe+((je==null?void 0:je.rating)||0),0)/ce.length).toFixed(1):"0.0",categories:{},topDownloaded:[...ce].filter(xe=>xe).sort((xe,je)=>((je==null?void 0:je.downloads)||0)-((xe==null?void 0:xe.downloads)||0)).slice(0,5),topRated:[...ce].filter(xe=>xe&&xe.rating).sort((xe,je)=>((je==null?void 0:je.rating)||0)-((xe==null?void 0:xe.rating)||0)).slice(0,5),recentlyAdded:[...ce].filter(xe=>xe&&xe.createdAt).sort((xe,je)=>((je==null?void 0:je.createdAt)||0)-((xe==null?void 0:xe.createdAt)||0)).slice(0,5)};ce.forEach(xe=>{xe!=null&&xe.category&&(ge.categories[xe.category]=(ge.categories[xe.category]||0)+1)});try{const xe={},je=[];ce.forEach(ze=>{if(ze!=null&&ze.title){const He=ze.title.toLowerCase().trim();xe[He]?je.push({original:xe[He],duplicate:ze}):xe[He]=ze}}),y(je)}catch(xe){console.error("Erro ao processar duplicados:",xe),y([])}g(ge)}else g({total:0,published:0,draft:0,archived:0,avgDownloads:0,avgRating:"0.0",categories:{},topDownloaded:[],topRated:[],recentlyAdded:[]}),y([])}catch(ce){console.error("Erro ao calcular estatísticas:",ce),F(ge=>ge+`
Erro ao calcular estatísticas: `+ce.message),g({total:0,published:0,draft:0,archived:0,avgDownloads:0,avgRating:"0.0",categories:{},topDownloaded:[],topRated:[],recentlyAdded:[]}),y([])}try{const ce=await de.collection("system").doc("status").get();ce.exists?te({...H,...ce.data(),lastBackup:ce.data().lastBackup?new Date(ce.data().lastBackup):null}):console.log("Documento de status do sistema não existe")}catch(ce){console.error("Erro ao carregar status do sistema:",ce),F(`Erro ao carregar status do sistema: ${ce.message}`)}I("Dados carregados com sucesso!")}catch(ce){console.error("Erro ao carregar dados:",ce),F(`Erro ao carregar dados: ${ce.message}`)}finally{E(!1)}},[]),re=async ne=>{if(confirm(`Tem certeza que deseja remover o usuário ${ne}?`)){E(!0);try{await de.collection("users").doc(ne).delete(),i(s.filter(ce=>ce.uid!==ne)),I(`Usuário ${ne} removido com sucesso!`),await de.collection("activities").add({type:"user_removed",userId:de.uid,targetId:ne,timestamp:Date.now()})}catch(ce){F(`Erro ao remover usuário: ${ce.message}`)}finally{E(!1)}}},ye=async(ne,ce)=>{if(confirm(`Tem certeza que deseja remover ${ce} da coleção ${ne}?`)){E(!0);try{await de.collection(ne).doc(ce).delete(),c({...a,[ne]:a[ne].filter(ge=>ge.id!==ce)}),I(`Item ${ce} removido da coleção ${ne} com sucesso!`),await de.collection("activities").add({type:"item_removed",userId:de.uid,collection:ne,itemId:ce,timestamp:Date.now()})}catch(ge){F(`Erro ao remover item: ${ge.message}`)}finally{E(!1)}}},fe=async()=>{U(!0);try{const ne=["collections","operators","users","onlineUsers","activities","system"],ce={};for(const He of ne){const Oe=await de.collection(He).get(),ue=[];Oe.forEach(xt=>{ue.push({...xt.data(),id:xt.id})}),ce[He]=ue}if(Object.keys(ce).length===0)throw new Error("Não há dados para backup");const ge=JSON.stringify(ce,null,2),xe=new Blob([ge],{type:"application/json"}),je=URL.createObjectURL(xe),ze=document.createElement("a");ze.href=je,ze.download=`backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ze),ze.click(),document.body.removeChild(ze),URL.revokeObjectURL(je),await de.collection("system").doc("status").set({...H,lastBackup:Date.now()}),te({...H,lastBackup:new Date}),await de.collection("activities").add({type:"backup_created",userId:de.uid,timestamp:Date.now()}),I("Backup criado com sucesso!")}catch(ne){F(`Erro ao criar backup: ${ne.message}`)}finally{U(!1)}},oe=async ne=>{const ce=ne.target.files[0];if(ce){if(!confirm("ATENÇÃO: Restaurar um backup substituirá TODOS os dados atuais. Esta ação não pode ser desfeita. Deseja continuar?")){ne.target.value=null;return}B(!0);try{const ge=new FileReader;ge.onload=async xe=>{try{const je=JSON.parse(xe.target.result);for(const[ze,He]of Object.entries(je))if(He&&typeof He=="object"){const ht=de.collection(ze);if((await ht.where("id","!=","0").get()).forEach(ue=>ue.ref.delete()),Array.isArray(He))await Promise.all(He.map(async ue=>{const{id:xt,...ut}=ue;await ht.doc(xt).set(ut)}));else{const ue=Object.entries(He).map(([xt,ut])=>({id:xt,...ut}));await Promise.all(ue.map(async xt=>{const{id:ut,...Ke}=xt;await ht.doc(ut).set(Ke)}))}}await de.collection("activities").add({type:"backup_restored",userId:de.uid,timestamp:Date.now()}),I("Backup restaurado com sucesso! Recarregando dados..."),Ae()}catch(je){F(`Erro ao processar arquivo de backup: ${je.message}`)}finally{B(!1)}},ge.onerror=()=>{F("Erro ao ler arquivo de backup"),B(!1)},ge.readAsText(ce)}catch(ge){F(`Erro ao restaurar backup: ${ge.message}`),B(!1)}ne.target.value=null}},M=async ne=>{if(confirm(`ATENÇÃO: Isso removerá TODOS os dados da coleção ${ne}. Esta ação não pode ser desfeita. Deseja continuar?`)){E(!0);try{if(ne==="/"){const ce=["collections","operators","users","onlineUsers","activities"];for(const ge of ce)(await de.collection(ge).where("id","!=","0").get()).forEach(ze=>ze.ref.delete())}else(await de.collection(ne).where("id","!=","0").get()).forEach(xe=>xe.ref.delete());c(ne==="/"?{}:{...a,[ne]:[]}),await de.collection("activities").add({type:"collection_cleared",userId:de.uid,collection:ne,timestamp:Date.now()}),I(`Coleção ${ne} limpa com sucesso!`)}catch(ce){F(`Erro ao limpar coleção: ${ce.message}`)}finally{E(!1)}}},X=ne=>ne?new Date(ne).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",ie=ne=>{switch(ne){case"user_login":return b.jsx(Qc,{className:"h-4 w-4"});case"user_register":return b.jsx(Y5,{className:"h-4 w-4"});case"package_created":return b.jsx(H5,{className:"h-4 w-4"});case"package_updated":return b.jsx(id,{className:"h-4 w-4"});case"package_deleted":return b.jsx(Fl,{className:"h-4 w-4"});case"backup_created":return b.jsx(T0,{className:"h-4 w-4"});case"backup_restored":return b.jsx(cC,{className:"h-4 w-4"});case"user_removed":return b.jsx(Y5,{className:"h-4 w-4"});case"item_removed":return b.jsx(Fl,{className:"h-4 w-4"});case"collection_cleared":return b.jsx(wa,{className:"h-4 w-4"});default:return b.jsx(Vl,{className:"h-4 w-4"})}},he=ne=>{switch(ne.type){case"user_login":return`Usuário ${ne.userId} fez login`;case"user_register":return`Novo usuário ${ne.userId} registrado`;case"package_created":return`Pacote ${ne.packageId} criado por ${ne.userId}`;case"package_updated":return`Pacote ${ne.packageId} atualizado por ${ne.userId}`;case"package_deleted":return`Pacote ${ne.packageId} removido por ${ne.userId}`;case"backup_created":return`Backup criado por ${ne.userId}`;case"backup_restored":return`Backup restaurado por ${ne.userId}`;case"user_removed":return`Usuário ${ne.targetId} removido por ${ne.userId}`;case"item_removed":return`Item ${ne.itemId} removido da coleção ${ne.collection} por ${ne.userId}`;case"collection_cleared":return`Coleção ${ne.collection} limpa por ${ne.userId}`;default:return`Atividade desconhecida: ${ne.type}`}};if(!n)return null;const me=de==null?void 0:de.isManager;return de==null||de.isAdmin,b.jsx(eT,{children:b.jsx(qn.div,{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsx(qn.div,{className:"fixed inset-4 bg-card border rounded-lg shadow-lg overflow-auto z-50",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20,stiffness:300},children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx(Q_,{className:"h-6 w-6 mr-2 text-primary"}),b.jsx("h2",{className:"text-2xl font-bold",children:"Painel de Administração"})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"relative",children:[b.jsx(iC,{className:"h-4 w-4 absolute left-2.5 top-2.5 text-muted-foreground"}),b.jsx(Wl,{type:"text",placeholder:"Buscar...",className:"pl-8 w-64",value:W,onChange:ne=>j(ne.target.value)})]}),b.jsxs(Jt,{variant:"outline",size:"sm",onClick:Ae,disabled:T,children:[b.jsx(id,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),b.jsx(Jt,{variant:"ghost",size:"sm",onClick:e,children:"Fechar"})]})]}),P&&b.jsxs("div",{className:"bg-green-100 border border-green-200 text-green-800 px-4 py-2 rounded-md mb-4 flex items-center",children:[b.jsx("div",{className:"mr-2",children:"✓"}),P]}),L&&b.jsxs("div",{className:"bg-red-100 border border-red-200 text-red-800 px-4 py-2 rounded-md mb-4 flex items-center",children:[b.jsx(wa,{className:"h-4 w-4 mr-2"}),L]}),me&&b.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:b.jsxs("p",{className:"text-sm text-blue-700 flex items-center",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Você está conectado como Supervisor. Você tem acesso para visualizar os dados, mas algumas ações administrativas estão restritas."]})}),b.jsxs(aA,{value:t,onValueChange:r,children:[b.jsxs(bv,{className:"grid grid-cols-5 mb-6",children:[b.jsxs(zc,{value:"dashboard",children:[b.jsx(VP,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),b.jsxs(zc,{value:"calendar",children:[b.jsx(W_,{className:"h-4 w-4 mr-2"}),"Calendário"]}),b.jsxs(zc,{value:"users",children:[b.jsx(Qc,{className:"h-4 w-4 mr-2"}),"Usuários"]}),b.jsxs(zc,{value:"data",children:[b.jsx(H5,{className:"h-4 w-4 mr-2"}),"Dados"]}),b.jsxs(zc,{value:"system",children:[b.jsx(X_,{className:"h-4 w-4 mr-2"}),"Sistema"]})]}),b.jsxs(qc,{value:"dashboard",className:"space-y-6",children:[me&&b.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[b.jsx("h3",{className:"text-md font-semibold text-blue-700 mb-2",children:"Painel do Supervisor"}),b.jsx("p",{className:"text-sm text-blue-600",children:"Bem-vindo ao painel de supervisão. Aqui você pode monitorar as atividades do sistema, visualizar estatísticas e acompanhar o desempenho da equipe. Algumas ações administrativas estão disponíveis apenas para administradores completos do sistema."})]}),b.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[b.jsxs(Dr,{children:[b.jsx(Ns,{className:"pb-2",children:b.jsx(Ps,{className:"text-sm font-medium",children:"Total de Usuários"})}),b.jsxs(Or,{children:[b.jsx("div",{className:"text-2xl font-bold",children:s.length}),b.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.filter(ne=>ne.lastLogin&&new Date(ne.lastLogin)>new Date(Date.now()-10080*60*1e3)).length," ativos nos últimos 7 dias"]})]})]}),b.jsxs(Dr,{children:[b.jsx(Ns,{className:"pb-2",children:b.jsx(Ps,{className:"text-sm font-medium",children:"Total de Pacotes"})}),b.jsxs(Or,{children:[b.jsx("div",{className:"text-2xl font-bold",children:p.total||0}),b.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[p.published||0," publicados, ",p.draft||0," rascunhos"]})]})]}),b.jsxs(Dr,{children:[b.jsx(Ns,{className:"pb-2",children:b.jsx(Ps,{className:"text-sm font-medium",children:"Downloads Médios"})}),b.jsxs(Or,{children:[b.jsx("div",{className:"text-2xl font-bold",children:p.avgDownloads||0}),b.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Avaliação média: ",p.avgRating||"0.0","/5.0"]})]})]}),b.jsxs(Dr,{children:[b.jsx(Ns,{className:"pb-2",children:b.jsx(Ps,{className:"text-sm font-medium",children:"Tamanho do Banco"})}),b.jsxs(Or,{children:[b.jsxs("div",{className:"text-2xl font-bold",children:[(H.dbSize/1024/1024).toFixed(2)," MB"]}),b.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Último backup: ",H.lastBackup?X(H.lastBackup):"Nunca"]})]})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs(Dr,{children:[b.jsxs(Ns,{children:[b.jsx(Ps,{children:"Atividades Recentes"}),b.jsx(Ml,{children:"Últimas 50 atividades do sistema"})]}),b.jsx(Or,{className:"max-h-96 overflow-auto",children:b.jsx("div",{className:"space-y-4",children:u.length>0?u.map(ne=>b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"bg-muted p-2 rounded-full",children:ie(ne.type)}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("p",{className:"text-sm font-medium",children:he(ne)}),b.jsx("p",{className:"text-xs text-muted-foreground",children:X(ne.timestamp)})]})]},ne.id)):b.jsx("p",{className:"text-muted-foreground text-sm",children:"Nenhuma atividade registrada"})})})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs(Dr,{children:[b.jsxs(Ns,{children:[b.jsx(Ps,{children:"Status do Sistema"}),b.jsx(Ml,{children:"Desempenho e alertas"})]}),b.jsx(Or,{children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-sm",children:"Desempenho"}),b.jsxs("span",{className:"text-sm font-medium",children:[H.performance,"%"]})]}),b.jsx(oT,{value:H.performance})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("span",{className:"text-sm",children:"Tempo de atividade"}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Hl,{className:"h-4 w-4 text-muted-foreground"}),b.jsxs("span",{className:"text-sm",children:[Math.floor(H.uptime/86400)," dias, ",Math.floor(H.uptime%86400/3600)," horas"]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("span",{className:"text-sm",children:"Alertas"}),H.errors.length>0||H.warnings.length>0?b.jsxs("div",{className:"space-y-2",children:[H.errors.map((ne,ce)=>b.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[b.jsx(wa,{className:"h-4 w-4"}),b.jsx("span",{className:"text-sm",children:ne})]},ce)),H.warnings.map((ne,ce)=>b.jsxs("div",{className:"flex items-center space-x-2 text-amber-600",children:[b.jsx(wa,{className:"h-4 w-4"}),b.jsx("span",{className:"text-sm",children:ne})]},ce))]}):b.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[b.jsx("div",{className:"h-2 w-2 rounded-full bg-green-600"}),b.jsx("span",{className:"text-sm",children:"Todos os sistemas operacionais"})]})]})]})})]}),b.jsxs(Dr,{children:[b.jsxs(Ns,{children:[b.jsx(Ps,{children:"Pacotes Duplicados"}),b.jsx(Ml,{children:"Possíveis duplicações no sistema"})]}),b.jsx(Or,{className:"max-h-40 overflow-auto",children:w.length>0?b.jsx("div",{className:"space-y-2",children:w.map((ne,ce)=>b.jsxs("div",{className:"text-sm border rounded-md p-2",children:[b.jsx("div",{className:"font-medium",children:ne.original.title}),b.jsxs("div",{className:"text-xs text-muted-foreground mt-1 flex justify-between",children:[b.jsxs("span",{children:["Original: ",ne.original.id]}),b.jsxs("span",{children:["Duplicado: ",ne.duplicate.id]})]})]},ce))}):b.jsx("p",{className:"text-muted-foreground text-sm",children:"Nenhum pacote duplicado encontrado"})})]})]})]})]}),b.jsxs(qc,{value:"calendar",className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsx(XF,{}),b.jsx(QF,{isSoundEnabled:!0,onToggleSound:()=>{}})]}),b.jsx(JF,{})]}),b.jsx(qc,{value:"users",children:b.jsxs(Dr,{children:[b.jsxs(Ns,{children:[b.jsx(Ps,{children:"Gerenciar Usuários"}),b.jsxs(Ml,{children:[D.length," usuários encontrados",W&&` para "${W}"`]})]}),b.jsx(Or,{children:b.jsx("div",{className:"rounded-md border",children:b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b bg-muted/50",children:[b.jsx("th",{className:"py-2 px-4 text-left font-medium",children:"ID"}),b.jsx("th",{className:"py-2 px-4 text-left font-medium",children:"Nome"}),b.jsx("th",{className:"py-2 px-4 text-left font-medium",children:"Email"}),b.jsx("th",{className:"py-2 px-4 text-left font-medium",children:"Criado em"}),b.jsx("th",{className:"py-2 px-4 text-left font-medium",children:"Último login"}),b.jsx("th",{className:"py-2 px-4 text-left font-medium",children:"Status"}),b.jsx("th",{className:"py-2 px-4 text-left font-medium",children:"Ações"})]})}),b.jsx("tbody",{children:D.length>0?D.map(ne=>b.jsxs("tr",{className:"border-b",children:[b.jsxs("td",{className:"py-2 px-4 font-mono text-xs",children:[ne.uid.substring(0,8),"..."]}),b.jsx("td",{className:"py-2 px-4",children:ne.displayName||"N/A"}),b.jsx("td",{className:"py-2 px-4",children:ne.email}),b.jsx("td",{className:"py-2 px-4",children:X(ne.createdAt)}),b.jsx("td",{className:"py-2 px-4",children:X(ne.lastLogin)}),b.jsx("td",{className:"py-2 px-4",children:ne.isAdmin?b.jsx(Zc,{variant:"outline",className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:"Admin"}):ne.isBlocked?b.jsx(Zc,{variant:"outline",className:"bg-red-100 text-red-800 hover:bg-red-100",children:"Bloqueado"}):b.jsx(Zc,{variant:"outline",className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Ativo"})}),b.jsx("td",{className:"py-2 px-4",children:b.jsx(Jt,{variant:"ghost",size:"sm",onClick:()=>re(ne.uid),disabled:ne.isAdmin||T||me,children:b.jsx(Fl,{className:"h-4 w-4"})})})]},ne.uid)):b.jsx("tr",{children:b.jsx("td",{colSpan:7,className:"py-4 px-4 text-center text-muted-foreground",children:"Nenhum usuário encontrado"})})})]})})})]})}),b.jsx(qc,{value:"data",children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(a).map(([ne,ce])=>{const ge=ee[ne]||[];return b.jsxs(Dr,{children:[b.jsxs(Ns,{className:"pb-3",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(Ps,{className:"capitalize",children:ne}),b.jsxs(Jt,{variant:"ghost",size:"sm",onClick:()=>M(ne),disabled:T||me,children:[b.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Limpar"]})]}),b.jsxs(Ml,{children:[ge.length," itens encontrados",W&&` para "${W}"`]})]}),b.jsx(Or,{children:b.jsx("div",{className:"rounded-md border max-h-80 overflow-auto",children:b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b bg-muted/50",children:[b.jsx("th",{className:"py-2 px-4 text-left font-medium",children:"ID"}),b.jsx("th",{className:"py-2 px-4 text-left font-medium",children:"Título"}),b.jsx("th",{className:"py-2 px-4 text-left font-medium",children:"Criado em"}),b.jsx("th",{className:"py-2 px-4 text-left font-medium",children:"Ações"})]})}),b.jsx("tbody",{children:ge.length>0?ge.map(xe=>b.jsxs("tr",{className:"border-b",children:[b.jsxs("td",{className:"py-2 px-4 font-mono text-xs",children:[xe.id.substring(0,8),"..."]}),b.jsx("td",{className:"py-2 px-4",children:xe.title||xe.name||xe.id}),b.jsx("td",{className:"py-2 px-4",children:X(xe.createdAt)}),b.jsx("td",{className:"py-2 px-4",children:b.jsx(Jt,{variant:"ghost",size:"sm",onClick:()=>ye(ne,xe.id),disabled:T||me,children:b.jsx(Fl,{className:"h-4 w-4"})})})]},xe.id)):b.jsx("tr",{children:b.jsx("td",{colSpan:4,className:"py-4 px-4 text-center text-muted-foreground",children:"Nenhum item encontrado"})})})]})})})]},ne)})})}),b.jsx(qc,{value:"system",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs(Dr,{children:[b.jsxs(Ns,{children:[b.jsx(Ps,{children:"Informações do Sistema"}),b.jsx(Ml,{children:"Estatísticas e métricas"})]}),b.jsxs(Or,{className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("h4",{className:"font-medium",children:"Armazenamento"}),b.jsxs("div",{className:"flex items-center",children:[b.jsx(WP,{className:"h-4 w-4 mr-2 text-muted-foreground"}),b.jsxs("span",{children:[(H.dbSize/1024/1024).toFixed(2)," MB"]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h4",{className:"font-medium",children:"Tempo de Atividade"}),b.jsxs("div",{className:"flex items-center",children:[b.jsx(Hl,{className:"h-4 w-4 mr-2 text-muted-foreground"}),b.jsxs("span",{children:[Math.floor(H.uptime/86400)," dias"]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h4",{className:"font-medium",children:"Desempenho"}),b.jsxs("div",{className:"flex items-center",children:[b.jsx(fC,{className:"h-4 w-4 mr-2 text-muted-foreground"}),b.jsxs("span",{children:[H.performance,"%"]})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h4",{className:"font-medium",children:"Alertas"}),b.jsxs("div",{className:"flex items-center",children:[b.jsx(BP,{className:"h-4 w-4 mr-2 text-muted-foreground"}),b.jsx("span",{children:H.errors.length+H.warnings.length})]})]})]}),b.jsxs("div",{className:"pt-4",children:[b.jsx("h4",{className:"font-medium mb-2",children:"Logs do Sistema"}),b.jsxs("div",{className:"bg-muted p-2 rounded-md h-32 overflow-auto font-mono text-xs",children:[H.errors.map((ne,ce)=>b.jsxs("div",{className:"text-red-500",children:["[ERRO] ",ne]},`error-${ce}`)),H.warnings.map((ne,ce)=>b.jsxs("div",{className:"text-amber-500",children:["[AVISO] ",ne]},`warning-${ce}`)),H.errors.length===0&&H.warnings.length===0&&b.jsx("div",{className:"text-green-500",children:"[INFO] Sistema operando normalmente"})]})]})]})]}),b.jsxs(Dr,{children:[b.jsxs(Ns,{children:[b.jsx(Ps,{children:"Manutenção do Sistema"}),b.jsx(Ml,{children:"Backup e restauração"})]}),b.jsx(Or,{className:"space-y-4",children:b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium",children:"Backup de Dados"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Último backup: ",H.lastBackup?X(H.lastBackup):"Nunca"]})]}),b.jsxs(by,{children:[b.jsx(_y,{asChild:!0,children:b.jsxs(Jt,{variant:"outline",size:"sm",onClick:fe,disabled:T||le||me,children:[b.jsx(T0,{className:"h-4 w-4 mr-2"}),le?"Processando...":"Criar Backup"]})}),b.jsx(Km,{children:b.jsx("p",{children:"Cria um arquivo JSON com todos os dados do sistema"})})]})]}),b.jsxs("div",{className:"flex items-center justify-between mt-4",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium",children:"Restaurar Backup"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Restaure o sistema a partir de um arquivo de backup"})]}),b.jsxs(by,{children:[b.jsx(_y,{asChild:!0,children:b.jsx("div",{children:b.jsx(Wl,{type:"file",accept:".json",onChange:oe,disabled:T||k||me,className:"w-40"})})}),b.jsx(Km,{children:b.jsx("p",{children:"Selecione um arquivo de backup JSON para restaurar"})})]})]}),b.jsxs("div",{className:"flex items-center justify-between mt-4",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium",children:"Limpar Todos os Dados"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Remover todos os dados do sistema"})]}),b.jsxs(Jt,{variant:"destructive",size:"sm",onClick:()=>M("/"),disabled:T||me,children:[b.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Limpar Tudo"]})]})]})}),b.jsx(w2,{children:b.jsx("p",{className:"text-xs text-muted-foreground",children:"Atenção: Todas as operações de limpeza são irreversíveis. Recomendamos criar um backup antes de prosseguir."})})]})]})})]})]})})})})},eV=()=>{const[n,e]=z.useState(new Date),[t,r]=z.useState({}),[s,i]=z.useState(!0),[a,c]=z.useState(new Date),{toast:u}=ng(),d=z.useRef(null);z.useEffect(()=>{const T=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(T)},[]),z.useEffect(()=>{const T=()=>{const P=navigator.onLine;i(P),P?(u({title:"Connection restored",description:"You are connected again. Data will be synchronized automatically.",variant:"default"}),c(new Date)):u({title:"No connection",description:"You are offline. Some features may not be available.",variant:"destructive"})};return window.addEventListener("online",T),window.addEventListener("offline",T),(async()=>{try{if(!supabase||!supabase.channel){console.error("Supabase is not available or not properly initialized");return}if(!d.current){const P=supabase.channel("online-users-presence",{config:{presence:{key:(()=>{try{const I=localStorage.getItem("arkosCurrentUser");if(I){const L=JSON.parse(I);return L&&L.id?L.id:"anonymous-"+Math.random().toString(36).substring(2,9)}return"anonymous-"+Math.random().toString(36).substring(2,9)}catch(I){return console.error("Error processing user ID:",I),"anonymous-"+Math.random().toString(36).substring(2,9)}})()}}});P.on("presence",{event:"sync"},()=>{const I=P.presenceState();r(I),c(new Date),console.log("Presence synchronized:",I)}),P.on("presence",{event:"join"},({key:I,newPresences:L})=>{var F;console.log("User joined:",L),u({title:"New user online",description:`${((F=L[0])==null?void 0:F.user_name)||"Someone"} just entered the system.`,variant:"default"})}),P.on("presence",{event:"leave"},({key:I,leftPresences:L})=>{console.log("User left:",L)});try{await P.subscribe(async I=>{if(I==="SUBSCRIBED"){let L;try{const F=localStorage.getItem("arkosCurrentUser");F?(L=JSON.parse(F),(!L||!L.id)&&(L={name:"Anonymous User",id:"anonymous-"+Math.random().toString(36).substring(2,9)})):L={name:"Anonymous User",id:"anonymous-"+Math.random().toString(36).substring(2,9)}}catch(F){console.error("Error processing user data:",F),L={name:"Anonymous User",id:"anonymous-"+Math.random().toString(36).substring(2,9)}}try{P&&P.track?await P.track({user_id:L.id,user_name:L.name,online_at:new Date().toISOString(),user_agent:navigator.userAgent,ip_address:"local"}):console.error("Channel does not have track method")}catch(F){console.error("Error tracking presence:",F)}}})}catch(I){console.error("Error subscribing to channel:",I)}d.current=P}}catch(P){console.error("Error setting up presence channel:",P)}})(),()=>{window.removeEventListener("online",T),window.removeEventListener("offline",T),d.current&&(d.current.unsubscribe(),d.current=null)}},[u,supabase]);const p=T=>{if(!T)return"Unknown";const E=n,P=new Date(T),I=Math.floor((E-P)/1e3);if(I<60)return`${I} seconds ago`;const L=Math.floor(I/60);if(L<60)return`${L} minutes ago`;const F=Math.floor(L/60);return F<24?`${F} hours ago`:`${Math.floor(F/24)} days ago`},g=()=>{const T=Object.values(onlineUsers||{}).filter(P=>P.online),E=[];return Object.entries(t).forEach(([P,I])=>{I.forEach(L=>{T.find(H=>H.id===L.user_id)||E.push({id:L.user_id,displayName:L.user_name||"Anonymous User",lastActive:L.online_at||new Date().toISOString(),isPresenceOnly:!0,user_agent:L.user_agent,ip_address:L.ip_address,online:!0})})}),[...T,...E].sort((P,I)=>new Date(I.lastActive)-new Date(P.lastActive))},w=async()=>{if(c(new Date),u({title:"Synchronizing",description:"Updating online user information..."}),d.current){await d.current.unsubscribe(),d.current=null;const T=supabase.channel("online-users-presence",{config:{presence:{key:(()=>{try{const P=localStorage.getItem("arkosCurrentUser");if(P){const I=JSON.parse(P);return I&&I.id?I.id:"anonymous-"+Math.random().toString(36).substring(2,9)}return"anonymous-"+Math.random().toString(36).substring(2,9)}catch(P){return console.error("Error processing user ID:",P),"anonymous-"+Math.random().toString(36).substring(2,9)}})()}}});T.on("presence",{event:"sync"},()=>{const P=T.presenceState();r(P),c(new Date)}),await T.subscribe(),d.current=T;let E;try{const P=localStorage.getItem("arkosCurrentUser");P?(E=JSON.parse(P),(!E||!E.id)&&(E={name:"Anonymous User",id:"anonymous-"+Math.random().toString(36).substring(2,9)})):E={name:"Anonymous User",id:"anonymous-"+Math.random().toString(36).substring(2,9)}}catch(P){console.error("Error processing user data:",P),E={name:"Anonymous User",id:"anonymous-"+Math.random().toString(36).substring(2,9)}}try{await T.track({user_id:E.id,user_name:E.name,online_at:new Date().toISOString(),user_agent:navigator.userAgent,ip_address:"local"})}catch(P){console.error("Error tracking presence:",P)}u({title:"Synchronized",description:"Online user information updated successfully!",variant:"success"})}},y=g();return b.jsxs(Dr,{className:"w-full shadow-md",children:[b.jsxs(Ns,{className:"pb-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs(Ps,{className:"text-lg flex items-center gap-2",children:[b.jsx(Qc,{className:"h-5 w-5"}),"Real-Time Monitoring",b.jsx(Zc,{variant:s?"success":"destructive",className:"ml-2",children:s?b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(Hy,{className:"h-3 w-3"})," Connected"]}):b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx($y,{className:"h-3 w-3"})," Disconnected"]})})]}),b.jsx(Jt,{variant:"ghost",size:"icon",onClick:w,title:"Synchronize now",children:b.jsx(id,{className:"h-4 w-4"})})]}),b.jsx(Ml,{children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("span",{children:[y.length," users online now"]}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:[b.jsx(Hl,{className:"mr-1 inline h-3 w-3"}),"Last sync: ",p(a)]})]})})]}),b.jsx(Or,{children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center gap-1",children:[b.jsx(pm,{className:"h-4 w-4"}),"Online Users"]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:b.jsx(Kl,{children:y.length>0?y.map(T=>b.jsx(qn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},children:b.jsx(eT,{children:b.jsxs(by,{children:[b.jsx(_y,{asChild:!0,children:b.jsxs(Zc,{variant:"outline",className:`${T.isPresenceOnly?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-primary/5 border-primary/20"}`,children:[b.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500 mr-1"}),T.displayName||T.email||"User",T.isPresenceOnly&&b.jsx(HP,{className:"ml-1 h-2 w-2"})]})}),b.jsxs(Km,{children:[b.jsxs("span",{children:["Active since: ",new Date(T.lastActive).toLocaleTimeString()]}),T.user_agent&&b.jsxs("span",{className:"text-xs block",children:["Device: ",T.user_agent.split(" ").slice(0,3).join(" "),"..."]})]})]})})},T.id)):b.jsx("span",{className:"text-sm text-muted-foreground",children:"No users online"})})})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center gap-1",children:[b.jsx(Vl,{className:"h-4 w-4"}),"Recent Activities"]}),b.jsx(Em,{className:"h-[200px] rounded-md border p-2",children:b.jsx(Kl,{children:lastActivities&&lastActivities.length>0?lastActivities.slice(0,10).map((T,E)=>{var P;return b.jsx(qn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},className:`mb-2 p-2 rounded-md ${E===0?"bg-primary/5":""}`,children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("span",{className:"font-medium text-sm",children:((P=T.userEmail)==null?void 0:P.split("@")[0])||"User"}),b.jsxs("span",{className:"text-sm",children:[" ",T.message]}),T.packageCode&&b.jsxs("span",{className:"text-xs block text-muted-foreground",children:["Package: ",T.packageCode]})]}),b.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[b.jsx(Hl,{className:"h-3 w-3"}),p(T.timestamp)]})]})},T.id||E)}):b.jsx("span",{className:"text-sm text-muted-foreground",children:"No recent activity"})})})]})]})}),b.jsx(w2,{className:"pt-0",children:b.jsx("span",{className:"text-xs text-muted-foreground w-full text-center",children:"Real-time sharing active. Other users can see your online presence."})})]})};function Dl(n,e){const[t,r]=z.useState(()=>{try{const i=window.localStorage.getItem(n);return i?JSON.parse(i):e}catch(i){return console.error(i),e}});return[t,i=>{try{const a=i instanceof Function?i(t):i;r(a),window.localStorage.setItem(n,JSON.stringify(a))}catch(a){console.error(a)}}]}const tV="39df40bdc71c98d2ca8c8e5fe97c0e1f",nV="ATTA848155f599628c1b523688f853cd8515bf01cd1bf587b7aa5b0fa980198becdd5FD4015B",rV="645e2f9ff81077eae3eb42db",sV="ENTRADA";async function iV(n,e,t,r){const s=`https://api.trello.com/1/boards/${n}/lists?key=${t}&token=${r}`;try{const i=await fetch(s);if(!i.ok){let u;try{u=await i.json()}catch{u={message:i.statusText||"Falha ao converter erro do Trello para JSON"}}console.error(`Erro ao buscar listas do Trello (status: ${i.status}):`,u);const d=u.message||u.error&&u.error.message||"Erro desconhecido ao buscar listas.";throw new Error(`Erro ${i.status} ao buscar listas no quadro "${n}": ${d}. Verifique o ID do quadro, nome da lista e permissões do token.`)}const a=await i.json();if(!a||!Array.isArray(a))throw new Error("Resposta inválida do Trello: listas não encontradas ou formato inválido. Verifique o ID do quadro e permissões do token.");const c=a.find(u=>u.name.toUpperCase()===e.toUpperCase()&&!u.closed);if(!c)throw new Error(`Lista "${e}" não encontrada ou está arquivada no quadro "${n}". Verifique se a lista existe e não está arquivada, e se o token tem permissão para acessá-la.`);return c.id}catch(i){throw console.error("Falha ao buscar ID da lista do Trello:",i),i}}let Jd={id:null,timestamp:0,expiresInMs:300*1e3};async function oV(n,e,t,r){const s=Date.now();if(Jd.id&&s-Jd.timestamp<Jd.expiresInMs)return console.log("Usando ID da lista em cache"),Jd.id;try{const i=await iV(n,e,t,r);return Jd={id:i,timestamp:s,expiresInMs:300*1e3},i}catch(i){throw console.error("Erro ao obter ID da lista:",i),i}}const aV=async n=>{try{const e=tV,t=nV,r=rV,s=sV,{title:i,description:a,attachments:c=[]}=n;if(!i)throw new Error("Título do cartão é obrigatório");const u=await oV(r,s,e,t),d={name:i,desc:a||"",idList:u,key:e,token:t};console.log("Criando cartão no Trello...");const p="https://api.trello.com/1/cards";let g;try{const w=new AbortController,y=setTimeout(()=>w.abort(),3e4),T=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(d),signal:w.signal});if(clearTimeout(y),!T.ok){let E;try{E=await T.json()}catch{E={message:T.statusText||"Falha ao converter erro do Trello para JSON ao criar card."}}console.error(`Erro ao criar card no Trello (status: ${T.status}):`,E);const P=E.message||E.error&&E.error.message||"Erro desconhecido ao criar card.";throw new Error(`Erro ${T.status} ao criar card: ${P}`)}g=await T.json(),console.log("Cartão criado com sucesso:",g.id)}catch(w){throw w.name==="AbortError"?(console.error("Timeout ao criar card no Trello - a requisição demorou muito"),new Error("A requisição para criar o card no Trello demorou muito e foi cancelada. Tente novamente.")):(console.error("Falha na criação do card Trello:",w),w)}if(g&&g.id&&c.length>0){g.attachmentErrors=[],console.log(`Anexando ${c.length} arquivo(s) ao cartão...`);const y=await(async()=>{const T=[],P=[...c],I=async L=>{if(!L.file)return null;const F=new FormData;F.append("key",e),F.append("token",t),F.append("file",L.file,L.fileName||L.file.name),F.append("mimeType",L.mimeType||L.file.type);const H=`https://api.trello.com/1/cards/${g.id}/attachments`;try{console.log(`Enviando anexo: ${L.fileName||L.file.name}`);const te=new AbortController,le=setTimeout(()=>te.abort(),3e4),U=await fetch(H,{method:"POST",body:F,signal:te.signal});if(clearTimeout(le),U.ok)return console.log(`Arquivo "${L.fileName||L.file.name}" anexado com sucesso ao card ID: ${g.id}.`),null;{let k;try{k=await U.json()}catch{k={message:U.statusText||"Falha ao converter erro do Trello para JSON ao anexar."}}const B=k.message||k.error&&k.error.message||"Erro desconhecido ao anexar arquivo.";return console.warn(`Card criado (ID: ${g.id}), mas falha ao anexar "${L.fileName||L.file.name}": ${B}`),`Falha ao anexar ${L.fileName||L.file.name}: ${B}`}}catch(te){return te.name==="AbortError"?(console.warn(`Timeout ao anexar "${L.fileName||L.file.name}" - a requisição demorou muito`),`Timeout ao anexar ${L.fileName||L.file.name}: A requisição demorou muito e foi cancelada.`):(console.warn(`Card criado (ID: ${g.id}), mas ocorreu um erro de rede/fetch ao anexar "${L.fileName||L.file.name}": ${te.message}`),`Erro de rede/fetch ao anexar ${L.fileName||L.file.name}: ${te.message}`)}};for(;P.length>0;){const F=P.splice(0,2).map(I),H=await Promise.all(F);T.push(...H),P.length>0&&await new Promise(te=>setTimeout(te,50))}return T})();g.attachmentErrors=y.filter(T=>T!==null)}return g}catch(e){throw console.error("Erro geral na integração com Trello:",e),e}},Sy=(n,e)=>{try{if(!e)return console.error("Dados do relatório não fornecidos"),"Erro: Dados do relatório não fornecidos";const t=e.currentCollectionName||e.currentCollectionNameForTitle||"Sem Nome",r=e.collections||{},s=e.observations||"",i=e.operator||"Não Especificado";let a=[],c=[];Object.keys(r).length>0?Object.values(r).forEach(w=>{w&&w.packages&&(a=a.concat(w.packages||[])),w&&w.duplicates&&(c=c.concat(w.duplicates||[]))}):(a=e.scannedPackages||[],c=e.duplicatePackages||[]);const u=a.length,d=c.length,p=new Date().toLocaleString("pt-BR");let g="";if(n==="pdf"){const w=["╔══════════════════════════════════════════════════════════════╗","║                        ARKOS LOGÍSTICA                       ║","║                    Relatório de Romaneio                     ║","╚══════════════════════════════════════════════════════════════╝","","📋 INFORMAÇÕES GERAIS","━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━",`Coleta: ${t}`,`Operador: ${i}`,`Data: ${p}`,`Gerado em: ${new Date().toLocaleString("pt-BR")}`,"","📊 ESTATÍSTICAS","━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━",`✅ Pacotes Válidos: ${u}`,`⚠️  Pacotes Duplicados: ${d}`,`📦 Total Geral Lido: ${u+d}`,`📈 Taxa de Sucesso: ${u+d>0?(u/(u+d)*100).toFixed(1):0}%`,"","📋 DETALHAMENTO DOS PACOTES","━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"];u>0?(w.push(`✅ PACOTES VÁLIDOS (${u}):`),a.forEach((y,T)=>{const E=y.timestamp||"N/A",P=typeof y=="object"?y.code:y;w.push(`${T+1}. ${P} - ${E}`)})):w.push("✅ PACOTES VÁLIDOS: Nenhum"),w.push(""),d>0?(w.push(`⚠️  PACOTES DUPLICADOS (${d}) - ATENÇÃO:`),c.forEach((y,T)=>{const E=y.timestamp||"N/A",P=typeof y=="object"?y.code:y;w.push(`❌ ${T+1}. ${P} - ${E} - DUPLICADO`)})):w.push("⚠️  PACOTES DUPLICADOS: Nenhum"),w.push(""),s&&s.trim()&&(w.push("📝 OBSERVAÇÕES DO OPERADOR"),w.push("━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"),w.push(s),w.push("")),w.push("━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"),w.push("Relatório gerado pelo Sistema ARKOS"),w.push(`© ${new Date().getFullYear()} ARKOS Logística - Todos os direitos reservados`),g=w.join(`
`)}else if(n==="excel"){const w=["Coleta,Status,Código"];if(a.length>0)for(let y=0;y<a.length;y++)w.push(`${t},VALIDO,${a[y]}`);if(c.length>0)for(let y=0;y<c.length;y++)w.push(`${t},DUPLICADO,${c[y]}`);g=w.join(`
`)}return g}catch(t){return console.error("Erro ao gerar conteúdo do relatório:",t),`Erro ao gerar relatório: ${t.message}`}},lV=(n,e,t)=>{try{if(!n)throw console.error("Conteúdo vazio para exportação"),new Error("Conteúdo vazio para exportação");if(e||(e=`relatorio_${new Date().toISOString().replace(/[:.]/g,"-")}.txt`,console.warn("Nome de arquivo não fornecido, usando nome padrão:",e)),!t){switch(e.split(".").pop().toLowerCase()){case"pdf":t="application/pdf";break;case"csv":case"txt":t="text/plain";break;case"xlsx":case"xls":t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;default:t="text/plain"}console.warn("Tipo MIME não fornecido, usando tipo detectado:",t)}const r=new Blob([n],{type:t}),s=document.createElement("a");if(s.download!==void 0){const i=URL.createObjectURL(r);return s.setAttribute("href",i),s.setAttribute("download",e),s.style.visibility="hidden",document.body.appendChild(s),s.click(),setTimeout(()=>{document.body.removeChild(s),URL.revokeObjectURL(i)},100),!0}else return console.warn("Navegador não suporta download via link, tentando abrir em nova janela"),window.open(URL.createObjectURL(r),"_blank"),!0}catch(r){throw console.error("Erro ao exportar arquivo:",r),r}},cV=n=>{try{if(!n)throw console.error("Dados do relatório não fornecidos para impressão"),new Error("Dados do relatório não fornecidos para impressão");const e=n.currentCollectionName||n.currentCollectionNameForTitle||"Romaneio",t=Sy("pdf",n);if(!t||t.startsWith("Erro:"))throw console.error("Falha ao gerar conteúdo do relatório:",t),new Error(t||"Falha ao gerar conteúdo do relatório");const r=window.open("","_blank");if(r){const s=`
        <!DOCTYPE html>
        <html lang="pt-BR">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Imprimir Romaneio - ${e}</title>
          <style>
            body {
              font-family: 'Courier New', monospace;
              white-space: pre-wrap;
              margin: 20px;
              line-height: 1.4;
              background: white;
              color: black;
            }
            .header {
              text-align: center;
              margin-bottom: 20px;
              border-bottom: 2px solid #333;
              padding-bottom: 10px;
            }
            .logo {
              width: 60px;
              height: 60px;
              margin: 0 auto 10px;
              display: block;
            }
            .title {
              font-size: 24px;
              font-weight: bold;
              margin: 10px 0;
              color: #1e40af;
            }
            .subtitle {
              font-size: 16px;
              color: #666;
              margin-bottom: 10px;
            }
            .duplicate {
              color: #dc2626;
              font-weight: bold;
            }
            .success {
              color: #059669;
              font-weight: bold;
            }
            .warning {
              color: #d97706;
              font-weight: bold;
            }
            .section {
              margin: 15px 0;
              border-left: 3px solid #1e40af;
              padding-left: 10px;
            }
            .footer {
              margin-top: 30px;
              text-align: center;
              font-size: 12px;
              color: #666;
              border-top: 1px solid #ccc;
              padding-top: 10px;
            }
            @media print {
              body {
                font-size: 11px;
                margin: 15px;
              }
              .title {
                font-size: 20px;
              }
              .subtitle {
                font-size: 14px;
              }
              @page {
                margin: 1.5cm;
                size: A4;
              }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <img src="/images/arkos_logo.svg" alt="ARKOS Logo" class="logo">
            <div class="title">ARKOS LOGÍSTICA</div>
            <div class="subtitle">Relatório de Romaneio - ${e}</div>
          </div>
          
          <div class="content">
            ${t.replace(/\n/g,"<br/>").replace(/✅/g,'<span class="success">✅</span>').replace(/⚠️/g,'<span class="warning">⚠️</span>').replace(/❌/g,'<span class="duplicate">❌</span>').replace(/DUPLICADO/g,'<span class="duplicate">DUPLICADO</span>').replace(/━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━/g,'<hr style="border: 1px solid #ccc; margin: 10px 0;">')}
          </div>
          
          <div class="footer">
            <p>Relatório gerado pelo Sistema ARKOS</p>
            <p>© ${new Date().getFullYear()} ARKOS Logística - Todos os direitos reservados</p>
          </div>
        </body>
        </html>
      `;return r.document.write(s),r.document.close(),r.focus(),setTimeout(()=>{try{r.print()}catch(i){console.error("Erro ao imprimir:",i),alert(`Erro ao imprimir: ${i.message}`)}},300),!0}else{const s="O bloqueador de pop-ups pode estar impedindo a abertura da janela de impressão. ";throw console.error(s),alert(s+"Por favor, permita pop-ups para este site e tente novamente."),new Error(s)}}catch(e){throw console.error("Erro ao preparar relatório para impressão:",e),alert(`Erro ao preparar relatório para impressão: ${e.message}`),e}},uV="modulepreload",hV=function(n){return"/"+n},qb={},Ay=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let a=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=a(t.map(d=>{if(d=hV(d),d in qb)return;qb[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":uV,p||(w.as="script"),w.crossOrigin="",w.href=d,u&&w.setAttribute("nonce",u),document.head.appendChild(w),p)return new Promise((y,T)=>{w.addEventListener("load",y),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};function Kn(n){"@babel/helpers - typeof";return Kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(n)}var mi=Uint8Array,mo=Uint16Array,_2=Int32Array,Mg=new mi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Fg=new mi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ey=new mi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aT=function(n,e){for(var t=new mo(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new _2(t[30]),r=1;r<30;++r)for(var i=t[r];i<t[r+1];++i)s[i]=i-t[r]<<5|r;return{b:t,r:s}},lT=aT(Mg,2),cT=lT.b,Ty=lT.r;cT[28]=258,Ty[258]=28;var uT=aT(Fg,0),dV=uT.b,$b=uT.r,Ny=new mo(32768);for(var fr=0;fr<32768;++fr){var Fc=(fr&43690)>>1|(fr&21845)<<1;Fc=(Fc&52428)>>2|(Fc&13107)<<2,Fc=(Fc&61680)>>4|(Fc&3855)<<4,Ny[fr]=((Fc&65280)>>8|(Fc&255)<<8)>>1}var sl=function(n,e,t){for(var r=n.length,s=0,i=new mo(e);s<r;++s)n[s]&&++i[n[s]-1];var a=new mo(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var c;if(t){c=new mo(1<<e);var u=15-e;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],p=e-n[s],g=a[n[s]-1]++<<p,w=g|(1<<p)-1;g<=w;++g)c[Ny[g]>>u]=d}else for(c=new mo(r),s=0;s<r;++s)n[s]&&(c[s]=Ny[a[n[s]-1]++]>>15-n[s]);return c},pu=new mi(288);for(var fr=0;fr<144;++fr)pu[fr]=8;for(var fr=144;fr<256;++fr)pu[fr]=9;for(var fr=256;fr<280;++fr)pu[fr]=7;for(var fr=280;fr<288;++fr)pu[fr]=8;var Rf=new mi(32);for(var fr=0;fr<32;++fr)Rf[fr]=5;var fV=sl(pu,9,0),pV=sl(pu,9,1),mV=sl(Rf,5,0),gV=sl(Rf,5,1),u0=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},ga=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},h0=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},S2=function(n){return(n+7)/8|0},hT=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new mi(n.subarray(e,t))},yV=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],va=function(n,e,t){var r=new Error(e||yV[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,va),!t)throw r;return r},vV=function(n,e,t,r){var s=n.length,i=0;if(!s||e.f&&!e.l)return t||new mi(0);var a=!t,c=a||e.i!=2,u=e.i;a&&(t=new mi(s*3));var d=function(je){var ze=t.length;if(je>ze){var He=new mi(Math.max(ze*2,je));He.set(t),t=He}},p=e.f||0,g=e.p||0,w=e.b||0,y=e.l,T=e.d,E=e.m,P=e.n,I=s*8;do{if(!y){p=ga(n,g,1);var L=ga(n,g+1,3);if(g+=3,L)if(L==1)y=pV,T=gV,E=9,P=5;else if(L==2){var le=ga(n,g,31)+257,U=ga(n,g+10,15)+4,k=le+ga(n,g+5,31)+1;g+=14;for(var B=new mi(k),W=new mi(19),j=0;j<U;++j)W[Ey[j]]=ga(n,g+j*3,7);g+=U*3;for(var D=u0(W),V=(1<<D)-1,ee=sl(W,D,1),j=0;j<k;){var Ee=ee[ga(n,g,V)];g+=Ee&15;var F=Ee>>4;if(F<16)B[j++]=F;else{var de=0,Ae=0;for(F==16?(Ae=3+ga(n,g,3),g+=2,de=B[j-1]):F==17?(Ae=3+ga(n,g,7),g+=3):F==18&&(Ae=11+ga(n,g,127),g+=7);Ae--;)B[j++]=de}}var re=B.subarray(0,le),ye=B.subarray(le);E=u0(re),P=u0(ye),y=sl(re,E,1),T=sl(ye,P,1)}else va(1);else{var F=S2(g)+4,H=n[F-4]|n[F-3]<<8,te=F+H;if(te>s){u&&va(0);break}c&&d(w+H),t.set(n.subarray(F,te),w),e.b=w+=H,e.p=g=te*8,e.f=p;continue}if(g>I){u&&va(0);break}}c&&d(w+131072);for(var fe=(1<<E)-1,oe=(1<<P)-1,M=g;;M=g){var de=y[h0(n,g)&fe],X=de>>4;if(g+=de&15,g>I){u&&va(0);break}if(de||va(2),X<256)t[w++]=X;else if(X==256){M=g,y=null;break}else{var ie=X-254;if(X>264){var j=X-257,he=Mg[j];ie=ga(n,g,(1<<he)-1)+cT[j],g+=he}var me=T[h0(n,g)&oe],ne=me>>4;me||va(3),g+=me&15;var ye=dV[ne];if(ne>3){var he=Fg[ne];ye+=h0(n,g)&(1<<he)-1,g+=he}if(g>I){u&&va(0);break}c&&d(w+131072);var ce=w+ie;if(w<ye){var ge=i-ye,xe=Math.min(ye,ce);for(ge+w<0&&va(3);w<xe;++w)t[w]=r[ge+w]}for(;w<ce;++w)t[w]=t[w-ye]}}e.l=y,e.p=M,e.b=w,e.f=p,y&&(p=1,e.m=E,e.d=T,e.n=P)}while(!p);return w!=t.length&&a?hT(t,0,w):t.subarray(0,w)},Ol=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Zd=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},d0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,i=t.slice();if(!s)return{t:fT,l:0};if(s==1){var a=new mi(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(te,le){return te.f-le.f}),t.push({s:-1,f:25001});var c=t[0],u=t[1],d=0,p=1,g=2;for(t[0]={s:-1,f:c.f+u.f,l:c,r:u};p!=s-1;)c=t[t[d].f<t[g].f?d++:g++],u=t[d!=p&&t[d].f<t[g].f?d++:g++],t[p++]={s:-1,f:c.f+u.f,l:c,r:u};for(var w=i[0].s,r=1;r<s;++r)i[r].s>w&&(w=i[r].s);var y=new mo(w+1),T=Py(t[p-1],y,0);if(T>e){var r=0,E=0,P=T-e,I=1<<P;for(i.sort(function(le,U){return y[U.s]-y[le.s]||le.f-U.f});r<s;++r){var L=i[r].s;if(y[L]>e)E+=I-(1<<T-y[L]),y[L]=e;else break}for(E>>=P;E>0;){var F=i[r].s;y[F]<e?E-=1<<e-y[F]++-1:++r}for(;r>=0&&E;--r){var H=i[r].s;y[H]==e&&(--y[H],++E)}T=e}return{t:new mi(y),l:T}},Py=function(n,e,t){return n.s==-1?Math.max(Py(n.l,e,t+1),Py(n.r,e,t+1)):e[n.s]=t},Hb=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new mo(++e),r=0,s=n[0],i=1,a=function(u){t[r++]=u},c=1;c<=e;++c)if(n[c]==s&&c!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=n[c]}return{c:t.subarray(0,r),n:e}},ef=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},dT=function(n,e,t){var r=t.length,s=S2(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var i=0;i<r;++i)n[s+i+4]=t[i];return(s+4+r)*8},Wb=function(n,e,t,r,s,i,a,c,u,d,p){Ol(e,p++,t),++s[256];for(var g=d0(s,15),w=g.t,y=g.l,T=d0(i,15),E=T.t,P=T.l,I=Hb(w),L=I.c,F=I.n,H=Hb(E),te=H.c,le=H.n,U=new mo(19),k=0;k<L.length;++k)++U[L[k]&31];for(var k=0;k<te.length;++k)++U[te[k]&31];for(var B=d0(U,7),W=B.t,j=B.l,D=19;D>4&&!W[Ey[D-1]];--D);var V=d+5<<3,ee=ef(s,pu)+ef(i,Rf)+a,Ee=ef(s,w)+ef(i,E)+a+14+3*D+ef(U,W)+2*U[16]+3*U[17]+7*U[18];if(u>=0&&V<=ee&&V<=Ee)return dT(e,p,n.subarray(u,u+d));var de,Ae,re,ye;if(Ol(e,p,1+(Ee<ee)),p+=2,Ee<ee){de=sl(w,y,0),Ae=w,re=sl(E,P,0),ye=E;var fe=sl(W,j,0);Ol(e,p,F-257),Ol(e,p+5,le-1),Ol(e,p+10,D-4),p+=14;for(var k=0;k<D;++k)Ol(e,p+3*k,W[Ey[k]]);p+=3*D;for(var oe=[L,te],M=0;M<2;++M)for(var X=oe[M],k=0;k<X.length;++k){var ie=X[k]&31;Ol(e,p,fe[ie]),p+=W[ie],ie>15&&(Ol(e,p,X[k]>>5&127),p+=X[k]>>12)}}else de=fV,Ae=pu,re=mV,ye=Rf;for(var k=0;k<c;++k){var he=r[k];if(he>255){var ie=he>>18&31;Zd(e,p,de[ie+257]),p+=Ae[ie+257],ie>7&&(Ol(e,p,he>>23&31),p+=Mg[ie]);var me=he&31;Zd(e,p,re[me]),p+=ye[me],me>3&&(Zd(e,p,he>>5&8191),p+=Fg[me])}else Zd(e,p,de[he]),p+=Ae[he]}return Zd(e,p,de[256]),p+Ae[256]},wV=new _2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fT=new mi(0),xV=function(n,e,t,r,s,i){var a=i.z||n.length,c=new mi(r+a+5*(1+Math.ceil(a/7e3))+s),u=c.subarray(r,c.length-s),d=i.l,p=(i.r||0)&7;if(e){p&&(u[0]=i.r>>3);for(var g=wV[e-1],w=g>>13,y=g&8191,T=(1<<t)-1,E=i.p||new mo(32768),P=i.h||new mo(T+1),I=Math.ceil(t/3),L=2*I,F=function(ht){return(n[ht]^n[ht+1]<<I^n[ht+2]<<L)&T},H=new _2(25e3),te=new mo(288),le=new mo(32),U=0,k=0,B=i.i||0,W=0,j=i.w||0,D=0;B+2<a;++B){var V=F(B),ee=B&32767,Ee=P[V];if(E[ee]=Ee,P[V]=ee,j<=B){var de=a-B;if((U>7e3||W>24576)&&(de>423||!d)){p=Wb(n,u,0,H,te,le,k,W,D,B-D,p),W=U=k=0,D=B;for(var Ae=0;Ae<286;++Ae)te[Ae]=0;for(var Ae=0;Ae<30;++Ae)le[Ae]=0}var re=2,ye=0,fe=y,oe=ee-Ee&32767;if(de>2&&V==F(B-oe))for(var M=Math.min(w,de)-1,X=Math.min(32767,B),ie=Math.min(258,de);oe<=X&&--fe&&ee!=Ee;){if(n[B+re]==n[B+re-oe]){for(var he=0;he<ie&&n[B+he]==n[B+he-oe];++he);if(he>re){if(re=he,ye=oe,he>M)break;for(var me=Math.min(oe,he-2),ne=0,Ae=0;Ae<me;++Ae){var ce=B-oe+Ae&32767,ge=E[ce],xe=ce-ge&32767;xe>ne&&(ne=xe,Ee=ce)}}}ee=Ee,Ee=E[ee],oe+=ee-Ee&32767}if(ye){H[W++]=268435456|Ty[re]<<18|$b[ye];var je=Ty[re]&31,ze=$b[ye]&31;k+=Mg[je]+Fg[ze],++te[257+je],++le[ze],j=B+re,++U}else H[W++]=n[B],++te[n[B]]}}for(B=Math.max(B,j);B<a;++B)H[W++]=n[B],++te[n[B]];p=Wb(n,u,d,H,te,le,k,W,D,B-D,p),d||(i.r=p&7|u[p/8|0]<<3,p-=7,i.h=P,i.p=E,i.i=B,i.w=j)}else{for(var B=i.w||0;B<a+d;B+=65535){var He=B+65535;He>=a&&(u[p/8|0]=d,He=a),p=dT(u,p+1,n.subarray(B,He))}i.i=a}return hT(c,0,r+S2(p)+s)},pT=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,i=t.length|0,a=0;a!=i;){for(var c=Math.min(a+2655,i);a<c;++a)s+=r+=t[a];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},bV=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new mi(i.length+n.length);a.set(i),a.set(n,i.length),n=a,s.w=i.length}return xV(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},mT=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},_V=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=pT();s.p(e.dictionary),mT(n,2,s.d())}},SV=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&va(6,"invalid zlib data"),(n[1]>>5&1)==1&&va(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function Cy(n,e){e||(e={});var t=pT();t.p(n);var r=bV(n,e,e.dictionary?6:2,4);return _V(r,e),mT(r,r.length-4,t.d()),r}function AV(n,e){return vV(n.subarray(SV(n),-4),{i:2},e,e)}var EV=typeof TextDecoder<"u"&&new TextDecoder,TV=0;try{EV.decode(fT,{stream:!0}),TV=1}catch{}var qt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function f0(){qt.console&&typeof qt.console.log=="function"&&qt.console.log.apply(qt.console,arguments)}var Jn={log:f0,warn:function(n){qt.console&&(typeof qt.console.warn=="function"?qt.console.warn.apply(qt.console,arguments):f0.call(null,arguments))},error:function(n){qt.console&&(typeof qt.console.error=="function"?qt.console.error.apply(qt.console,arguments):f0(n))}};function p0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){$u(r.response,e,t)},r.onerror=function(){Jn.error("could not download file")},r.send()}function Gb(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Wp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var vf,Iy,$u=qt.saveAs||((typeof window>"u"?"undefined":Kn(window))!=="object"||window!==qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=qt.URL||qt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?Gb(s.href)?p0(n,e,t):Wp(s,s.target="_blank"):Wp(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Wp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Gb(n))p0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Wp(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Kn(i)!=="object"&&(Jn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return p0(n,e,t);var s=n.type==="application/octet-stream",i=/constructor/i.test(qt.HTMLElement)||qt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Kn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=a?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},c.readAsDataURL(n)}else{var u=qt.URL||qt.webkitURL,d=u.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function gT(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,i=t[r].process,a=s.exec(n);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+c+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function m0(n,e){var t=n[0],r=n[1],s=n[2],i=n[3];t=oi(t,r,s,i,e[0],7,-680876936),i=oi(i,t,r,s,e[1],12,-389564586),s=oi(s,i,t,r,e[2],17,606105819),r=oi(r,s,i,t,e[3],22,-1044525330),t=oi(t,r,s,i,e[4],7,-176418897),i=oi(i,t,r,s,e[5],12,1200080426),s=oi(s,i,t,r,e[6],17,-1473231341),r=oi(r,s,i,t,e[7],22,-45705983),t=oi(t,r,s,i,e[8],7,1770035416),i=oi(i,t,r,s,e[9],12,-1958414417),s=oi(s,i,t,r,e[10],17,-42063),r=oi(r,s,i,t,e[11],22,-1990404162),t=oi(t,r,s,i,e[12],7,1804603682),i=oi(i,t,r,s,e[13],12,-40341101),s=oi(s,i,t,r,e[14],17,-1502002290),t=ai(t,r=oi(r,s,i,t,e[15],22,1236535329),s,i,e[1],5,-165796510),i=ai(i,t,r,s,e[6],9,-1069501632),s=ai(s,i,t,r,e[11],14,643717713),r=ai(r,s,i,t,e[0],20,-373897302),t=ai(t,r,s,i,e[5],5,-701558691),i=ai(i,t,r,s,e[10],9,38016083),s=ai(s,i,t,r,e[15],14,-660478335),r=ai(r,s,i,t,e[4],20,-405537848),t=ai(t,r,s,i,e[9],5,568446438),i=ai(i,t,r,s,e[14],9,-1019803690),s=ai(s,i,t,r,e[3],14,-187363961),r=ai(r,s,i,t,e[8],20,1163531501),t=ai(t,r,s,i,e[13],5,-1444681467),i=ai(i,t,r,s,e[2],9,-51403784),s=ai(s,i,t,r,e[7],14,1735328473),t=li(t,r=ai(r,s,i,t,e[12],20,-1926607734),s,i,e[5],4,-378558),i=li(i,t,r,s,e[8],11,-2022574463),s=li(s,i,t,r,e[11],16,1839030562),r=li(r,s,i,t,e[14],23,-35309556),t=li(t,r,s,i,e[1],4,-1530992060),i=li(i,t,r,s,e[4],11,1272893353),s=li(s,i,t,r,e[7],16,-155497632),r=li(r,s,i,t,e[10],23,-1094730640),t=li(t,r,s,i,e[13],4,681279174),i=li(i,t,r,s,e[0],11,-358537222),s=li(s,i,t,r,e[3],16,-722521979),r=li(r,s,i,t,e[6],23,76029189),t=li(t,r,s,i,e[9],4,-640364487),i=li(i,t,r,s,e[12],11,-421815835),s=li(s,i,t,r,e[15],16,530742520),t=ci(t,r=li(r,s,i,t,e[2],23,-995338651),s,i,e[0],6,-198630844),i=ci(i,t,r,s,e[7],10,1126891415),s=ci(s,i,t,r,e[14],15,-1416354905),r=ci(r,s,i,t,e[5],21,-57434055),t=ci(t,r,s,i,e[12],6,1700485571),i=ci(i,t,r,s,e[3],10,-1894986606),s=ci(s,i,t,r,e[10],15,-1051523),r=ci(r,s,i,t,e[1],21,-2054922799),t=ci(t,r,s,i,e[8],6,1873313359),i=ci(i,t,r,s,e[15],10,-30611744),s=ci(s,i,t,r,e[6],15,-1560198380),r=ci(r,s,i,t,e[13],21,1309151649),t=ci(t,r,s,i,e[4],6,-145523070),i=ci(i,t,r,s,e[11],10,-1120210379),s=ci(s,i,t,r,e[2],15,718787259),r=ci(r,s,i,t,e[9],21,-343485551),n[0]=Xc(t,n[0]),n[1]=Xc(r,n[1]),n[2]=Xc(s,n[2]),n[3]=Xc(i,n[3])}function Vg(n,e,t,r,s,i){return e=Xc(Xc(e,n),Xc(r,i)),Xc(e<<s|e>>>32-s,t)}function oi(n,e,t,r,s,i,a){return Vg(e&t|~e&r,n,e,s,i,a)}function ai(n,e,t,r,s,i,a){return Vg(e&r|t&~r,n,e,s,i,a)}function li(n,e,t,r,s,i,a){return Vg(e^t^r,n,e,s,i,a)}function ci(n,e,t,r,s,i,a){return Vg(t^(e|~r),n,e,s,i,a)}function yT(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)m0(r,NV(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(m0(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,m0(r,s),r}function NV(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}vf=qt.atob.bind(qt),Iy=qt.btoa.bind(qt);var Kb="0123456789abcdef".split("");function PV(n){for(var e="",t=0;t<4;t++)e+=Kb[n>>8*t+4&15]+Kb[n>>8*t&15];return e}function CV(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function ky(n){return yT(n).map(CV).join("")}var IV=function(n){for(var e=0;e<n.length;e++)n[e]=PV(n[e]);return n.join("")}(yT("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xc(n,e){if(IV){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ry(n,e){var t,r,s,i;if(n!==t){for(var a=(s=n,i=1+(256/n.length>>0),new Array(i+1).join(s)),c=[],u=0;u<256;u++)c[u]=u;var d=0;for(u=0;u<256;u++){var p=c[u];d=(d+p+a.charCodeAt(u))%256,c[u]=c[d],c[d]=p}t=n,r=c}else c=r;var g=e.length,w=0,y=0,T="";for(u=0;u<g;u++)y=(y+(p=c[w=(w+1)%256]))%256,c[w]=c[y],c[y]=p,a=c[(c[w]+c[y])%256],T+=String.fromCharCode(e.charCodeAt(u)^a);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Yb={print:4,modify:8,copy:16,"annot-forms":32};function Vh(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(c){if(Yb.perm!==void 0)throw new Error("Invalid permission: "+c);s+=Yb[c]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=ky(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ry(this.encryptionKey,this.padding)}function Bh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=n[r]}return e}function Xb(n){if(Kn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[r,!!s],i},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[t]){var a=e[t][i];try{a[0].apply(n,r)}catch(c){qt.console&&Jn.error("jsPDF PubSub Error",c.message,c)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Xm(n){if(!(this instanceof Xm))return new Xm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function vT(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Hu(n,e,t,r,s){if(!(this instanceof Hu))return new Hu(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,vT.call(this,r,s)}function Wh(n,e,t,r,s){if(!(this instanceof Wh))return new Wh(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,vT.call(this,r,s)}function Bt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],a=[],c=1,u=16,d="S",p=null;Kn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,i=n.compress||n.compressPdf||i,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),d=n.defaultPathOperation||"S"),a=n.filters||(i===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var g=n.putOnlyUsedFonts||!1,w={},y={internal:{},__private__:{}};y.__private__.PubSub=Xb;var T="1.3",E=y.__private__.getPdfVersion=function(){return T};y.__private__.setPdfVersion=function(_){T=_};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return P};var I=y.__private__.getPageFormat=function(_){return P[_]};s=s||"a4";var L={COMPAT:"compat",ADVANCED:"advanced"},F=L.COMPAT;function H(){this.saveGraphicsState(),ue(new dt(ot,0,0,-ot,0,ws()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),d="n",F=L.ADVANCED}function te(){this.restoreGraphicsState(),d="S",F=L.COMPAT}var le=y.__private__.combineFontStyleAndFontWeight=function(_,$){if(_=="bold"&&$=="normal"||_=="bold"&&$==400||_=="normal"&&$=="italic"||_=="bold"&&$=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $&&(_=$==400||$==="normal"?_==="italic"?"italic":"normal":$!=700&&$!=="bold"||_!=="normal"?($==700?"bold":$)+""+_:"bold"),_};y.advancedAPI=function(_){var $=F===L.COMPAT;return $&&H.call(this),typeof _!="function"||(_(this),$&&te.call(this)),this},y.compatAPI=function(_){var $=F===L.ADVANCED;return $&&te.call(this),typeof _!="function"||(_(this),$&&H.call(this)),this},y.isAdvancedAPI=function(){return F===L.ADVANCED};var U,k=function(_){if(F!==L.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=y.roundToPrecision=y.__private__.roundToPrecision=function(_,$){var ae=e||$;if(isNaN(_)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(ae).replace(/0+$/,"")};U=y.hpf=y.__private__.hpf=typeof u=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return B(_,u)}:u==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return B(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return B(_,16)};var W=y.f2=y.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return B(_,2)},j=y.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return B(_,3)},D=y.scale=y.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return F===L.COMPAT?_*ot:F===L.ADVANCED?_:void 0},V=function(_){return F===L.COMPAT?ws()-_:F===L.ADVANCED?_:void 0},ee=function(_){return D(V(_))};y.__private__.setPrecision=y.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var Ee,de="00000000000000000000000000000000",Ae=y.__private__.getFileId=function(){return de},re=y.__private__.setFileId=function(_){return de=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(wn=new Vh(p.userPermissions,p.userPassword,p.ownerPassword,de)),de};y.setFileId=function(_){return re(_),this},y.getFileId=function(){return Ae()};var ye=y.__private__.convertDateToPDFDate=function(_){var $=_.getTimezoneOffset(),ae=$<0?"+":"-",ve=Math.floor(Math.abs($/60)),Ce=Math.abs($%60),Be=[ae,ie(ve),"'",ie(Ce),"'"].join("");return["D:",_.getFullYear(),ie(_.getMonth()+1),ie(_.getDate()),ie(_.getHours()),ie(_.getMinutes()),ie(_.getSeconds()),Be].join("")},fe=y.__private__.convertPDFDateToDate=function(_){var $=parseInt(_.substr(2,4),10),ae=parseInt(_.substr(6,2),10)-1,ve=parseInt(_.substr(8,2),10),Ce=parseInt(_.substr(10,2),10),Be=parseInt(_.substr(12,2),10),Ye=parseInt(_.substr(14,2),10);return new Date($,ae,ve,Ce,Be,Ye,0)},oe=y.__private__.setCreationDate=function(_){var $;if(_===void 0&&(_=new Date),_ instanceof Date)$=ye(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$=_}return Ee=$},M=y.__private__.getCreationDate=function(_){var $=Ee;return _==="jsDate"&&($=fe(Ee)),$};y.setCreationDate=function(_){return oe(_),this},y.getCreationDate=function(_){return M(_)};var X,ie=y.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},he=y.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},me=0,ne=[],ce=[],ge=0,xe=[],je=[],ze=!1,He=ce,ht=function(){me=0,ge=0,ce=[],ne=[],xe=[],Wt=Tt(),gn=Tt()};y.__private__.setCustomOutputDestination=function(_){ze=!0,He=_};var Oe=function(_){ze||(He=_)};y.__private__.resetCustomOutputDestination=function(){ze=!1,He=ce};var ue=y.__private__.out=function(_){return _=_.toString(),ge+=_.length+1,He.push(_),He},xt=y.__private__.write=function(_){return ue(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},ut=y.__private__.getArrayBuffer=function(_){for(var $=_.length,ae=new ArrayBuffer($),ve=new Uint8Array(ae);$--;)ve[$]=_.charCodeAt($);return ae},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Ke};var et=n.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(_){return et=F===L.ADVANCED?_/ot:_,this};var rt,st=y.__private__.getFontSize=y.getFontSize=function(){return F===L.COMPAT?et:et*ot},vt=n.R2L||!1;y.__private__.setR2L=y.setR2L=function(_){return vt=_,this},y.__private__.getR2L=y.getR2L=function(){return vt};var jt,Ut=y.__private__.setZoomMode=function(_){var $=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))rt=_;else if(isNaN(_)){if($.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');rt=_}else rt=parseInt(_,10)};y.__private__.getZoomMode=function(){return rt};var Et,Rt=y.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');jt=_};y.__private__.getPageMode=function(){return jt};var rn=y.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Et=_};y.__private__.getLayoutMode=function(){return Et},y.__private__.setDisplayMode=y.setDisplayMode=function(_,$,ae){return Ut(_),rn($),Rt(ae),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(_){if(Object.keys(It).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[_]},y.__private__.getDocumentProperties=function(){return It},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(_){for(var $ in It)It.hasOwnProperty($)&&_[$]&&(It[$]=_[$]);return this},y.__private__.setDocumentProperty=function(_,$){if(Object.keys(It).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[_]=$};var $t,ot,er,sn,Tr,dn={},Nn={},ms=[],on={},Gs={},Ln={},tr={},Nr=null,jn=0,Pt=[],cn=new Xb(y),ns=n.hotfixes||[],ir={},Pr={},Kr=[],dt=function _($,ae,ve,Ce,Be,Ye){if(!(this instanceof _))return new _($,ae,ve,Ce,Be,Ye);isNaN($)&&($=1),isNaN(ae)&&(ae=0),isNaN(ve)&&(ve=0),isNaN(Ce)&&(Ce=1),isNaN(Be)&&(Be=0),isNaN(Ye)&&(Ye=0),this._matrix=[$,ae,ve,Ce,Be,Ye]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(_)},dt.prototype.multiply=function(_){var $=_.sx*this.sx+_.shy*this.shx,ae=_.sx*this.shy+_.shy*this.sy,ve=_.shx*this.sx+_.sy*this.shx,Ce=_.shx*this.shy+_.sy*this.sy,Be=_.tx*this.sx+_.ty*this.shx+this.tx,Ye=_.tx*this.shy+_.ty*this.sy+this.ty;return new dt($,ae,ve,Ce,Be,Ye)},dt.prototype.decompose=function(){var _=this.sx,$=this.shy,ae=this.shx,ve=this.sy,Ce=this.tx,Be=this.ty,Ye=Math.sqrt(_*_+$*$),at=(_/=Ye)*ae+($/=Ye)*ve;ae-=_*at,ve-=$*at;var m=Math.sqrt(ae*ae+ve*ve);return at/=m,_*(ve/=m)<$*(ae/=m)&&(_=-_,$=-$,at=-at,Ye=-Ye),{scale:new dt(Ye,0,0,m,0,0),translate:new dt(1,0,0,1,Ce,Be),rotate:new dt(_,$,-$,_,0,0),skew:new dt(1,0,at,1,0,0)}},dt.prototype.toString=function(_){return this.join(" ")},dt.prototype.inversed=function(){var _=this.sx,$=this.shy,ae=this.shx,ve=this.sy,Ce=this.tx,Be=this.ty,Ye=1/(_*ve-$*ae),at=ve*Ye,m=-$*Ye,N=-ae*Ye,O=_*Ye;return new dt(at,m,N,O,-at*Ce-N*Be,-m*Ce-O*Be)},dt.prototype.applyToPoint=function(_){var $=_.x*this.sx+_.y*this.shx+this.tx,ae=_.x*this.shy+_.y*this.sy+this.ty;return new _i($,ae)},dt.prototype.applyToRectangle=function(_){var $=this.applyToPoint(_),ae=this.applyToPoint(new _i(_.x+_.w,_.y+_.h));return new so($.x,$.y,ae.x-$.x,ae.y-$.y)},dt.prototype.clone=function(){var _=this.sx,$=this.shy,ae=this.shx,ve=this.sy,Ce=this.tx,Be=this.ty;return new dt(_,$,ae,ve,Ce,Be)},y.Matrix=dt;var Yr=y.matrixMult=function(_,$){return $.multiply(_)},Ve=new dt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Ve;var it=function(_,$){if(!Gs[_]){var ae=($ instanceof Hu?"Sh":"P")+(Object.keys(on).length+1).toString(10);$.id=ae,Gs[_]=ae,on[ae]=$,cn.publish("addPattern",$)}};y.ShadingPattern=Hu,y.TilingPattern=Wh,y.addShadingPattern=function(_,$){return k("addShadingPattern()"),it(_,$),this},y.beginTilingPattern=function(_){k("beginTilingPattern()"),Ra(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},y.endTilingPattern=function(_,$){k("endTilingPattern()"),$.stream=je[X].join(`
`),it(_,$),cn.publish("endTilingPattern",$),Kr.pop().restore()};var pt=y.__private__.newObject=function(){var _=Tt();return Yt(_,!0),_},Tt=y.__private__.newObjectDeferred=function(){return me++,ne[me]=function(){return ge},me},Yt=function(_,$){return $=typeof $=="boolean"&&$,ne[_]=ge,$&&ue(_+" 0 obj"),_},Ot=y.__private__.newAdditionalObject=function(){var _={objId:Tt(),content:""};return xe.push(_),_},Wt=Tt(),gn=Tt(),nr=y.__private__.decodeColorString=function(_){var $=_.split(" ");if($.length!==2||$[1]!=="g"&&$[1]!=="G")$.length===5&&($[4]==="k"||$[4]==="K")&&($=[(1-$[0])*(1-$[3]),(1-$[1])*(1-$[3]),(1-$[2])*(1-$[3]),"r"]);else{var ae=parseFloat($[0]);$=[ae,ae,ae,"r"]}for(var ve="#",Ce=0;Ce<3;Ce++)ve+=("0"+Math.floor(255*parseFloat($[Ce])).toString(16)).slice(-2);return ve},Bn=y.__private__.encodeColorString=function(_){var $;typeof _=="string"&&(_={ch1:_});var ae=_.ch1,ve=_.ch2,Ce=_.ch3,Be=_.ch4,Ye=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var at=new gT(ae);if(at.ok)ae=at.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var m=parseInt(ae.substr(1),16);ae=m>>16&255,ve=m>>8&255,Ce=255&m}if(ve===void 0||Be===void 0&&ae===ve&&ve===Ce)if(typeof ae=="string")$=ae+" "+Ye[0];else switch(_.precision){case 2:$=W(ae/255)+" "+Ye[0];break;case 3:default:$=j(ae/255)+" "+Ye[0]}else if(Be===void 0||Kn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return $=["1.","1.","1.",Ye[1]].join(" ");if(typeof ae=="string")$=[ae,ve,Ce,Ye[1]].join(" ");else switch(_.precision){case 2:$=[W(ae/255),W(ve/255),W(Ce/255),Ye[1]].join(" ");break;default:case 3:$=[j(ae/255),j(ve/255),j(Ce/255),Ye[1]].join(" ")}}else if(typeof ae=="string")$=[ae,ve,Ce,Be,Ye[2]].join(" ");else switch(_.precision){case 2:$=[W(ae),W(ve),W(Ce),W(Be),Ye[2]].join(" ");break;case 3:default:$=[j(ae),j(ve),j(Ce),j(Be),Ye[2]].join(" ")}return $},Yn=y.__private__.getFilters=function(){return a},an=y.__private__.putStream=function(_){var $=(_=_||{}).data||"",ae=_.filters||Yn(),ve=_.alreadyAppliedFilters||[],Ce=_.addLength1||!1,Be=$.length,Ye=_.objectId,at=function(Xt){return Xt};if(p!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(at=wn.encryptor(Ye,0));var m={};ae===!0&&(ae=["FlateEncode"]);var N=_.additionalKeyValues||[],O=(m=Bt.API.processDataByFilters!==void 0?Bt.API.processDataByFilters($,ae):{data:$,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(m.data.length!==0&&(N.push({key:"Length",value:m.data.length}),Ce===!0&&N.push({key:"Length1",value:Be})),O.length!=0)if(O.split("/").length-1==1)N.push({key:"Filter",value:O});else{N.push({key:"Filter",value:"["+O+"]"});for(var J=0;J<N.length;J+=1)if(N[J].key==="DecodeParms"){for(var Ne=[],Le=0;Le<m.reverseChain.split("/").length-1;Le+=1)Ne.push("null");Ne.push(N[J].value),N[J].value="["+Ne.join(" ")+"]"}}ue("<<");for(var Xe=0;Xe<N.length;Xe++)ue("/"+N[Xe].key+" "+N[Xe].value);ue(">>"),m.data.length!==0&&(ue("stream"),ue(at(m.data)),ue("endstream"))},St=y.__private__.putPage=function(_){var $=_.number,ae=_.data,ve=_.objId,Ce=_.contentsObjId;Yt(ve,!0),ue("<</Type /Page"),ue("/Parent "+_.rootDictionaryObjId+" 0 R"),ue("/Resources "+_.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(U(_.mediaBox.bottomLeftX))+" "+parseFloat(U(_.mediaBox.bottomLeftY))+" "+U(_.mediaBox.topRightX)+" "+U(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&ue("/CropBox ["+U(_.cropBox.bottomLeftX)+" "+U(_.cropBox.bottomLeftY)+" "+U(_.cropBox.topRightX)+" "+U(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&ue("/BleedBox ["+U(_.bleedBox.bottomLeftX)+" "+U(_.bleedBox.bottomLeftY)+" "+U(_.bleedBox.topRightX)+" "+U(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&ue("/TrimBox ["+U(_.trimBox.bottomLeftX)+" "+U(_.trimBox.bottomLeftY)+" "+U(_.trimBox.topRightX)+" "+U(_.trimBox.topRightY)+"]"),_.artBox!==null&&ue("/ArtBox ["+U(_.artBox.bottomLeftX)+" "+U(_.artBox.bottomLeftY)+" "+U(_.artBox.topRightX)+" "+U(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&ue("/UserUnit "+_.userUnit),cn.publish("putPage",{objId:ve,pageContext:Pt[$],pageNumber:$,page:ae}),ue("/Contents "+Ce+" 0 R"),ue(">>"),ue("endobj");var Be=ae.join(`
`);return F===L.ADVANCED&&(Be+=`
Q`),Yt(Ce,!0),an({data:Be,filters:Yn(),objectId:Ce}),ue("endobj"),ve},gs=y.__private__.putPages=function(){var _,$,ae=[];for(_=1;_<=jn;_++)Pt[_].objId=Tt(),Pt[_].contentsObjId=Tt();for(_=1;_<=jn;_++)ae.push(St({number:_,data:je[_],objId:Pt[_].objId,contentsObjId:Pt[_].contentsObjId,mediaBox:Pt[_].mediaBox,cropBox:Pt[_].cropBox,bleedBox:Pt[_].bleedBox,trimBox:Pt[_].trimBox,artBox:Pt[_].artBox,userUnit:Pt[_].userUnit,rootDictionaryObjId:Wt,resourceDictionaryObjId:gn}));Yt(Wt,!0),ue("<</Type /Pages");var ve="/Kids [";for($=0;$<jn;$++)ve+=ae[$]+" 0 R ";ue(ve+"]"),ue("/Count "+jn),ue(">>"),ue("endobj"),cn.publish("postPutPages")},$n=function(_){cn.publish("putFont",{font:_,out:ue,newObject:pt,putStream:an}),_.isAlreadyPutted!==!0&&(_.objectNumber=pt(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Bh(_.postScriptName)),ue("/Subtype /Type1"),typeof _.encoding=="string"&&ue("/Encoding /"+_.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},or=function(){for(var _ in dn)dn.hasOwnProperty(_)&&(g===!1||g===!0&&w.hasOwnProperty(_))&&$n(dn[_])},Xr=function(_){_.objectNumber=pt();var $=[];$.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Form"}),$.push({key:"BBox",value:"["+[U(_.x),U(_.y),U(_.x+_.width),U(_.y+_.height)].join(" ")+"]"}),$.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var ae=_.pages[1].join(`
`);an({data:ae,additionalKeyValues:$,objectId:_.objectNumber}),ue("endobj")},Ks=function(){for(var _ in ir)ir.hasOwnProperty(_)&&Xr(ir[_])},Zi=function(_,$){var ae,ve=[],Ce=1/($-1);for(ae=0;ae<1;ae+=Ce)ve.push(ae);if(ve.push(1),_[0].offset!=0){var Be={offset:0,color:_[0].color};_.unshift(Be)}if(_[_.length-1].offset!=1){var Ye={offset:1,color:_[_.length-1].color};_.push(Ye)}for(var at="",m=0,N=0;N<ve.length;N++){for(ae=ve[N];ae>_[m+1].offset;)m++;var O=_[m].offset,J=(ae-O)/(_[m+1].offset-O),Ne=_[m].color,Le=_[m+1].color;at+=he(Math.round((1-J)*Ne[0]+J*Le[0]).toString(16))+he(Math.round((1-J)*Ne[1]+J*Le[1]).toString(16))+he(Math.round((1-J)*Ne[2]+J*Le[2]).toString(16))}return at.trim()},Ct=function(_,$){$||($=21);var ae=pt(),ve=Zi(_.colors,$),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+$+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),an({data:ve,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),ue("endobj"),_.objectNumber=pt(),ue("<< /ShadingType "+_.type),ue("/ColorSpace /DeviceRGB");var Be="/Coords ["+U(parseFloat(_.coords[0]))+" "+U(parseFloat(_.coords[1]))+" ";_.type===2?Be+=U(parseFloat(_.coords[2]))+" "+U(parseFloat(_.coords[3])):Be+=U(parseFloat(_.coords[2]))+" "+U(parseFloat(_.coords[3]))+" "+U(parseFloat(_.coords[4]))+" "+U(parseFloat(_.coords[5])),ue(Be+="]"),_.matrix&&ue("/Matrix ["+_.matrix.toString()+"]"),ue("/Function "+ae+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Hn=function(_,$){var ae=Tt(),ve=pt();$.push({resourcesOid:ae,objectOid:ve}),_.objectNumber=ve;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+_.boundingBox.map(U).join(" ")+"]"}),Ce.push({key:"XStep",value:U(_.xStep)}),Ce.push({key:"YStep",value:U(_.yStep)}),Ce.push({key:"Resources",value:ae+" 0 R"}),_.matrix&&Ce.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),an({data:_.stream,additionalKeyValues:Ce,objectId:_.objectNumber}),ue("endobj")},pr=function(_){var $;for($ in on)on.hasOwnProperty($)&&(on[$]instanceof Hu?Ct(on[$]):on[$]instanceof Wh&&Hn(on[$],_))},ar=function(_){for(var $ in _.objectNumber=pt(),ue("<<"),_)switch($){case"opacity":ue("/ca "+W(_[$]));break;case"stroke-opacity":ue("/CA "+W(_[$]))}ue(">>"),ue("endobj")},rs=function(){var _;for(_ in Ln)Ln.hasOwnProperty(_)&&ar(Ln[_])},Ri=function(){for(var _ in ue("/XObject <<"),ir)ir.hasOwnProperty(_)&&ir[_].objectNumber>=0&&ue("/"+_+" "+ir[_].objectNumber+" 0 R");cn.publish("putXobjectDict"),ue(">>")},nc=function(){wn.oid=pt(),ue("<<"),ue("/Filter /Standard"),ue("/V "+wn.v),ue("/R "+wn.r),ue("/U <"+wn.toHexString(wn.U)+">"),ue("/O <"+wn.toHexString(wn.O)+">"),ue("/P "+wn.P),ue(">>"),ue("endobj")},vo=function(){for(var _ in ue("/Font <<"),dn)dn.hasOwnProperty(_)&&(g===!1||g===!0&&w.hasOwnProperty(_))&&ue("/"+_+" "+dn[_].objectNumber+" 0 R");ue(">>")},Rs=function(){if(Object.keys(on).length>0){for(var _ in ue("/Shading <<"),on)on.hasOwnProperty(_)&&on[_]instanceof Hu&&on[_].objectNumber>=0&&ue("/"+_+" "+on[_].objectNumber+" 0 R");cn.publish("putShadingPatternDict"),ue(">>")}},$o=function(_){if(Object.keys(on).length>0){for(var $ in ue("/Pattern <<"),on)on.hasOwnProperty($)&&on[$]instanceof y.TilingPattern&&on[$].objectNumber>=0&&on[$].objectNumber<_&&ue("/"+$+" "+on[$].objectNumber+" 0 R");cn.publish("putTilingPatternDict"),ue(">>")}},ss=function(){if(Object.keys(Ln).length>0){var _;for(_ in ue("/ExtGState <<"),Ln)Ln.hasOwnProperty(_)&&Ln[_].objectNumber>=0&&ue("/"+_+" "+Ln[_].objectNumber+" 0 R");cn.publish("putGStateDict"),ue(">>")}},Xn=function(_){Yt(_.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),vo(),Rs(),$o(_.objectOid),ss(),Ri(),ue(">>"),ue("endobj")},hl=function(){var _=[];or(),rs(),Ks(),pr(_),cn.publish("putResources"),_.forEach(Xn),Xn({resourcesOid:gn,objectOid:Number.MAX_SAFE_INTEGER}),cn.publish("postPutResources")},dl=function(){cn.publish("putAdditionalObjects");for(var _=0;_<xe.length;_++){var $=xe[_];Yt($.objId,!0),ue($.content),ue("endobj")}cn.publish("postPutAdditionalObjects")},Ho=function(_){Nn[_.fontName]=Nn[_.fontName]||{},Nn[_.fontName][_.fontStyle]=_.id},wo=function(_,$,ae,ve,Ce){var Be={id:"F"+(Object.keys(dn).length+1).toString(10),postScriptName:_,fontName:$,fontStyle:ae,encoding:ve,isStandardFont:Ce||!1,metadata:{}};return cn.publish("addFont",{font:Be,instance:this}),dn[Be.id]=Be,Ho(Be),Be.id},xo=function(_){for(var $=0,ae=Ke.length;$<ae;$++){var ve=wo.call(this,_[$][0],_[$][1],_[$][2],Ke[$][3],!0);g===!1&&(w[ve]=!0);var Ce=_[$][0].split("-");Ho({id:ve,fontName:Ce[0],fontStyle:Ce[1]||""})}cn.publish("addFonts",{fonts:dn,dictionary:Nn})},is=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(ve){var $=ve.stack||"";~$.indexOf(" at ")&&($=$.split(" at ")[1]);var ae="Error in function "+$.split(`
`)[0].split("<")[0]+": "+ve.message;if(!qt.console)throw new Error(ae);qt.console.error(ae,ve),qt.alert&&alert(ae)}},_.foo.bar=_,_.foo},Na=function(_,$){var ae,ve,Ce,Be,Ye,at,m,N,O;if(Ce=($=$||{}).sourceEncoding||"Unicode",Ye=$.outputEncoding,($.autoencode||Ye)&&dn[$t].metadata&&dn[$t].metadata[Ce]&&dn[$t].metadata[Ce].encoding&&(Be=dn[$t].metadata[Ce].encoding,!Ye&&dn[$t].encoding&&(Ye=dn[$t].encoding),!Ye&&Be.codePages&&(Ye=Be.codePages[0]),typeof Ye=="string"&&(Ye=Be[Ye]),Ye)){for(m=!1,at=[],ae=0,ve=_.length;ae<ve;ae++)(N=Ye[_.charCodeAt(ae)])?at.push(String.fromCharCode(N)):at.push(_[ae]),at[ae].charCodeAt(0)>>8&&(m=!0);_=at.join("")}for(ae=_.length;m===void 0&&ae!==0;)_.charCodeAt(ae-1)>>8&&(m=!0),ae--;if(!m)return _;for(at=$.noBOM?[]:[254,255],ae=0,ve=_.length;ae<ve;ae++){if((O=(N=_.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(O),at.push(N-(O<<8))}return String.fromCharCode.apply(void 0,at)},mr=y.__private__.pdfEscape=y.pdfEscape=function(_,$){return Na(_,$).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},os=y.__private__.beginPage=function(_){je[++jn]=[],Pt[jn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},eo(jn),Oe(je[X])},bo=function(_,$){var ae,ve,Ce;switch(t=$||t,typeof _=="string"&&(ae=I(_.toLowerCase()),Array.isArray(ae)&&(ve=ae[0],Ce=ae[1])),Array.isArray(_)&&(ve=_[0]*ot,Ce=_[1]*ot),isNaN(ve)&&(ve=s[0],Ce=s[1]),(ve>14400||Ce>14400)&&(Jn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ce=Math.min(14400,Ce)),s=[ve,Ce],t.substr(0,1)){case"l":Ce>ve&&(s=[Ce,ve]);break;case"p":ve>Ce&&(s=[Ce,ve])}os(s),To(pl),ue(Cr),gl!==0&&ue(gl+" J"),No!==0&&ue(No+" j"),cn.publish("addPage",{pageNumber:jn})},_o=function(_){_>0&&_<=jn&&(je.splice(_,1),Pt.splice(_,1),jn--,X>jn&&(X=jn),this.setPage(X))},eo=function(_){_>0&&_<=jn&&(X=_)},Dn=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return je.length-1},to=function(_,$,ae){var ve,Ce=void 0;return ae=ae||{},_=_!==void 0?_:dn[$t].fontName,$=$!==void 0?$:dn[$t].fontStyle,ve=_.toLowerCase(),Nn[ve]!==void 0&&Nn[ve][$]!==void 0?Ce=Nn[ve][$]:Nn[_]!==void 0&&Nn[_][$]!==void 0?Ce=Nn[_][$]:ae.disableWarning===!1&&Jn.warn("Unable to look up font label for font '"+_+"', '"+$+"'. Refer to getFontList() for available fonts."),Ce||ae.noFallback||(Ce=Nn.times[$])==null&&(Ce=Nn.times.normal),Ce},ln=y.__private__.putInfo=function(){var _=pt(),$=function(ve){return ve};for(var ae in p!==null&&($=wn.encryptor(_,0)),ue("<<"),ue("/Producer ("+mr($("jsPDF "+Bt.version))+")"),It)It.hasOwnProperty(ae)&&It[ae]&&ue("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+mr($(It[ae]))+")");ue("/CreationDate ("+mr($(Ee))+")"),ue(">>"),ue("endobj")},Li=y.__private__.putCatalog=function(_){var $=(_=_||{}).rootDictionaryObjId||Wt;switch(pt(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+$+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+rt;ae.substr(ae.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+W(rt)+"]")}switch(Et||(Et="continuous"),Et){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}jt&&ue("/PageMode /"+jt),cn.publish("putCatalog"),ue(">>"),ue("endobj")},rc=y.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(me+1)),ue("/Root "+me+" 0 R"),ue("/Info "+(me-1)+" 0 R"),p!==null&&ue("/Encrypt "+wn.oid+" 0 R"),ue("/ID [ <"+de+"> <"+de+"> ]"),ue(">>")},Pa=y.__private__.putHeader=function(){ue("%PDF-"+T),ue("%ºß¬à")},sc=y.__private__.putXRef=function(){var _="0000000000";ue("xref"),ue("0 "+(me+1)),ue("0000000000 65535 f ");for(var $=1;$<=me;$++)typeof ne[$]=="function"?ue((_+ne[$]()).slice(-10)+" 00000 n "):ne[$]!==void 0?ue((_+ne[$]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},ji=y.__private__.buildDocument=function(){ht(),Oe(ce),cn.publish("buildDocument"),Pa(),gs(),dl(),hl(),p!==null&&nc(),ln(),Li();var _=ge;return sc(),rc(),ue("startxref"),ue(""+_),ue("%%EOF"),Oe(je[X]),ce.join(`
`)},Wo=y.__private__.getBlob=function(_){return new Blob([ut(_)],{type:"application/pdf"})},So=y.output=y.__private__.output=is(function(_,$){switch(typeof($=$||{})=="string"?$={filename:$}:$.filename=$.filename||"generated.pdf",_){case void 0:return ji();case"save":y.save($.filename);break;case"arraybuffer":return ut(ji());case"blob":return Wo(ji());case"bloburi":case"bloburl":if(qt.URL!==void 0&&typeof qt.URL.createObjectURL=="function")return qt.URL&&qt.URL.createObjectURL(Wo(ji()))||void 0;Jn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",ve=ji();try{ae=Iy(ve)}catch{ae=Iy(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+$.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$.pdfObjectUrl&&(Ce=$.pdfObjectUrl,Be="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($)+");<\/script></body></html>",at=qt.open();return at!==null&&at.document.write(Ye),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$.filename+'" width="500px" height="400px" /></body></html>',N=qt.open();if(N!==null){N.document.write(m);var O=this;N.document.documentElement.querySelector("#pdfViewer").onload=function(){N.document.title=$.filename,N.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(O.output("bloburl"))}}return N}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var J='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$)+'"></iframe></body></html>',Ne=qt.open();if(Ne!==null&&(Ne.document.write(J),Ne.document.title=$.filename),Ne||typeof safari>"u")return Ne;break;case"datauri":case"dataurl":return qt.document.location.href=this.output("datauristring",$);default:return null}}),vi=function(_){return Array.isArray(ns)===!0&&ns.indexOf(_)>-1};switch(r){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=vi("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ot=r}var wn=null;oe(),re();var wi=function(_){return p!==null?wn.encryptor(_,0):function($){return $}},Ys=y.__private__.getPageInfo=y.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pt[_].objId,pageNumber:_,pageContext:Pt[_]}},Dt=y.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $ in Pt)if(Pt[$].objId===_)break;return Ys($)},Xs=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Pt[X].objId,pageNumber:X,pageContext:Pt[X]}};y.addPage=function(){return bo.apply(this,arguments),this},y.setPage=function(){return eo.apply(this,arguments),Oe.call(this,je[X]),this},y.insertPage=function(_){return this.addPage(),this.movePage(X,_),this},y.movePage=function(_,$){var ae,ve;if(_>$){ae=je[_],ve=Pt[_];for(var Ce=_;Ce>$;Ce--)je[Ce]=je[Ce-1],Pt[Ce]=Pt[Ce-1];je[$]=ae,Pt[$]=ve,this.setPage($)}else if(_<$){ae=je[_],ve=Pt[_];for(var Be=_;Be<$;Be++)je[Be]=je[Be+1],Pt[Be]=Pt[Be+1];je[$]=ae,Pt[$]=ve,this.setPage($)}return this},y.deletePage=function(){return _o.apply(this,arguments),this},y.__private__.text=y.text=function(_,$,ae,ve,Ce){var Be,Ye,at,m,N,O,J,Ne,Le,Xe=(ve=ve||{}).scope||this;if(typeof _=="number"&&typeof $=="number"&&(typeof ae=="string"||Array.isArray(ae))){var Xt=ae;ae=$,$=_,_=Xt}if(arguments[3]instanceof dt?(k("The transform parameter of text() with a Matrix value"),Le=Ce):(at=arguments[4],m=arguments[5],Kn(J=arguments[3])==="object"&&J!==null||(typeof at=="string"&&(m=at,at=null),typeof J=="string"&&(m=J,J=null),typeof J=="number"&&(at=J,J=null),ve={flags:J,angle:at,align:m})),isNaN($)||isNaN(ae)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Xe;var un="",Qt=!1,Cn=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Pn,On=Xe.internal.scaleFactor;function Ds(Wn){return Wn=Wn.split("	").join(Array(ve.TabLen||9).join(" ")),mr(Wn,J)}function cs(Wn){for(var Mn,vr=Wn.concat(),Ir=[],ko=vr.length;ko--;)typeof(Mn=vr.shift())=="string"?Ir.push(Mn):Array.isArray(Wn)&&(Mn.length===1||Mn[1]===void 0&&Mn[2]===void 0)?Ir.push(Mn[0]):Ir.push([Mn[0],Mn[1],Mn[2]]);return Ir}function oo(Wn,Mn){var vr;if(typeof Wn=="string")vr=Mn(Wn)[0];else if(Array.isArray(Wn)){for(var Ir,ko,gc=Wn.concat(),Sl=[],_u=gc.length;_u--;)typeof(Ir=gc.shift())=="string"?Sl.push(Mn(Ir)[0]):Array.isArray(Ir)&&typeof Ir[0]=="string"&&(ko=Mn(Ir[0],Ir[1],Ir[2]),Sl.push([ko[0],ko[1],ko[2]]));vr=Sl}return vr}var ao=!1,ac=!0;if(typeof _=="string")ao=!0;else if(Array.isArray(_)){var lc=_.concat();Ye=[];for(var yl,yr=lc.length;yr--;)(typeof(yl=lc.shift())!="string"||Array.isArray(yl)&&typeof yl[0]!="string")&&(ac=!1);ao=ac}if(ao===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var cc=et/Xe.internal.scaleFactor,uc=cc*(Cn-1);switch(ve.baseline){case"bottom":ae-=uc;break;case"top":ae+=cc-uc;break;case"hanging":ae+=cc-2*uc;break;case"middle":ae+=cc/2-uc}if((O=ve.maxWidth||0)>0&&(typeof _=="string"?_=Xe.splitTextToSize(_,O):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Wn,Mn){return Wn.concat(Xe.splitTextToSize(Mn,O))},[]))),Be={text:_,x:$,y:ae,options:ve,mutex:{pdfEscape:mr,activeFontKey:$t,fonts:dn,activeFontSize:et}},cn.publish("preProcessText",Be),_=Be.text,at=(ve=Be.options).angle,!(Le instanceof dt)&&at&&typeof at=="number"){at*=Math.PI/180,ve.rotationDirection===0&&(at=-at),F===L.ADVANCED&&(at=-at);var hc=Math.cos(at),dc=Math.sin(at);Le=new dt(hc,dc,-dc,hc,0,0)}else at&&at instanceof dt&&(Le=at);F!==L.ADVANCED||Le||(Le=Ve),(N=ve.charSpace||ro)!==void 0&&(un+=U(D(N))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ne=ve.horizontalScale)!==void 0&&(un+=U(100*Ne)+` Tz
`),ve.lang;var Os=-1,vl=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Xo=Xe.internal.getCurrentPageInfo().pageContext;switch(vl){case 0:case!1:case"fill":Os=0;break;case 1:case!0:case"stroke":Os=1;break;case 2:case"fillThenStroke":Os=2;break;case 3:case"invisible":Os=3;break;case 4:case"fillAndAddForClipping":Os=4;break;case 5:case"strokeAndAddPathForClipping":Os=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Os=6;break;case 7:case"addToPathForClipping":Os=7}var dh=Xo.usedRenderingMode!==void 0?Xo.usedRenderingMode:-1;Os!==-1?un+=Os+` Tr
`:dh!==-1&&(un+=`0 Tr
`),Os!==-1&&(Xo.usedRenderingMode=Os),m=ve.align||"left";var Ms,fc=et*Cn,xu=Xe.internal.pageSize.getWidth(),pc=dn[$t];N=ve.charSpace||ro,O=ve.maxWidth||0,J=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Co=[],Da=function(Wn){return Xe.getStringUnitWidth(Wn,{font:pc,charSpace:N,fontSize:et,doKerning:!1})*et/On};if(Object.prototype.toString.call(_)==="[object Array]"){var Fs;Ye=cs(_),m!=="left"&&(Ms=Ye.map(Da));var xs,Oa=0;if(m==="right"){$-=Ms[0],_=[],yr=Ye.length;for(var Qo=0;Qo<yr;Qo++)Qo===0?(xs=js($),Fs=gr(ae)):(xs=D(Oa-Ms[Qo]),Fs=-fc),_.push([Ye[Qo],xs,Fs]),Oa=Ms[Qo]}else if(m==="center"){$-=Ms[0]/2,_=[],yr=Ye.length;for(var Jo=0;Jo<yr;Jo++)Jo===0?(xs=js($),Fs=gr(ae)):(xs=D((Oa-Ms[Jo])/2),Fs=-fc),_.push([Ye[Jo],xs,Fs]),Oa=Ms[Jo]}else if(m==="left"){_=[],yr=Ye.length;for(var mc=0;mc<yr;mc++)_.push(Ye[mc])}else if(m==="justify"&&pc.encoding==="Identity-H"){_=[],yr=Ye.length,O=O!==0?O:xu;for(var Zo=0,An=0;An<yr;An++)if(Fs=An===0?gr(ae):-fc,xs=An===0?js($):Zo,An<yr-1){var ea=D((O-Ms[An])/(Ye[An].split(" ").length-1)),bs=Ye[An].split(" ");_.push([bs[0]+" ",xs,Fs]),Zo=0;for(var Si=1;Si<bs.length;Si++){var wl=(Da(bs[Si-1]+" "+bs[Si])-Da(bs[Si]))*On+ea;Si==bs.length-1?_.push([bs[Si],wl,0]):_.push([bs[Si]+" ",wl,0]),Zo-=wl}}else _.push([Ye[An],xs,Fs]);_.push(["",Zo,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],yr=Ye.length,O=O!==0?O:xu,An=0;An<yr;An++)Fs=An===0?gr(ae):-fc,xs=An===0?js($):0,An<yr-1?Co.push(U(D((O-Ms[An])/(Ye[An].split(" ").length-1)))):Co.push(0),_.push([Ye[An],xs,Fs])}}var bu=typeof ve.R2L=="boolean"?ve.R2L:vt;bu===!0&&(_=oo(_,function(Wn,Mn,vr){return[Wn.split("").reverse().join(""),Mn,vr]})),Be={text:_,x:$,y:ae,options:ve,mutex:{pdfEscape:mr,activeFontKey:$t,fonts:dn,activeFontSize:et}},cn.publish("postProcessText",Be),_=Be.text,Qt=Be.mutex.isHex||!1;var xl=dn[$t].encoding;xl!=="WinAnsiEncoding"&&xl!=="StandardEncoding"||(_=oo(_,function(Wn,Mn,vr){return[Ds(Wn),Mn,vr]})),Ye=cs(_),_=[];for(var bl,_l,Ai,ta=0,Io=1,na=Array.isArray(Ye[0])?Io:ta,ra="",Ma=function(Wn,Mn,vr){var Ir="";return vr instanceof dt?(vr=typeof ve.angle=="number"?Yr(vr,new dt(1,0,0,1,Wn,Mn)):Yr(new dt(1,0,0,1,Wn,Mn),vr),F===L.ADVANCED&&(vr=Yr(new dt(1,0,0,-1,0,0),vr)),Ir=vr.join(" ")+` Tm
`):Ir=U(Wn)+" "+U(Mn)+` Td
`,Ir},us=0;us<Ye.length;us++){switch(ra="",na){case Io:Ai=(Qt?"<":"(")+Ye[us][0]+(Qt?">":")"),bl=parseFloat(Ye[us][1]),_l=parseFloat(Ye[us][2]);break;case ta:Ai=(Qt?"<":"(")+Ye[us]+(Qt?">":")"),bl=js($),_l=gr(ae)}Co!==void 0&&Co[us]!==void 0&&(ra=Co[us]+` Tw
`),us===0?_.push(ra+Ma(bl,_l,Le)+Ai):na===ta?_.push(ra+Ai):na===Io&&_.push(ra+Ma(bl,_l,Le)+Ai)}_=na===ta?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Qs=`BT
/`;return Qs+=$t+" "+et+` Tf
`,Qs+=U(et*Cn)+` TL
`,Qs+=lr+`
`,Qs+=un,Qs+=_,ue(Qs+="ET"),w[$t]=!0,Xe};var Di=y.__private__.clip=y.clip=function(_){return ue(_==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Di("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ue("n"),this};var Oi=y.__private__.isValidStyle=function(_){var $=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&($=!0),$};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(_){return Oi(_)&&(d=_),this};var fl=y.__private__.getStyle=y.getStyle=function(_){var $=d;switch(_){case"D":case"S":$="S";break;case"F":$="f";break;case"FD":case"DF":$="B";break;case"f":case"f*":case"B":case"B*":$=_}return $},as=y.close=function(){return ue("h"),this};y.stroke=function(){return ue("S"),this},y.fill=function(_){return Ca("f",_),this},y.fillEvenOdd=function(_){return Ca("f*",_),this},y.fillStroke=function(_){return Ca("B",_),this},y.fillStrokeEvenOdd=function(_){return Ca("B*",_),this};var Ca=function(_,$){Kn($)==="object"?Go($,_):ue(_)},Ia=function(_){_===null||F===L.ADVANCED&&_===void 0||(_=fl(_),ue(_))};function no(_,$,ae,ve,Ce){var Be=new Wh($||this.boundingBox,ae||this.xStep,ve||this.yStep,this.gState,Ce||this.matrix);Be.stream=this.stream;var Ye=_+"$$"+this.cloneIndex+++"$$";return it(Ye,Be),Be}var Go=function(_,$){var ae=Gs[_.key],ve=on[ae];if(ve instanceof Hu)ue("q"),ue(ic($)),ve.gState&&y.setGState(ve.gState),ue(_.matrix.toString()+" cm"),ue("/"+ae+" sh"),ue("Q");else if(ve instanceof Wh){var Ce=new dt(1,0,0,-1,0,ws());_.matrix&&(Ce=Ce.multiply(_.matrix||Ve),ae=no.call(ve,_.key,_.boundingBox,_.xStep,_.yStep,Ce).id),ue("q"),ue("/Pattern cs"),ue("/"+ae+" scn"),ve.gState&&y.setGState(ve.gState),ue($),ue("Q")}},ic=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ls=y.moveTo=function(_,$){return ue(U(D(_))+" "+U(ee($))+" m"),this},ls=y.lineTo=function(_,$){return ue(U(D(_))+" "+U(ee($))+" l"),this},ys=y.curveTo=function(_,$,ae,ve,Ce,Be){return ue([U(D(_)),U(ee($)),U(D(ae)),U(ee(ve)),U(D(Ce)),U(ee(Be)),"c"].join(" ")),this};y.__private__.line=y.line=function(_,$,ae,ve,Ce){if(isNaN(_)||isNaN($)||isNaN(ae)||isNaN(ve)||!Oi(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return F===L.COMPAT?this.lines([[ae-_,ve-$]],_,$,[1,1],Ce||"S"):this.lines([[ae-_,ve-$]],_,$,[1,1]).stroke()},y.__private__.lines=y.lines=function(_,$,ae,ve,Ce,Be){var Ye,at,m,N,O,J,Ne,Le,Xe,Xt,un,Qt;if(typeof _=="number"&&(Qt=ae,ae=$,$=_,_=Qt),ve=ve||[1,1],Be=Be||!1,isNaN($)||isNaN(ae)||!Array.isArray(_)||!Array.isArray(ve)||!Oi(Ce)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ls($,ae),Ye=ve[0],at=ve[1],N=_.length,Xt=$,un=ae,m=0;m<N;m++)(O=_[m]).length===2?(Xt=O[0]*Ye+Xt,un=O[1]*at+un,ls(Xt,un)):(J=O[0]*Ye+Xt,Ne=O[1]*at+un,Le=O[2]*Ye+Xt,Xe=O[3]*at+un,Xt=O[4]*Ye+Xt,un=O[5]*at+un,ys(J,Ne,Le,Xe,Xt,un));return Be&&as(),Ia(Ce),this},y.path=function(_){for(var $=0;$<_.length;$++){var ae=_[$],ve=ae.c;switch(ae.op){case"m":Ls(ve[0],ve[1]);break;case"l":ls(ve[0],ve[1]);break;case"c":ys.apply(this,ve);break;case"h":as()}}return this},y.__private__.rect=y.rect=function(_,$,ae,ve,Ce){if(isNaN(_)||isNaN($)||isNaN(ae)||isNaN(ve)||!Oi(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return F===L.COMPAT&&(ve=-ve),ue([U(D(_)),U(ee($)),U(D(ae)),U(D(ve)),"re"].join(" ")),Ia(Ce),this},y.__private__.triangle=y.triangle=function(_,$,ae,ve,Ce,Be,Ye){if(isNaN(_)||isNaN($)||isNaN(ae)||isNaN(ve)||isNaN(Ce)||isNaN(Be)||!Oi(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-_,ve-$],[Ce-ae,Be-ve],[_-Ce,$-Be]],_,$,[1,1],Ye,!0),this},y.__private__.roundedRect=y.roundedRect=function(_,$,ae,ve,Ce,Be,Ye){if(isNaN(_)||isNaN($)||isNaN(ae)||isNaN(ve)||isNaN(Ce)||isNaN(Be)||!Oi(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*ae),Be=Math.min(Be,.5*ve),this.lines([[ae-2*Ce,0],[Ce*at,0,Ce,Be-Be*at,Ce,Be],[0,ve-2*Be],[0,Be*at,-Ce*at,Be,-Ce,Be],[2*Ce-ae,0],[-Ce*at,0,-Ce,-Be*at,-Ce,-Be],[0,2*Be-ve],[0,-Be*at,Ce*at,-Be,Ce,-Be]],_+Ce,$,[1,1],Ye,!0),this},y.__private__.ellipse=y.ellipse=function(_,$,ae,ve,Ce){if(isNaN(_)||isNaN($)||isNaN(ae)||isNaN(ve)||!Oi(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*ae,Ye=4/3*(Math.SQRT2-1)*ve;return Ls(_+ae,$),ys(_+ae,$-Ye,_+Be,$-ve,_,$-ve),ys(_-Be,$-ve,_-ae,$-Ye,_-ae,$),ys(_-ae,$+Ye,_-Be,$+ve,_,$+ve),ys(_+Be,$+ve,_+ae,$+Ye,_+ae,$),Ia(Ce),this},y.__private__.circle=y.circle=function(_,$,ae,ve){if(isNaN(_)||isNaN($)||isNaN(ae)||!Oi(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,$,ae,ae,ve)},y.setFont=function(_,$,ae){return ae&&($=le($,ae)),$t=to(_,$,{disableWarning:!1}),this};var Ao=y.__private__.getFont=y.getFont=function(){return dn[to.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var _,$,ae={};for(_ in Nn)if(Nn.hasOwnProperty(_))for($ in ae[_]=[],Nn[_])Nn[_].hasOwnProperty($)&&ae[_].push($);return ae},y.addFont=function(_,$,ae,ve,Ce){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(ae=le(ae,ve)),Ce=Ce||"Identity-H",wo.call(this,_,$,ae,Ce)};var Pn,pl=n.lineWidth||.200025,Eo=y.__private__.getLineWidth=y.getLineWidth=function(){return pl},To=y.__private__.setLineWidth=y.setLineWidth=function(_){return pl=_,ue(U(D(_))+" w"),this};y.__private__.setLineDash=Bt.API.setLineDash=Bt.API.setLineDashPattern=function(_,$){if(_=_||[],$=$||0,isNaN($)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(ae){return U(D(ae))}).join(" "),$=U(D($)),ue("["+_+"] "+$+" d"),this};var Ko=y.__private__.getLineHeight=y.getLineHeight=function(){return et*Pn};y.__private__.getLineHeight=y.getLineHeight=function(){return et*Pn};var ka=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(Pn=_),this},vs=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Pn};ka(n.lineHeight);var js=y.__private__.getHorizontalCoordinate=function(_){return D(_)},gr=y.__private__.getVerticalCoordinate=function(_){return F===L.ADVANCED?_:Pt[X].mediaBox.topRightY-Pt[X].mediaBox.bottomLeftY-D(_)},ml=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(_){return U(js(_))},xi=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(_){return U(gr(_))},Cr=n.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return nr(Cr)},y.__private__.setStrokeColor=y.setDrawColor=function(_,$,ae,ve){return Cr=Bn({ch1:_,ch2:$,ch3:ae,ch4:ve,pdfColorType:"draw",precision:2}),ue(Cr),this};var Yo=n.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return nr(Yo)},y.__private__.setFillColor=y.setFillColor=function(_,$,ae,ve){return Yo=Bn({ch1:_,ch2:$,ch3:ae,ch4:ve,pdfColorType:"fill",precision:2}),ue(Yo),this};var lr=n.textColor||"0 g",bi=y.__private__.getTextColor=y.getTextColor=function(){return nr(lr)};y.__private__.setTextColor=y.setTextColor=function(_,$,ae,ve){return lr=Bn({ch1:_,ch2:$,ch3:ae,ch4:ve,pdfColorType:"text",precision:3}),this};var ro=n.charSpace,Mi=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(ro||0)};y.__private__.setCharSpace=y.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ro=_,this};var gl=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(_){var $=y.CapJoinStyles[_];if($===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gl=$,ue($+" J"),this};var No=0;y.__private__.setLineJoin=y.setLineJoin=function(_){var $=y.CapJoinStyles[_];if($===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return No=$,ue($+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(U(D(_))+" M"),this},y.GState=Xm,y.setGState=function(_){(_=typeof _=="string"?Ln[tr[_]]:Fi(null,_)).equals(Nr)||(ue("/"+_.id+" gs"),Nr=_)};var Fi=function(_,$){if(!_||!tr[_]){var ae=!1;for(var ve in Ln)if(Ln.hasOwnProperty(ve)&&Ln[ve].equals($)){ae=!0;break}if(ae)$=Ln[ve];else{var Ce="GS"+(Object.keys(Ln).length+1).toString(10);Ln[Ce]=$,$.id=Ce}return _&&(tr[_]=$.id),cn.publish("addGState",$),$}};y.addGState=function(_,$){return Fi(_,$),this},y.saveGraphicsState=function(){return ue("q"),ms.push({key:$t,size:et,color:lr}),this},y.restoreGraphicsState=function(){ue("Q");var _=ms.pop();return $t=_.key,et=_.size,lr=_.color,Nr=null,this},y.setCurrentTransformationMatrix=function(_){return ue(_.toString()+" cm"),this},y.comment=function(_){return ue("#"+_),this};var _i=function(_,$){var ae=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(Be){isNaN(Be)||(ae=parseFloat(Be))}});var ve=$||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Be){isNaN(Be)||(ve=parseFloat(Be))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(Be){Ce=Be.toString()}}),this},so=function(_,$,ae,ve){_i.call(this,_,$),this.type="rect";var Ce=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(Ye){isNaN(Ye)||(Ce=parseFloat(Ye))}});var Be=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Ye){isNaN(Ye)||(Be=parseFloat(Ye))}}),this},Po=function(){this.page=jn,this.currentPage=X,this.pages=je.slice(0),this.pagesContext=Pt.slice(0),this.x=er,this.y=sn,this.matrix=Tr,this.width=Vi(X),this.height=ws(X),this.outputDestination=He,this.id="",this.objectNumber=-1};Po.prototype.restore=function(){jn=this.page,X=this.currentPage,Pt=this.pagesContext,je=this.pages,er=this.x,sn=this.y,Tr=this.matrix,La(X,this.width),ja(X,this.height),He=this.outputDestination};var Ra=function(_,$,ae,ve,Ce){Kr.push(new Po),jn=X=0,je=[],er=_,sn=$,Tr=Ce,os([ae,ve])},oc=function(_){if(Pr[_])Kr.pop().restore();else{var $=new Po,ae="Xo"+(Object.keys(ir).length+1).toString(10);$.id=ae,Pr[_]=ae,ir[ae]=$,cn.publish("addFormObject",$),Kr.pop().restore()}};for(var io in y.beginFormObject=function(_,$,ae,ve,Ce){return Ra(_,$,ae,ve,Ce),this},y.endFormObject=function(_){return oc(_),this},y.doFormObject=function(_,$){var ae=ir[Pr[_]];return ue("q"),ue($.toString()+" cm"),ue("/"+ae.id+" Do"),ue("Q"),this},y.getFormObject=function(_){var $=ir[Pr[_]];return{x:$.x,y:$.y,width:$.width,height:$.height,matrix:$.matrix}},y.save=function(_,$){return _=_||"generated.pdf",($=$||{}).returnPromise=$.returnPromise||!1,$.returnPromise===!1?($u(Wo(ji()),_),typeof $u.unload=="function"&&qt.setTimeout&&setTimeout($u.unload,911),this):new Promise(function(ae,ve){try{var Ce=$u(Wo(ji()),_);typeof $u.unload=="function"&&qt.setTimeout&&setTimeout($u.unload,911),ae(Ce)}catch(Be){ve(Be.message)}})},Bt.API)Bt.API.hasOwnProperty(io)&&(io==="events"&&Bt.API.events.length?function(_,$){var ae,ve,Ce;for(Ce=$.length-1;Ce!==-1;Ce--)ae=$[Ce][0],ve=$[Ce][1],_.subscribe.apply(_,[ae].concat(typeof ve=="function"?[ve]:ve))}(cn,Bt.API.events):y[io]=Bt.API[io]);var Vi=y.getPageWidth=function(_){return(Pt[_=_||X].mediaBox.topRightX-Pt[_].mediaBox.bottomLeftX)/ot},La=y.setPageWidth=function(_,$){Pt[_].mediaBox.topRightX=$*ot+Pt[_].mediaBox.bottomLeftX},ws=y.getPageHeight=function(_){return(Pt[_=_||X].mediaBox.topRightY-Pt[_].mediaBox.bottomLeftY)/ot},ja=y.setPageHeight=function(_,$){Pt[_].mediaBox.topRightY=$*ot+Pt[_].mediaBox.bottomLeftY};return y.internal={pdfEscape:mr,getStyle:fl,getFont:Ao,getFontSize:st,getCharSpace:Mi,getTextColor:bi,getLineHeight:Ko,getLineHeightFactor:vs,getLineWidth:Eo,write:xt,getHorizontalCoordinate:js,getVerticalCoordinate:gr,getCoordinateString:ml,getVerticalCoordinateString:xi,collections:{},newObject:pt,newAdditionalObject:Ot,newObjectDeferred:Tt,newObjectDeferredBegin:Yt,getFilters:Yn,putStream:an,events:cn,scaleFactor:ot,pageSize:{getWidth:function(){return Vi(X)},setWidth:function(_){La(X,_)},getHeight:function(){return ws(X)},setHeight:function(_){ja(X,_)}},encryptionOptions:p,encryption:wn,getEncryptor:wi,output:So,getNumberOfPages:Dn,pages:je,out:ue,f2:W,f3:j,getPageInfo:Ys,getPageInfoByObjId:Dt,getCurrentPageInfo:Xs,getPDFVersion:E,Point:_i,Rectangle:so,Matrix:dt,hasHotfix:vi},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Vi(X)},set:function(_){La(X,_)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return ws(X)},set:function(_){ja(X,_)},enumerable:!0,configurable:!0}),xo.call(y,Ke),$t="F1",bo(s,t),cn.publish("initialized"),y}Vh.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Vh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Vh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Vh.prototype.processOwnerPassword=function(n,e){return Ry(ky(e).substr(0,5),n)},Vh.prototype.encryptor=function(n,e){var t=ky(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Ry(t,r)}},Xm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Kn(n)!==Kn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Bt.API={events:[]},Bt.version="3.0.1";var jr=Bt.API,A2=1,hh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(n){return n.toFixed(2)},Vc=function(n){return n.toFixed(5)};jr.__acroform__={};var Ji=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Qb=function(n){return n*A2},Ha=function(n){var e=new xT,t=_t.internal.getHeight(n)||0,r=_t.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Zt(r)),Number(Zt(t))],e},kV=jr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},RV=jr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},LV=jr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},qr=jr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return LV(n,e-1)},$r=jr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return kV(n,e-1)},Hr=jr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return RV(n,e-1)},jV=jr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],i=n[1],a=n[2],c=n[3],u={};return u.lowerLeft_X=t(s)||0,u.lowerLeft_Y=r(i+c)||0,u.upperRight_X=t(s+a)||0,u.upperRight_Y=r(i)||0,[Number(Zt(u.lowerLeft_X)),Number(Zt(u.lowerLeft_Y)),Number(Zt(u.upperRight_X)),Number(Zt(u.upperRight_Y))]},DV=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Ly(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+Zt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Ha(n);return i.scope=n.scope,i.stream=e.join(`
`),i}},Ly=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(j){return j.split(`
`)}):s.map(function(j){return[j]});var i=t,a=_t.internal.getHeight(n)||0;a=a<0?-a:a;var c=_t.internal.getWidth(n)||0;c=c<0?-c:c;var u=function(j,D,V){if(j+1<s.length){var ee=D+" "+s[j+1][0];return Gp(ee,n,V).width<=c-4}return!1};i++;e:for(;i>0;){e="",i--;var d,p,g=Gp("3",n,i).height,w=n.multiline?a-i:(a-g)/2,y=w+=2,T=0,E=0,P=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Gp(e,n,i=12).width+", FieldWidth:"+c+`
`;break}for(var I="",L=0,F=0;F<s.length;F++)if(s.hasOwnProperty(F)){var H=!1;if(s[F].length!==1&&P!==s[F].length-1){if((g+2)*(L+2)+2>a)continue e;I+=s[F][P],H=!0,E=F,F--}else{I=(I+=s[F][P]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var te=parseInt(F),le=u(te,I,i),U=F>=s.length-1;if(le&&!U){I+=" ",P=0;continue}if(le||U){if(U)E=te;else if(n.multiline&&(g+2)*(L+2)+2>a)continue e}else{if(!n.multiline||(g+2)*(L+2)+2>a)continue e;E=te}}for(var k="",B=T;B<=E;B++){var W=s[B];if(n.multiline){if(B===E){k+=W[P]+" ",P=(P+1)%W.length;continue}if(B===T){k+=W[W.length-1]+" ";continue}}k+=W[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,p=Gp(k,n,i).width,n.textAlign){case"right":d=c-p-2;break;case"center":d=(c-p)/2;break;case"left":default:d=2}e+=Zt(d)+" "+Zt(y)+` Td
`,e+="("+hh(k)+`) Tj
`,e+=-Zt(d)+` 0 Td
`,y=-(i+2),p=0,T=H?E:E+1,L++,I=""}break}return r.text=e,r.fontSize=i,r},Gp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},OV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},MV=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},FV=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,s=n[t];e.internal.newObjectDeferredBegin(s.objId,!0),Kn(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete n[r]}},VV=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ea.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(OV)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");A2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new bT,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&MV(i,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var i=!r;for(var a in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var c=r[a],u=[],d=c.Rect;if(c.Rect&&(c.Rect=jV(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=_t.createDefaultAppearanceStream(c),Kn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=DV(c);u.push({key:"AP",value:"<</N "+p+">>"}),s.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var g="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var y=c.appearanceStreamContent[w];if(g+="/"+w+" ",g+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var a in y)if(y.hasOwnProperty(a)){var T=y[a];typeof T=="function"&&(T=T.call(s,c)),g+="/"+a+" "+T+" ",s.internal.acroformPlugin.xForms.indexOf(T)>=0||s.internal.acroformPlugin.xForms.push(T)}}else typeof(T=y)=="function"&&(T=T.call(s,c)),g+="/"+a+" "+T,s.internal.acroformPlugin.xForms.indexOf(T)>=0||s.internal.acroformPlugin.xForms.push(T);g+=">>"}u.push({key:"AP",value:`<<
`+g+">>"})}s.internal.putStream({additionalKeyValues:u,objectId:c.objId}),s.internal.out("endobj")}i&&FV(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},wT=jr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(a){return a};if(Array.isArray(n)){for(var s="[",i=0;i<n.length;i++)switch(i!==0&&(s+=" "),Kn(n[i])){case"boolean":case"number":case"object":s+=n[i].toString();break;case"string":n[i].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+hh(r(n[i].toString()))+")"):s+=n[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},g0=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+hh(r(n))+")"},Xa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xa.prototype.toString=function(){return this.objId+" 0 R"},Xa.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Xa.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:wT(s,this.objId,this.scope)}):s instanceof Xa?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var xT=function(){Xa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ji(xT,Xa);var bT=function(){Xa.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+hh(t(n))+")"}},set:function(t){n=t}})};Ji(bT,Xa);var Ea=function n(){Xa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');e=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qr(e,3)},set:function(I){I?this.F=$r(e,3):this.F=Hr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');t=I}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(I){r=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(I){r[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(I){r[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(I){r[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(I){r[3]=I}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Qm)return;i="FieldObject"+n.FieldNum++}var I=function(L){return L};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+hh(I(i))+")"},set:function(I){i=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(I){i=I}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(I){a=I}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(I){c=I}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(I){u=I}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/A2:d},set:function(I){d=I}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(I){p=I}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Qm||this instanceof th))return g0(g,this.objId,this.scope)},set:function(I){I=I.toString(),g=I}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Is?w:g0(w,this.objId,this.scope)},set:function(I){I=I.toString(),w=this instanceof Is?I:I.substr(0,1)==="("?Lh(I.substr(1,I.length-2)):Lh(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Is?Lh(w.substr(1,w.length-1)):w},set:function(I){I=I.toString(),w=this instanceof Is?"/"+I:I}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Is?y:g0(y,this.objId,this.scope)},set:function(I){I=I.toString(),y=this instanceof Is?I:I.substr(0,1)==="("?Lh(I.substr(1,I.length-2)):Lh(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Is?Lh(y.substr(1,y.length-1)):y},set:function(I){I=I.toString(),y=this instanceof Is?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(I){I=!!I,E=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(I){T=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,1)},set:function(I){I?this.Ff=$r(this.Ff,1):this.Ff=Hr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,2)},set:function(I){I?this.Ff=$r(this.Ff,2):this.Ff=Hr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,3)},set:function(I){I?this.Ff=$r(this.Ff,3):this.Ff=Hr(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');P=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(P){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:P=2;break;case"center":case 1:P=1;break;case"left":case 0:default:P=0}}})};Ji(Ea,Xa);var td=function(){Ea.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wT(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=function(i,a,c){c||(c=1);for(var u,d=[];u=a.exec(i);)d.push(u[c]);return d}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,18)},set:function(t){t?this.Ff=$r(this.Ff,18):this.Ff=Hr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=$r(this.Ff,19):this.Ff=Hr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,20)},set:function(t){t?(this.Ff=$r(this.Ff,20),e.sort()):this.Ff=Hr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,22)},set:function(t){t?this.Ff=$r(this.Ff,22):this.Ff=Hr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,23)},set:function(t){t?this.Ff=$r(this.Ff,23):this.Ff=Hr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,27)},set:function(t){t?this.Ff=$r(this.Ff,27):this.Ff=Hr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ji(td,Ea);var nd=function(){td.call(this),this.fontName="helvetica",this.combo=!1};Ji(nd,td);var rd=function(){nd.call(this),this.combo=!0};Ji(rd,nd);var cm=function(){rd.call(this),this.edit=!0};Ji(cm,rd);var Is=function(){Ea.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,15)},set:function(t){t?this.Ff=$r(this.Ff,15):this.Ff=Hr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,16)},set:function(t){t?this.Ff=$r(this.Ff,16):this.Ff=Hr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,17)},set:function(t){t?this.Ff=$r(this.Ff,17):this.Ff=Hr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,26)},set:function(t){t?this.Ff=$r(this.Ff,26):this.Ff=Hr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+hh(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){Kn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ji(Is,Ea);var um=function(){Is.call(this),this.pushButton=!0};Ji(um,Is);var sd=function(){Is.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ji(sd,Is);var Qm=function(){var n,e;Ea.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),r)a.push("/"+i+" ("+hh(s(r[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Kn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ji(Qm,Ea),sd.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},sd.prototype.createOption=function(n){var e=new Qm;return e.Parent=this,e.optionName=n,this.Kids.push(e),BV.call(this.scope,e),e};var hm=function(){Is.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_t.CheckBox.createAppearanceStream()};Ji(hm,Is);var th=function(){Ea.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,13)},set:function(e){e?this.Ff=$r(this.Ff,13):this.Ff=Hr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,21)},set:function(e){e?this.Ff=$r(this.Ff,21):this.Ff=Hr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,23)},set:function(e){e?this.Ff=$r(this.Ff,23):this.Ff=Hr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,24)},set:function(e){e?this.Ff=$r(this.Ff,24):this.Ff=Hr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,25)},set:function(e){e?this.Ff=$r(this.Ff,25):this.Ff=Hr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,26)},set:function(e){e?this.Ff=$r(this.Ff,26):this.Ff=Hr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ji(th,Ea);var dm=function(){th.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,14)},set:function(n){n?this.Ff=$r(this.Ff,14):this.Ff=Hr(this.Ff,14)}}),this.password=!0};Ji(dm,th);var _t={CheckBox:{createAppearanceStream:function(){return{N:{On:_t.CheckBox.YesNormal},D:{On:_t.CheckBox.YesPushDown,Off:_t.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ha(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),i=Ly(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Zt(_t.internal.getWidth(n))+" "+Zt(_t.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Zt(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ha(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],i=_t.internal.getHeight(n),a=_t.internal.getWidth(n),c=Ly(n,n.caption);return s.push("1 g"),s.push("0 0 "+Zt(a)+" "+Zt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Zt(a-1)+" "+Zt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Zt(c.fontSize)+" Tf "+r),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Ha(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Zt(_t.internal.getWidth(n))+" "+Zt(_t.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:_t.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=_t.RadioButton.Circle.YesNormal,e.D[n]=_t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ha(n);e.scope=n.scope;var t=[],r=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=_t.internal.Bezier_C,i=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Vc(_t.internal.getWidth(n)/2)+" "+Vc(_t.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),t.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),t.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),t.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ha(n);e.scope=n.scope;var t=[],r=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*_t.internal.Bezier_C).toFixed(5)),a=Number((r*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Vc(_t.internal.getWidth(n)/2)+" "+Vc(_t.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Vc(_t.internal.getWidth(n)/2)+" "+Vc(_t.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ha(n);e.scope=n.scope;var t=[],r=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Vc(_t.internal.getWidth(n)/2)+" "+Vc(_t.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:_t.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=_t.RadioButton.Cross.YesNormal,e.D[n]=_t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ha(n);e.scope=n.scope;var t=[],r=_t.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Zt(_t.internal.getWidth(n)-2)+" "+Zt(_t.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Zt(r.x1.x)+" "+Zt(r.x1.y)+" m"),t.push(Zt(r.x2.x)+" "+Zt(r.x2.y)+" l"),t.push(Zt(r.x4.x)+" "+Zt(r.x4.y)+" m"),t.push(Zt(r.x3.x)+" "+Zt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ha(n);e.scope=n.scope;var t=_t.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Zt(_t.internal.getWidth(n))+" "+Zt(_t.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Zt(_t.internal.getWidth(n)-2)+" "+Zt(_t.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Zt(t.x1.x)+" "+Zt(t.x1.y)+" m"),r.push(Zt(t.x2.x)+" "+Zt(t.x2.y)+" l"),r.push(Zt(t.x4.x)+" "+Zt(t.x4.y)+" m"),r.push(Zt(t.x3.x)+" "+Zt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ha(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Zt(_t.internal.getWidth(n))+" "+Zt(_t.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};_t.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=_t.internal.getWidth(n),t=_t.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},_t.internal.getWidth=function(n){var e=0;return Kn(n)==="object"&&(e=Qb(n.Rect[2])),e},_t.internal.getHeight=function(n){var e=0;return Kn(n)==="object"&&(e=Qb(n.Rect[3])),e};var BV=jr.addField=function(n){if(VV(this,n),!(n instanceof Ea))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};jr.AcroFormChoiceField=td,jr.AcroFormListBox=nd,jr.AcroFormComboBox=rd,jr.AcroFormEditBox=cm,jr.AcroFormButton=Is,jr.AcroFormPushButton=um,jr.AcroFormRadioButton=sd,jr.AcroFormCheckBox=hm,jr.AcroFormTextField=th,jr.AcroFormPasswordField=dm,jr.AcroFormAppearance=_t,jr.AcroForm={ChoiceField:td,ListBox:nd,ComboBox:rd,EditBox:cm,Button:Is,PushButton:um,RadioButton:sd,CheckBox:hm,TextField:th,PasswordField:dm,Appearance:_t},Bt.AcroForm={ChoiceField:td,ListBox:nd,ComboBox:rd,EditBox:cm,Button:Is,PushButton:um,RadioButton:sd,CheckBox:hm,TextField:th,PasswordField:dm,Appearance:_t};Bt.AcroForm;function _T(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(j,D){var V,ee,Ee,de,Ae,re=e;if((D=D||e)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(le(j))for(Ae in t)for(Ee=t[Ae],V=0;V<Ee.length;V+=1){for(de=!0,ee=0;ee<Ee[V].length;ee+=1)if(Ee[V][ee]!==void 0&&Ee[V][ee]!==j[ee]){de=!1;break}if(de===!0){re=Ae;break}}else for(Ae in t)for(Ee=t[Ae],V=0;V<Ee.length;V+=1){for(de=!0,ee=0;ee<Ee[V].length;ee+=1)if(Ee[V][ee]!==void 0&&Ee[V][ee]!==j.charCodeAt(ee)){de=!1;break}if(de===!0){re=Ae;break}}return re===e&&D!==e&&(re=D),re},s=function j(D){for(var V=this.internal.write,ee=this.internal.putStream,Ee=(0,this.internal.getFilters)();Ee.indexOf("FlateEncode")!==-1;)Ee.splice(Ee.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:D.width}),de.push({key:"Height",value:D.height}),D.colorSpace===P.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===P.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var Ae="",re=0,ye=D.transparency.length;re<ye;re++)Ae+=D.transparency[re]+" "+D.transparency[re]+" ";de.push({key:"Mask",value:"["+Ae+"]"})}D.sMask!==void 0&&de.push({key:"SMask",value:D.objectId+1+" 0 R"});var fe=D.filter!==void 0?["/"+D.filter]:void 0;if(ee({data:D.data,additionalKeyValues:de,alreadyAppliedFilters:fe,objectId:D.objectId}),V("endobj"),"sMask"in D&&D.sMask!==void 0){var oe="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,M={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:oe,data:D.sMask};"filter"in D&&(M.filter=D.filter),j.call(this,M)}if(D.colorSpace===P.INDEXED){var X=this.internal.newObject();ee({data:k(new Uint8Array(D.palette)),objectId:X}),V("endobj")}},i=function(){var j=this.internal.collections.addImage_images;for(var D in j)s.call(this,j[D])},a=function(){var j,D=this.internal.collections.addImage_images,V=this.internal.write;for(var ee in D)V("/I"+(j=D[ee]).index,j.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var j=this.internal.collections.addImage_images;return c.call(this),j},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(j){return typeof n["process"+j.toUpperCase()]=="function"},g=function(j){return Kn(j)==="object"&&j.nodeType===1},w=function(j,D){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var V=""+j.getAttribute("src");if(V.indexOf("data:image/")===0)return vf(unescape(V).split("base64,").pop());var ee=n.loadFile(V,!0);if(ee!==void 0)return ee}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var Ee;switch(D){case"PNG":Ee="image/png";break;case"WEBP":Ee="image/webp";break;case"JPEG":case"JPG":default:Ee="image/jpeg"}return vf(j.toDataURL(Ee,1).split("base64,").pop())}},y=function(j){var D=this.internal.collections.addImage_images;if(D){for(var V in D)if(j===D[V].alias)return D[V]}},T=function(j,D,V){return j||D||(j=-96,D=-96),j<0&&(j=-1*V.width*72/j/this.internal.scaleFactor),D<0&&(D=-1*V.height*72/D/this.internal.scaleFactor),j===0&&(j=D*V.width/V.height),D===0&&(D=j*V.height/V.width),[j,D]},E=function(j,D,V,ee,Ee,de){var Ae=T.call(this,V,ee,Ee),re=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,fe=u.call(this);if(V=Ae[0],ee=Ae[1],fe[Ee.index]=Ee,de){de*=Math.PI/180;var oe=Math.cos(de),M=Math.sin(de),X=function(he){return he.toFixed(4)},ie=[X(oe),X(M),X(-1*M),X(oe),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,re(j),ye(D+ee),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([re(V),"0","0",re(ee),"0","0","cm"].join(" "))):this.internal.write([re(V),"0","0",re(ee),re(j),ye(D+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ee.index+" Do"),this.internal.write("Q")},P=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=n.__addimage__.sHashCode=function(j){var D,V,ee=0;if(typeof j=="string")for(V=j.length,D=0;D<V;D++)ee=(ee<<5)-ee+j.charCodeAt(D),ee|=0;else if(le(j))for(V=j.byteLength/2,D=0;D<V;D++)ee=(ee<<5)-ee+j[D],ee|=0;return ee},F=n.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var D=!0;return j.length===0&&(D=!1),j.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(D=!1),D},H=n.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var D=j.indexOf(",");return D<0?null:j.substring(0,D).trim().endsWith("base64")?j.substring(D+1):null},te=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(j){return te()&&j instanceof ArrayBuffer};var le=n.__addimage__.isArrayBufferView=function(j){return te()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},U=n.__addimage__.binaryStringToUint8Array=function(j){for(var D=j.length,V=new Uint8Array(D),ee=0;ee<D;ee++)V[ee]=j.charCodeAt(ee);return V},k=n.__addimage__.arrayBufferToBinaryString=function(j){for(var D="",V=le(j)?j:new Uint8Array(j),ee=0;ee<V.length;ee+=8192)D+=String.fromCharCode.apply(null,V.subarray(ee,ee+8192));return D};n.addImage=function(){var j,D,V,ee,Ee,de,Ae,re,ye;if(typeof arguments[1]=="number"?(D=e,V=arguments[1],ee=arguments[2],Ee=arguments[3],de=arguments[4],Ae=arguments[5],re=arguments[6],ye=arguments[7]):(D=arguments[1],V=arguments[2],ee=arguments[3],Ee=arguments[4],de=arguments[5],Ae=arguments[6],re=arguments[7],ye=arguments[8]),Kn(j=arguments[0])==="object"&&!g(j)&&"imageData"in j){var fe=j;j=fe.imageData,D=fe.format||D||e,V=fe.x||V||0,ee=fe.y||ee||0,Ee=fe.w||fe.width||Ee,de=fe.h||fe.height||de,Ae=fe.alias||Ae,re=fe.compression||re,ye=fe.rotation||fe.angle||ye}var oe=this.internal.getFilters();if(re===void 0&&oe.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(V)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var M=B.call(this,j,D,Ae,re);return E.call(this,V,ee,Ee,de,M,ye),this};var B=function(j,D,V,ee){var Ee,de,Ae;if(typeof j=="string"&&r(j)===e){j=unescape(j);var re=W(j,!1);(re!==""||(re=n.loadFile(j,!0))!==void 0)&&(j=re)}if(g(j)&&(j=w(j,D)),D=r(j,D),!p(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((Ae=V)==null||Ae.length===0)&&(V=function(ye){return typeof ye=="string"||le(ye)?L(ye):le(ye.data)?L(ye.data):null}(j)),(Ee=y.call(this,V))||(te()&&(j instanceof Uint8Array||D==="RGBA"||(de=j,j=U(j))),Ee=this["process"+D.toUpperCase()](j,d.call(this),V,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in n.image_compression?ye:I.NONE}(ee),de)),!Ee)throw new Error("An unknown error occurred whilst processing the image.");return Ee},W=n.__addimage__.convertBase64ToBinaryString=function(j,D){D=typeof D!="boolean"||D;var V,ee="";if(typeof j=="string"){var Ee;V=(Ee=H(j))!==null&&Ee!==void 0?Ee:j;try{ee=vf(V)}catch(de){if(D)throw F(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};n.getImageProperties=function(j){var D,V,ee="";if(g(j)&&(j=w(j)),typeof j=="string"&&r(j)===e&&((ee=W(j,!1))===""&&(ee=n.loadFile(j)||""),j=ee),V=r(j),!p(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!te()||j instanceof Uint8Array||(j=U(j)),!(D=this["process"+V.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=V,D}})(Bt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Bt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,i,a=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,p=!1,g=0;g<d.length&&!p;g++)switch((r=d[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){r=d[w];var y=this.internal.pdfEscape,T=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(E.objId),L=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+y(I(r.contents))+")",i+=" /Popup "+P.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+y(I(L))+") >>",E.content=i;var F=E.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+F,r.open&&(i+=" /Open true"),i+=" >>",P.content=i,this.internal.write(E.objId,"0 R",P.objId,"0 R");break;case"freetext":s="/Rect ["+a(r.bounds.x)+" "+c(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var H=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+y(T(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var te=this.annotations._nameMap[r.options.name];r.options.pageNumber=te.page,r.options.top=te.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+y(T(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var le=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+le+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,i,a){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(t),y:d(r),w:u(t+s),h:d(r+i)},options:a,type:"link"})},n.textWithLink=function(t,r,s,i){var a,c,u=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){c=i.maxWidth;var p=this.splitTextToSize(t,c).length;a=Math.ceil(d*p)}else c=u,a=d;return this.text(t,r,s,i),s+=.2*d,i.align==="center"&&(r-=u/2),i.align==="right"&&(r-=u),this.link(r,s-d,c,a,i),u},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Bt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var i=n.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},c=n.__arabicParser__.isArabicEndLetter=function(E){return a(E)&&i(E)&&e[E.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(E){return a(E)&&s.indexOf(E.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return a(E)&&i(E)&&e[E.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(E){return a(E)&&i(E)&&e[E.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(E){return a(E)&&i(E)&&e[E.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(E){return a(E)&&i(E)&&e[E.charCodeAt(0)].length==4},g=n.__arabicParser__.resolveLigatures=function(E){var P=0,I=t,L="",F=0;for(P=0;P<E.length;P+=1)I[E.charCodeAt(P)]!==void 0?(F++,typeof(I=I[E.charCodeAt(P)])=="number"&&(L+=String.fromCharCode(I),I=t,F=0),P===E.length-1&&(I=t,L+=E.charAt(P-(F-1)),P-=F-1,F=0)):(I=t,L+=E.charAt(P-F),P-=F,F=0);return L};n.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&r[E.charCodeAt(0)]!==void 0};var w=n.__arabicParser__.getCorrectForm=function(E,P,I){return a(E)?i(E)===!1?-1:!d(E)||!a(P)&&!a(I)||!a(I)&&c(P)||c(E)&&!a(P)||c(E)&&u(P)||c(E)&&c(P)?0:p(E)&&a(P)&&!c(P)&&a(I)&&d(I)?3:c(E)||!a(I)?1:2:-1},y=function(E){var P=0,I=0,L=0,F="",H="",te="",le=(E=E||"").split("\\s+"),U=[];for(P=0;P<le.length;P+=1){for(U.push(""),I=0;I<le[P].length;I+=1)F=le[P][I],H=le[P][I-1],te=le[P][I+1],a(F)?(L=w(F,H,te),U[P]+=L!==-1?String.fromCharCode(e[F.charCodeAt(0)][L]):F):U[P]+=F;U[P]=g(U[P])}return U.join(" ")},T=n.__arabicParser__.processArabic=n.processArabic=function(){var E,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(P)){var L=0;for(I=[],L=0;L<P.length;L+=1)Array.isArray(P[L])?I.push([y(P[L][0]),P[L][1],P[L][2]]):I.push([y(P[L])]);E=I}else E=y(P);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};n.events.push(["preProcessText",T])}(Bt.API),Bt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(c){i=c}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(c){a=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Bt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(E){u=E}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(E){d=E}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(E){w=E}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(E){T=E}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,d){r.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),g=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,y=0,T=0,E=0,P=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var I=d.maxWidth;I>0?typeof u=="string"?u=this.splitTextToSize(u,I):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(F,H){return F.concat(P.splitTextToSize(H,I))},[])):u=Array.isArray(u)?u:[u];for(var L=0;L<u.length;L++)y<(E=this.getStringUnitWidth(u[L],{font:g})*p)&&(y=E);return y!==0&&(T=u.length),{w:y/=w,h:Math.max((T*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=g.top,y&&w&&(this.printHeaderRow(u.lineNumber,!0),u.y+=w[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-p,u.y+p,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+p,{align:"center",baseline:"top",maxWidth:u.width-p-p}):this.text(u.text,u.x+p,u.y+p,{align:"left",baseline:"top",maxWidth:u.width-p-p})),this.internal.__cell__.lastCell=u,this};n.table=function(u,d,p,g,w){if(r.call(this),!p)throw new Error("No data for PDF table.");var y,T,E,P,I=[],L=[],F=[],H={},te={},le=[],U=[],k=(w=w||{}).autoSize||!1,B=w.printHeaders!==!1,W=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,j=w.margins||Object.assign({width:this.getPageWidth()},e),D=typeof w.padding=="number"?w.padding:3,V=w.headerBackgroundColor||"#c8c8c8",ee=w.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=ee,this.setFontSize(W),g==null)L=I=Object.keys(p[0]),F=I.map(function(){return"left"});else if(Array.isArray(g)&&Kn(g[0])==="object")for(I=g.map(function(fe){return fe.name}),L=g.map(function(fe){return fe.prompt||fe.name||""}),F=g.map(function(fe){return fe.align||"left"}),y=0;y<g.length;y+=1)te[g[y].name]=g[y].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(L=I=g,F=I.map(function(){return"left"}));if(k||Array.isArray(g)&&typeof g[0]=="string")for(y=0;y<I.length;y+=1){for(H[P=I[y]]=p.map(function(fe){return fe[P]}),this.setFont(void 0,"bold"),le.push(this.getTextDimensions(L[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=H[P],this.setFont(void 0,"normal"),E=0;E<T.length;E+=1)le.push(this.getTextDimensions(T[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);te[P]=Math.max.apply(null,le)+D+D,le=[]}if(B){var Ee={};for(y=0;y<I.length;y+=1)Ee[I[y]]={},Ee[I[y]].text=L[y],Ee[I[y]].align=F[y];var de=c.call(this,Ee,te);U=I.map(function(fe){return new i(u,d,te[fe],de,Ee[fe].text,void 0,Ee[fe].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var Ae=g.reduce(function(fe,oe){return fe[oe.name]=oe.align,fe},{});for(y=0;y<p.length;y+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:y,data:p[y]},this);var re=c.call(this,p[y],te);for(E=0;E<I.length;E+=1){var ye=p[y][I[E]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:y,col:E,data:ye},this),a.call(this,new i(u,d,te[I[E]],re,ye,y+2,Ae[I[E]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var c=function(u,d){var p=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(u).map(function(y){var T=u[y];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,d[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*g/w+p+p},this).reduce(function(y,T){return Math.max(y,T)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=u;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,p),this.setTextColor(T)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),t=!1}}(Bt.API);var ST={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},AT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],jy=_T(AT),ET=[100,200,300,400,500,600,700,800,900],UV=_T(ET);function Dy(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(i){return ST[i=i||"normal"]?i:"normal"}(n.style),r=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(n.weight),s=function(i){return typeof jy[i=i||"normal"]=="number"?i:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function Jb(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var zV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Zb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function e_(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function qV(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},zV,t.genericFontFamilies||{}),i=null,a=null,c=0;c<e.length;++c)if(s[(i=Dy(e[c])).family]&&(i.family=s[i.family]),n.hasOwnProperty(i.family)){a=n[i.family];break}if(!(a=a||n[r]))throw new Error("Could not find a font-family for the rule '"+e_(i)+"' and default family '"+r+"'.");if(a=function(u,d){if(d[u])return d[u];var p=jy[u],g=p<=jy.normal?-1:1,w=Jb(d,AT,p,g);if(!w)throw new Error("Could not find a matching font-stretch value for "+u);return w}(i.stretch,a),a=function(u,d){if(d[u])return d[u];for(var p=ST[u],g=0;g<p.length;++g)if(d[p[g]])return d[p[g]];throw new Error("Could not find a matching font-style for "+u)}(i.style,a),!(a=function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var p=UV[u],g=Jb(d,ET,p,u<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+u);return g}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+e_(i)+"'.");return a}function t_(n){return n.trimLeft()}function $V(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function HV(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Kp,n_,r_,y0=["times"];(function(n){var e,t,r,s,i,a,c,u,d,p=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new u,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new a,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new a,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,d=new p}]);var g=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=M;Object.defineProperty(this,"pdf",{get:function(){return X}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(Oe){ie=!!Oe}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(Oe){he=!!Oe}});var me=0;Object.defineProperty(this,"posX",{get:function(){return me},set:function(Oe){isNaN(Oe)||(me=Oe)}});var ne=0;Object.defineProperty(this,"posY",{get:function(){return ne},set:function(Oe){isNaN(Oe)||(ne=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Oe){var ue;typeof Oe=="number"?ue=[Oe,Oe,Oe,Oe]:((ue=new Array(4))[0]=Oe[0],ue[1]=Oe.length>=2?Oe[1]:ue[0],ue[2]=Oe.length>=3?Oe[2]:ue[0],ue[3]=Oe.length>=4?Oe[3]:ue[1]),d.margin=ue}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(Oe){ce=Oe}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(Oe){ge=Oe}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(Oe){xe=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Oe){Oe instanceof p&&(d=Oe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Oe){d.path=Oe}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(Oe){je=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var ue;ue=w(Oe),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var ue=w(Oe);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var ze=null;function He(Oe,ue){if(ze===null){var xt=function(ut){var Ke=[];return Object.keys(ut).forEach(function(et){ut[et].forEach(function(rt){var st=null;switch(rt){case"bold":st={family:et,weight:"bold"};break;case"italic":st={family:et,style:"italic"};break;case"bolditalic":st={family:et,weight:"bold",style:"italic"};break;case"":case"normal":st={family:et}}st!==null&&(st.ref={name:et,style:rt},Ke.push(st))})}),Ke}(Oe.getFontList());ze=function(ut){for(var Ke={},et=0;et<ut.length;++et){var rt=Dy(ut[et]),st=rt.family,vt=rt.stretch,jt=rt.style,Ut=rt.weight;Ke[st]=Ke[st]||{},Ke[st][vt]=Ke[st][vt]||{},Ke[st][vt][jt]=Ke[st][vt][jt]||{},Ke[st][vt][jt][Ut]=rt}return Ke}(xt.concat(ue))}return ze}var ht=null;Object.defineProperty(this,"fontFaces",{get:function(){return ht},set:function(Oe){ze=null,ht=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var ue;if(this.ctx.font=Oe,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var xt=ue[1];ue[2];var ut=ue[3],Ke=ue[4];ue[5];var et=ue[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(rt==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var st=function(It){var $t,ot,er=[],sn=It.trim();if(sn==="")return y0;if(sn in Zb)return[Zb[sn]];for(;sn!=="";){switch(ot=null,$t=(sn=t_(sn)).charAt(0)){case'"':case"'":ot=$V(sn.substring(1),$t);break;default:ot=HV(sn)}if(ot===null||(er.push(ot[0]),(sn=t_(ot[1]))!==""&&sn.charAt(0)!==","))return y0;sn=sn.replace(/^,/,"")}return er}(et);if(this.fontFaces){var vt=qV(He(this.pdf,this.fontFaces),st.map(function(It){return{family:It,stretch:"normal",weight:ut,style:xt}}));this.pdf.setFont(vt.ref.name,vt.ref.style)}else{var jt="";(ut==="bold"||parseInt(ut,10)>=700||xt==="bold")&&(jt="bold"),xt==="italic"&&(jt+="italic"),jt.length===0&&(jt="normal");for(var Ut="",Et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Rt=0;Rt<st.length;Rt++){if(this.pdf.internal.getFont(st[Rt],jt,{noFallback:!0,disableWarning:!0})!==void 0){Ut=st[Rt];break}if(jt==="bolditalic"&&this.pdf.internal.getFont(st[Rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ut=st[Rt],jt="bold";else if(this.pdf.internal.getFont(st[Rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ut=st[Rt],jt="normal";break}}if(Ut===""){for(var rn=0;rn<st.length;rn++)if(Et[st[rn]]){Ut=Et[st[rn]];break}}Ut=Ut===""?"Times":Ut,this.pdf.setFont(Ut,jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};g.prototype.setLineDash=function(M){this.lineDash=M},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){H.call(this,"fill",!1)},g.prototype.stroke=function(){H.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(M,X){if(isNaN(M)||isNaN(X))throw Jn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new a(M,X));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new a(M,X)},g.prototype.closePath=function(){var M=new a(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Kn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){M=new a(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(M.x,M.y)},g.prototype.lineTo=function(M,X){if(isNaN(M)||isNaN(X))throw Jn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new a(M,X));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new a(ie.x,ie.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},g.prototype.quadraticCurveTo=function(M,X,ie,he){if(isNaN(ie)||isNaN(he)||isNaN(M)||isNaN(X))throw Jn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var me=this.ctx.transform.applyToPoint(new a(ie,he)),ne=this.ctx.transform.applyToPoint(new a(M,X));this.path.push({type:"qct",x1:ne.x,y1:ne.y,x:me.x,y:me.y}),this.ctx.lastPoint=new a(me.x,me.y)},g.prototype.bezierCurveTo=function(M,X,ie,he,me,ne){if(isNaN(me)||isNaN(ne)||isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(he))throw Jn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new a(me,ne)),ge=this.ctx.transform.applyToPoint(new a(M,X)),xe=this.ctx.transform.applyToPoint(new a(ie,he));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:xe.x,y2:xe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},g.prototype.arc=function(M,X,ie,he,me,ne){if(isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(he)||isNaN(me))throw Jn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ne=!!ne,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new a(M,X));M=ce.x,X=ce.y;var ge=this.ctx.transform.applyToPoint(new a(0,ie)),xe=this.ctx.transform.applyToPoint(new a(0,0));ie=Math.sqrt(Math.pow(ge.x-xe.x,2)+Math.pow(ge.y-xe.y,2))}Math.abs(me-he)>=2*Math.PI&&(he=0,me=2*Math.PI),this.path.push({type:"arc",x:M,y:X,radius:ie,startAngle:he,endAngle:me,counterclockwise:ne})},g.prototype.arcTo=function(M,X,ie,he,me){throw new Error("arcTo not implemented.")},g.prototype.rect=function(M,X,ie,he){if(isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(he))throw Jn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,X),this.lineTo(M+ie,X),this.lineTo(M+ie,X+he),this.lineTo(M,X+he),this.lineTo(M,X),this.lineTo(M+ie,X),this.lineTo(M,X)},g.prototype.fillRect=function(M,X,ie,he){if(isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(he))throw Jn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var me={};this.lineCap!=="butt"&&(me.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(me.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,X,ie,he),this.fill(),me.hasOwnProperty("lineCap")&&(this.lineCap=me.lineCap),me.hasOwnProperty("lineJoin")&&(this.lineJoin=me.lineJoin)}},g.prototype.strokeRect=function(M,X,ie,he){if(isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(he))throw Jn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(M,X,ie,he),this.stroke())},g.prototype.clearRect=function(M,X,ie,he){if(isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(he))throw Jn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,X,ie,he))},g.prototype.save=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},g.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(X),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(M){var X,ie,he,me;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))X=0,ie=0,he=0,me=0;else{var ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ne!==null)X=parseInt(ne[1]),ie=parseInt(ne[2]),he=parseInt(ne[3]),me=1;else if((ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)X=parseInt(ne[1]),ie=parseInt(ne[2]),he=parseInt(ne[3]),me=parseFloat(ne[4]);else{if(me=1,typeof M=="string"&&M.charAt(0)!=="#"){var ce=new gT(M);M=ce.ok?ce.toHex():"#000000"}M.length===4?(X=M.substring(1,2),X+=X,ie=M.substring(2,3),ie+=ie,he=M.substring(3,4),he+=he):(X=M.substring(1,3),ie=M.substring(3,5),he=M.substring(5,7)),X=parseInt(X,16),ie=parseInt(ie,16),he=parseInt(he,16)}}return{r:X,g:ie,b:he,a:me,style:M}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(M,X,ie,he){if(isNaN(X)||isNaN(ie)||typeof M!="string")throw Jn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!y.call(this)){var me=re(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;D.call(this,{text:M,x:X,y:ie,scale:ne,angle:me,align:this.textAlign,maxWidth:he})}},g.prototype.strokeText=function(M,X,ie,he){if(isNaN(X)||isNaN(ie)||typeof M!="string")throw Jn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){he=isNaN(he)?void 0:he;var me=re(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;D.call(this,{text:M,x:X,y:ie,scale:ne,renderingMode:"stroke",angle:me,align:this.textAlign,maxWidth:he})}},g.prototype.measureText=function(M){if(typeof M!="string")throw Jn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,ie=this.pdf.internal.scaleFactor,he=X.internal.getFontSize(),me=X.getStringUnitWidth(M)*he/X.internal.scaleFactor,ne=function(ce){var ge=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this};return new ne({width:me*=Math.round(96*ie/72*1e4)/1e4})},g.prototype.scale=function(M,X){if(isNaN(M)||isNaN(X))throw Jn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new u(M,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},g.prototype.rotate=function(M){if(isNaN(M))throw Jn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new u(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},g.prototype.translate=function(M,X){if(isNaN(M)||isNaN(X))throw Jn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new u(1,0,0,1,M,X);this.ctx.transform=this.ctx.transform.multiply(ie)},g.prototype.transform=function(M,X,ie,he,me,ne){if(isNaN(M)||isNaN(X)||isNaN(ie)||isNaN(he)||isNaN(me)||isNaN(ne))throw Jn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new u(M,X,ie,he,me,ne);this.ctx.transform=this.ctx.transform.multiply(ce)},g.prototype.setTransform=function(M,X,ie,he,me,ne){M=isNaN(M)?1:M,X=isNaN(X)?0:X,ie=isNaN(ie)?0:ie,he=isNaN(he)?1:he,me=isNaN(me)?0:me,ne=isNaN(ne)?0:ne,this.ctx.transform=new u(M,X,ie,he,me,ne)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(M,X,ie,he,me,ne,ce,ge,xe){var je=this.pdf.getImageProperties(M),ze=1,He=1,ht=1,Oe=1;he!==void 0&&ge!==void 0&&(ht=ge/he,Oe=xe/me,ze=je.width/he*ge/he,He=je.height/me*xe/me),ne===void 0&&(ne=X,ce=ie,X=0,ie=0),he!==void 0&&ge===void 0&&(ge=he,xe=me),he===void 0&&ge===void 0&&(ge=je.width,xe=je.height);for(var ue,xt=this.ctx.transform.decompose(),ut=re(xt.rotate.shx),Ke=new u,et=(Ke=(Ke=(Ke=Ke.multiply(xt.translate)).multiply(xt.skew)).multiply(xt.scale)).applyToRectangle(new c(ne-X*ht,ce-ie*Oe,he*ze,me*He)),rt=P.call(this,et),st=[],vt=0;vt<rt.length;vt+=1)st.indexOf(rt[vt])===-1&&st.push(rt[vt]);if(F(st),this.autoPaging)for(var jt=st[0],Ut=st[st.length-1],Et=jt;Et<Ut+1;Et++){this.pdf.setPage(Et);var Rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rn=Et===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Et===1?0:It+(Et-2)*$t;if(this.ctx.clip_path.length!==0){var er=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ue,this.posX+this.margin[3],-ot+rn+this.ctx.prevPageLastElemOffset),te.call(this,"fill",!0),this.path=er}var sn=JSON.parse(JSON.stringify(et));sn=L([sn],this.posX+this.margin[3],-ot+rn+this.ctx.prevPageLastElemOffset)[0];var Tr=(Et>jt||Et<Ut)&&E.call(this);Tr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,$t,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",sn.x,sn.y,sn.w,sn.h,null,null,ut),Tr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",et.x,et.y,et.w,et.h,null,null,ut)};var P=function(M,X,ie){var he=[];X=X||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var me=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":he.push(Math.floor((M.y+me)/ie)+1);break;case"arc":he.push(Math.floor((M.y+me-M.radius)/ie)+1),he.push(Math.floor((M.y+me+M.radius)/ie)+1);break;case"qct":var ne=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);he.push(Math.floor((ne.y+me)/ie)+1),he.push(Math.floor((ne.y+ne.h+me)/ie)+1);break;case"bct":var ce=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);he.push(Math.floor((ce.y+me)/ie)+1),he.push(Math.floor((ce.y+ce.h+me)/ie)+1);break;case"rect":he.push(Math.floor((M.y+me)/ie)+1),he.push(Math.floor((M.y+M.h+me)/ie)+1)}for(var ge=0;ge<he.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<he[ge];)I.call(this);return he},I=function(){var M=this.fillStyle,X=this.strokeStyle,ie=this.font,he=this.lineCap,me=this.lineWidth,ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=X,this.font=ie,this.lineCap=he,this.lineWidth=me,this.lineJoin=ne},L=function(M,X,ie){for(var he=0;he<M.length;he++)switch(M[he].type){case"bct":M[he].x2+=X,M[he].y2+=ie;case"qct":M[he].x1+=X,M[he].y1+=ie;case"mt":case"lt":case"arc":default:M[he].x+=X,M[he].y+=ie}return M},F=function(M){return M.sort(function(X,ie){return X-ie})},H=function(M,X){for(var ie,he,me=this.fillStyle,ne=this.strokeStyle,ce=this.lineCap,ge=this.lineWidth,xe=Math.abs(ge*this.ctx.transform.scaleX),je=this.lineJoin,ze=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),ht=[],Oe=0;Oe<He.length;Oe++)if(He[Oe].x!==void 0)for(var ue=P.call(this,He[Oe]),xt=0;xt<ue.length;xt+=1)ht.indexOf(ue[xt])===-1&&ht.push(ue[xt]);for(var ut=0;ut<ht.length;ut++)for(;this.pdf.internal.getNumberOfPages()<ht[ut];)I.call(this);if(F(ht),this.autoPaging)for(var Ke=ht[0],et=ht[ht.length-1],rt=Ke;rt<et+1;rt++){this.pdf.setPage(rt),this.fillStyle=me,this.strokeStyle=ne,this.lineCap=ce,this.lineWidth=xe,this.lineJoin=je;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=rt===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Et=rt===1?0:jt+(rt-2)*Ut;if(this.ctx.clip_path.length!==0){var Rt=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ie,this.posX+this.margin[3],-Et+vt+this.ctx.prevPageLastElemOffset),te.call(this,M,!0),this.path=Rt}if(he=JSON.parse(JSON.stringify(ze)),this.path=L(he,this.posX+this.margin[3],-Et+vt+this.ctx.prevPageLastElemOffset),X===!1||rt===0){var rn=(rt>Ke||rt<et)&&E.call(this);rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Ut,null).clip().discardPath()),te.call(this,M,X),rn&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=xe,te.call(this,M,X),this.lineWidth=ge;this.path=ze},te=function(M,X){if((M!=="stroke"||X||!T.call(this))&&(M==="stroke"||X||!y.call(this))){for(var ie,he,me=[],ne=this.path,ce=0;ce<ne.length;ce++){var ge=ne[ce];switch(ge.type){case"begin":me.push({begin:!0});break;case"close":me.push({close:!0});break;case"mt":me.push({start:ge,deltas:[],abs:[]});break;case"lt":var xe=me.length;if(ne[ce-1]&&!isNaN(ne[ce-1].x)&&(ie=[ge.x-ne[ce-1].x,ge.y-ne[ce-1].y],xe>0)){for(;xe>=0;xe--)if(me[xe-1].close!==!0&&me[xe-1].begin!==!0){me[xe-1].deltas.push(ie),me[xe-1].abs.push(ge);break}}break;case"bct":ie=[ge.x1-ne[ce-1].x,ge.y1-ne[ce-1].y,ge.x2-ne[ce-1].x,ge.y2-ne[ce-1].y,ge.x-ne[ce-1].x,ge.y-ne[ce-1].y],me[me.length-1].deltas.push(ie);break;case"qct":var je=ne[ce-1].x+2/3*(ge.x1-ne[ce-1].x),ze=ne[ce-1].y+2/3*(ge.y1-ne[ce-1].y),He=ge.x+2/3*(ge.x1-ge.x),ht=ge.y+2/3*(ge.y1-ge.y),Oe=ge.x,ue=ge.y;ie=[je-ne[ce-1].x,ze-ne[ce-1].y,He-ne[ce-1].x,ht-ne[ce-1].y,Oe-ne[ce-1].x,ue-ne[ce-1].y],me[me.length-1].deltas.push(ie);break;case"arc":me.push({deltas:[],abs:[],arc:!0}),Array.isArray(me[me.length-1].abs)&&me[me.length-1].abs.push(ge)}}he=X?null:M==="stroke"?"stroke":"fill";for(var xt=!1,ut=0;ut<me.length;ut++)if(me[ut].arc)for(var Ke=me[ut].abs,et=0;et<Ke.length;et++){var rt=Ke[et];rt.type==="arc"?k.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,X,!xt):V.call(this,rt.x,rt.y),xt=!0}else if(me[ut].close===!0)this.pdf.internal.out("h"),xt=!1;else if(me[ut].begin!==!0){var st=me[ut].start.x,vt=me[ut].start.y;ee.call(this,me[ut].deltas,st,vt),xt=!0}he&&B.call(this,he),X&&W.call(this)}},le=function(M){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-ie;case"top":return M+X-ie;case"hanging":return M+X-2*ie;case"middle":return M+X/2-ie;case"ideographic":return M;case"alphabetic":default:return M}},U=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(X,ie){this.colorStops.push([X,ie])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(M,X,ie,he,me,ne,ce,ge,xe){for(var je=de.call(this,ie,he,me,ne),ze=0;ze<je.length;ze++){var He=je[ze];ze===0&&(xe?j.call(this,He.x1+M,He.y1+X):V.call(this,He.x1+M,He.y1+X)),Ee.call(this,M,X,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}ge?W.call(this):B.call(this,ce)},B=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(M,X){this.pdf.internal.out(t(M)+" "+r(X)+" m")},D=function(M){var X;switch(M.align){case"right":case"end":X="right";break;case"center":X="center";break;case"left":case"start":default:X="left"}var ie=this.pdf.getTextDimensions(M.text),he=le.call(this,M.y),me=U.call(this,he)-ie.h,ne=this.ctx.transform.applyToPoint(new a(M.x,he)),ce=this.ctx.transform.decompose(),ge=new u;ge=(ge=(ge=ge.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var xe,je,ze,He=this.ctx.transform.applyToRectangle(new c(M.x,he,ie.w,ie.h)),ht=ge.applyToRectangle(new c(M.x,me,ie.w,ie.h)),Oe=P.call(this,ht),ue=[],xt=0;xt<Oe.length;xt+=1)ue.indexOf(Oe[xt])===-1&&ue.push(Oe[xt]);if(F(ue),this.autoPaging)for(var ut=ue[0],Ke=ue[ue.length-1],et=ut;et<Ke+1;et++){this.pdf.setPage(et);var rt=et===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],jt=vt-this.margin[0],Ut=this.pdf.internal.pageSize.width-this.margin[1],Et=Ut-this.margin[3],Rt=et===1?0:st+(et-2)*jt;if(this.ctx.clip_path.length!==0){var rn=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(xe,this.posX+this.margin[3],-1*Rt+rt),te.call(this,"fill",!0),this.path=rn}var It=L([JSON.parse(JSON.stringify(ht))],this.posX+this.margin[3],-Rt+rt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*M.scale),ze=this.lineWidth,this.lineWidth=ze*M.scale);var $t=this.autoPaging!=="text";if($t||It.y+It.h<=vt){if($t||It.y>=rt&&It.x<=Ut){var ot=$t?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Ut-It.x)[0],er=L([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-Rt+rt+this.ctx.prevPageLastElemOffset)[0],sn=$t&&(et>ut||et<Ke)&&E.call(this);sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,jt,null).clip().discardPath()),this.pdf.text(ot,er.x,er.y,{angle:M.angle,align:X,renderingMode:M.renderingMode}),sn&&this.pdf.restoreGraphicsState()}}else It.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-It.y);M.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=ze)}else M.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*M.scale),ze=this.lineWidth,this.lineWidth=ze*M.scale),this.pdf.text(M.text,ne.x+this.posX,ne.y+this.posY,{angle:M.angle,align:X,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=ze)},V=function(M,X,ie,he){ie=ie||0,he=he||0,this.pdf.internal.out(t(M+ie)+" "+r(X+he)+" l")},ee=function(M,X,ie){return this.pdf.lines(M,X,ie,null,null)},Ee=function(M,X,ie,he,me,ne,ce,ge){this.pdf.internal.out([e(s(ie+M)),e(i(he+X)),e(s(me+M)),e(i(ne+X)),e(s(ce+M)),e(i(ge+X)),"c"].join(" "))},de=function(M,X,ie,he){for(var me=2*Math.PI,ne=Math.PI/2;X>ie;)X-=me;var ce=Math.abs(ie-X);ce<me&&he&&(ce=me-ce);for(var ge=[],xe=he?-1:1,je=X;ce>1e-5;){var ze=je+xe*Math.min(ce,ne);ge.push(Ae.call(this,M,je,ze)),ce-=Math.abs(ze-je),je=ze}return ge},Ae=function(M,X,ie){var he=(ie-X)/2,me=M*Math.cos(he),ne=M*Math.sin(he),ce=me,ge=-ne,xe=ce*ce+ge*ge,je=xe+ce*me+ge*ne,ze=4/3*(Math.sqrt(2*xe*je)-je)/(ce*ne-ge*me),He=ce-ze*ge,ht=ge+ze*ce,Oe=He,ue=-ht,xt=he+X,ut=Math.cos(xt),Ke=Math.sin(xt);return{x1:M*Math.cos(X),y1:M*Math.sin(X),x2:He*ut-ht*Ke,y2:He*Ke+ht*ut,x3:Oe*ut-ue*Ke,y3:Oe*Ke+ue*ut,x4:M*Math.cos(ie),y4:M*Math.sin(ie)}},re=function(M){return 180*M/Math.PI},ye=function(M,X,ie,he,me,ne){var ce=M+.5*(ie-M),ge=X+.5*(he-X),xe=me+.5*(ie-me),je=ne+.5*(he-ne),ze=Math.min(M,me,ce,xe),He=Math.max(M,me,ce,xe),ht=Math.min(X,ne,ge,je),Oe=Math.max(X,ne,ge,je);return new c(ze,ht,He-ze,Oe-ht)},fe=function(M,X,ie,he,me,ne,ce,ge){var xe,je,ze,He,ht,Oe,ue,xt,ut,Ke,et,rt,st,vt,jt=ie-M,Ut=he-X,Et=me-ie,Rt=ne-he,rn=ce-me,It=ge-ne;for(je=0;je<41;je++)ut=(ue=(ze=M+(xe=je/40)*jt)+xe*((ht=ie+xe*Et)-ze))+xe*(ht+xe*(me+xe*rn-ht)-ue),Ke=(xt=(He=X+xe*Ut)+xe*((Oe=he+xe*Rt)-He))+xe*(Oe+xe*(ne+xe*It-Oe)-xt),je==0?(et=ut,rt=Ke,st=ut,vt=Ke):(et=Math.min(et,ut),rt=Math.min(rt,Ke),st=Math.max(st,ut),vt=Math.max(vt,Ke));return new c(Math.round(et),Math.round(rt),Math.round(st-et),Math.round(vt-rt))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,X,ie=(M=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:X}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(Bt.API),function(n){var e=function(i){var a,c,u,d,p,g,w,y,T,E;for(c=[],u=0,d=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;d>u;u+=4)(p=(i.charCodeAt(u)<<24)+(i.charCodeAt(u+1)<<16)+(i.charCodeAt(u+2)<<8)+i.charCodeAt(u+3))!==0?(g=(p=((p=((p=((p=(p-(E=p%85))/85)-(T=p%85))/85)-(y=p%85))/85)-(w=p%85))/85)%85,c.push(g+33,w+33,y+33,T+33,E+33)):c.push(122);return function(P,I){for(var L=I;L>0;L--)P.pop()}(c,a.length),String.fromCharCode.apply(String,c)+"~>"},t=function(i){var a,c,u,d,p,g=String,w="length",y=255,T="charCodeAt",E="slice",P="replace";for(i[E](-2),i=i[E](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),u=[],d=0,p=(i+=a="uuuuu"[E](i[w]%5||5))[w];p>d;d+=5)c=52200625*(i[T](d)-33)+614125*(i[T](d+1)-33)+7225*(i[T](d+2)-33)+85*(i[T](d+3)-33)+(i[T](d+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return function(I,L){for(var F=L;F>0;F--)I.pop()}(u,a[w]),g.fromCharCode.apply(g,u)},r=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var c="",u=0;u<i.length;u+=2)c+=String.fromCharCode("0x"+(i[u]+i[u+1]));return c},s=function(i){for(var a=new Uint8Array(i.length),c=i.length;c--;)a[c]=i.charCodeAt(c);return i=(a=Cy(a)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};n.processDataByFilters=function(i,a){var c=0,u=i||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),c=0;c<a.length;c+=1)switch(a[c]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Bt.API),function(n){n.loadFile=function(e,t,r){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var c=void 0;try{c=function(u,d,p){var g=new XMLHttpRequest,w=0,y=function(T){var E=T.length,P=[],I=String.fromCharCode;for(w=0;w<E;w+=1)P.push(I(255&T.charCodeAt(w)));return P.join("")};if(g.open("GET",u,!d),g.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(g.onload=function(){g.status===200?p(y(this.responseText)):p(void 0)}),g.send(null),d&&g.status===200)return y(g.responseText)}(s,i,a)}catch{}return c}(e,t,r)},n.loadImageFile=n.loadFile}(Bt.API),function(n){function e(){return(qt.html2canvas?Promise.resolve(qt.html2canvas):Ay(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(qt.DOMPurify?Promise.resolve(qt.DOMPurify):Ay(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var c=Kn(a);return c==="undefined"?"undefined":c==="string"||a instanceof String?"string":c==="number"||a instanceof Number?"number":c==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(a,c){var u=document.createElement(a);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function a(c){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,a,1,[a])).set(c)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,c){return a.__proto__=c||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,c){return this.then(function(){switch(c=c||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(u){return this.set({src:s("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function u(d,p){for(var g=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),w=d.firstChild;w;w=w.nextSibling)p!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||g.appendChild(u(w,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(g.width=d.width,g.height=d.height,g.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(g.value=d.value),g.addEventListener("load",function(){g.scrollTop=d.scrollTop,g.scrollLeft=d.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var w=0;w<d.length;++w){var y=d[w],T=y.src.find(function(E){return E.format==="truetype"});T&&u.addFont(T.url,y.ref.name,y.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,c):this.outputPdf(a,c)},i.prototype.outputPdf=function(a,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,c)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(r(a)!=="object")return this;var c=Object.keys(a||{}).map(function(u){if(u in i.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(c)})},i.prototype.get=function(a,c){return this.then(function(){var u=a in i.template.prop?this.prop[a]:this.opt[a];return c?c(u):u})},i.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(a=a||Bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:c(a.inner.width,a.k),height:c(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,c,u,d){return a!=null&&(this.progress.val=a),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,c,u,d){return this.setProgress(a?this.progress.val+a:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(a,c){var u=this;return this.thenCore(a,c,function(d,p){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,d),g}).then(d,p).then(function(g){return u.updateProgress(1),g})})},i.prototype.thenCore=function(a,c,u){u=u||Promise.prototype.then,a&&(a=a.bind(this)),c&&(c=c.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),p=u.call(d,a,c);return i.convert(p,this.__proto__)},i.prototype.thenExternal=function(a,c){return Promise.prototype.then.call(this,a,c)},i.prototype.thenList=function(a){var c=this;return a.forEach(function(u){c=c.thenCore(u)}),c},i.prototype.catch=function(a){a&&(a=a.bind(this));var c=Promise.prototype.catch.call(this,a);return i.convert(c,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Bt.getPageSize=function(a,c,u){if(Kn(a)==="object"){var d=a;a=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var p,g=(""+u).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var y,T=0,E=0;if(w.hasOwnProperty(g))T=w[g][1]/p,E=w[g][0]/p;else try{T=u[1],E=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",E>T&&(y=E,E=T,T=y);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",T>E&&(y=E,E=T,T=y)}return{width:E,height:T,unit:c,k:p,orientation:a}},n.html=function(a,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Dy):null;var u=new i(c);return c.worker?u:u.from(a).doCallback()}}(Bt.API),Bt.API.addJS=function(n){return r_=n,this.internal.events.subscribe("postPutResources",function(){Kp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Kp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Kp!==void 0&&n_!==void 0&&this.internal.out("/Names <</JavaScript "+Kp+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],c=r.exec(a);if(c!=null){var u=c[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(i=0;i<d;i++){var g=t.internal.newObject();p.push(g);var w=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var y=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<p.length;i++)t.internal.write("(page_"+(i+1)+")"+p[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+y+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,i){var a={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var a=r.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var c=this.count=this.count_r({count:0},a);if(c>0&&this.line("/Count "+c),a.options&&a.options.pageNumber){var u=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(Bt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,i,a,c){var u,d=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=function(g){for(var w,y=256*g.charCodeAt(4)+g.charCodeAt(5),T=g.length,E={width:0,height:0,numcomponents:1},P=4;P<T;P+=2){if(P+=y,e.indexOf(g.charCodeAt(P+1))!==-1){w=256*g.charCodeAt(P+5)+g.charCodeAt(P+6),E={width:256*g.charCodeAt(P+7)+g.charCodeAt(P+8),height:w,numcomponents:g.charCodeAt(P+9)};break}y=256*g.charCodeAt(P+2)+g.charCodeAt(P+3)}return E}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:t,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:s}}return p}}(Bt.API);var jh,Yp,s_,i_,o_,WV=function(){var n,e,t;function r(i){var a,c,u,d,p,g,w,y,T,E,P,I,L,F;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(a=this.readUInt32(),T=(function(){var H,te;for(te=[],H=0;H<4;++H)te.push(String.fromCharCode(this.data[this.pos++]));return te}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,g.delay=1e3*p/d,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(T==="fdAT"&&(this.pos+=4,a-=4),i=(g!=null?g.data:void 0)||this.imgData,I=0;0<=a?I<a:I>a;0<=a?++I:--I)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((E=u-this.transparency.indexed.length)>0)for(L=0;0<=E?L<E:L>E;0<=E?++L:--L)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":w=(P=this.read(a)).indexOf(0),y=String.fromCharCode.apply(String,P.slice(0,w)),this.text[y]=String.fromCharCode.apply(String,P.slice(w+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(F=this.colorType)===4||F===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var a,c;for(c=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*a),u=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function p(g,w,y,T){var E,P,I,L,F,H,te,le,U,k,B,W,j,D,V,ee,Ee,de,Ae,re,ye,fe=Math.ceil((d.width-g)/y),oe=Math.ceil((d.height-w)/T),M=d.width==fe&&d.height==oe;for(D=a*fe,W=M?c:new Uint8Array(D*oe),H=i.length,j=0,P=0;j<oe&&u<H;){switch(i[u++]){case 0:for(L=Ee=0;Ee<D;L=Ee+=1)W[P++]=i[u++];break;case 1:for(L=de=0;de<D;L=de+=1)E=i[u++],F=L<a?0:W[P-a],W[P++]=(E+F)%256;break;case 2:for(L=Ae=0;Ae<D;L=Ae+=1)E=i[u++],I=(L-L%a)/a,V=j&&W[(j-1)*D+I*a+L%a],W[P++]=(V+E)%256;break;case 3:for(L=re=0;re<D;L=re+=1)E=i[u++],I=(L-L%a)/a,F=L<a?0:W[P-a],V=j&&W[(j-1)*D+I*a+L%a],W[P++]=(E+Math.floor((F+V)/2))%256;break;case 4:for(L=ye=0;ye<D;L=ye+=1)E=i[u++],I=(L-L%a)/a,F=L<a?0:W[P-a],j===0?V=ee=0:(V=W[(j-1)*D+I*a+L%a],ee=I&&W[(j-1)*D+(I-1)*a+L%a]),te=F+V-ee,le=Math.abs(te-F),k=Math.abs(te-V),B=Math.abs(te-ee),U=le<=k&&le<=B?F:k<=B?V:ee,W[P++]=(E+U)%256;break;default:throw new Error("Invalid filter algorithm: "+i[u-1])}if(!M){var X=((w+j*T)*d.width+g)*a,ie=j*D;for(L=0;L<fe;L+=1){for(var he=0;he<a;he+=1)c[X++]=W[ie++];X+=(y-1)*a}}j++}}return i=AV(i),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),c},r.prototype.decodePalette=function(){var i,a,c,u,d,p,g,w,y;for(c=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+c.length),u=0,i=0,a=g=0,w=c.length;g<w;a=g+=3)d[u++]=c[a],d[u++]=c[a+1],d[u++]=c[a+2],d[u++]=(y=p[i++])!=null?y:255;return d},r.prototype.copyToImageData=function(i,a){var c,u,d,p,g,w,y,T,E,P,I;if(u=this.colors,E=null,c=this.hasAlphaChannel,this.palette.length&&(E=(I=this._decodedPalette)!=null?I:this._decodedPalette=this.decodePalette(),u=4,c=!0),T=(d=i.data||i).length,g=E||a,p=w=0,u===1)for(;p<T;)y=E?4*a[p/4]:w,P=g[y++],d[p++]=P,d[p++]=P,d[p++]=P,d[p++]=c?g[y++]:255,w=y;else for(;p<T;)y=E?4*a[p/4]:w,d[p++]=g[y++],d[p++]=g[y++],d[p++]=g[y++],d[p++]=c?g[y++]:255,w=y},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(qt)==="[object Window]"){try{e=qt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),n=function(i){var a;if(s()===!0)return t.width=i.width,t.height=i.height,t.clearRect(0,0,i.width,i.height),t.putImageData(i,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var a,c,u,d,p,g,w,y;if(this.animation){for(y=[],c=p=0,g=(w=this.animation.frames).length;p<g;c=++p)a=w[c],u=i.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(u,d),a.imageData=u,y.push(a.image=n(u));return y}},r.prototype.renderFrame=function(i,a){var c,u,d;return c=(u=this.animation.frames)[a],d=u[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),c.blendOp===0&&i.clearRect(c.xOffset,c.yOffset,c.width,c.height),i.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(i){var a,c,u,d,p,g,w=this;return c=0,g=this.animation,d=g.numFrames,u=g.frames,p=g.numPlays,(a=function(){var y,T;if(y=c++%d,T=u[y],w.renderFrame(i,y),d>1&&c/d<p)return w.animation._timeout=setTimeout(a,T.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var a,c;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(c=a.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),a.putImageData(c,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function GV(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],i=s>>7,a=1<<(7&s)+1;n[e++],n[e++];var c=null,u=null;i&&(c=e,u=a,e+=3*a);var d=!0,p=[],g=0,w=null,y=0,T=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,T=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=n[e++];g=n[e++]|n[e++]<<8,w=n[e++],(1&E)==0&&(w=null),y=E>>2&7,e++;break;case 254:for(;;){if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var P=n[e++]|n[e++]<<8,I=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,H=n[e++],te=H>>6&1,le=1<<(7&H)+1,U=c,k=u,B=!1;H>>7&&(B=!0,U=e,k=le,e+=3*le);var W=e;for(e++;;){var j;if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}p.push({x:P,y:I,width:L,height:F,has_local_palette:B,palette_offset:U,palette_size:k,data_offset:W,data_length:e-W,transparent_index:w,interlaced:!!te,delay:g,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return T},this.frameInfo=function(D){if(D<0||D>=p.length)throw new Error("Frame index out of range.");return p[D]},this.decodeAndBlitFrameBGRA=function(D,V){var ee=this.frameInfo(D),Ee=ee.width*ee.height,de=new Uint8Array(Ee);a_(n,ee.data_offset,de,Ee);var Ae=ee.palette_offset,re=ee.transparent_index;re===null&&(re=256);var ye=ee.width,fe=t-ye,oe=ye,M=4*(ee.y*t+ee.x),X=4*((ee.y+ee.height)*t+ee.x),ie=M,he=4*fe;ee.interlaced===!0&&(he+=4*t*7);for(var me=8,ne=0,ce=de.length;ne<ce;++ne){var ge=de[ne];if(oe===0&&(oe=ye,(ie+=he)>=X&&(he=4*fe+4*t*(me-1),ie=M+(ye+fe)*(me<<1),me>>=1)),ge===re)ie+=4;else{var xe=n[Ae+3*ge],je=n[Ae+3*ge+1],ze=n[Ae+3*ge+2];V[ie++]=ze,V[ie++]=je,V[ie++]=xe,V[ie++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(D,V){var ee=this.frameInfo(D),Ee=ee.width*ee.height,de=new Uint8Array(Ee);a_(n,ee.data_offset,de,Ee);var Ae=ee.palette_offset,re=ee.transparent_index;re===null&&(re=256);var ye=ee.width,fe=t-ye,oe=ye,M=4*(ee.y*t+ee.x),X=4*((ee.y+ee.height)*t+ee.x),ie=M,he=4*fe;ee.interlaced===!0&&(he+=4*t*7);for(var me=8,ne=0,ce=de.length;ne<ce;++ne){var ge=de[ne];if(oe===0&&(oe=ye,(ie+=he)>=X&&(he=4*fe+4*t*(me-1),ie=M+(ye+fe)*(me<<1),me>>=1)),ge===re)ie+=4;else{var xe=n[Ae+3*ge],je=n[Ae+3*ge+1],ze=n[Ae+3*ge+2];V[ie++]=xe,V[ie++]=je,V[ie++]=ze,V[ie++]=255}--oe}}}function a_(n,e,t,r){for(var s=n[e++],i=1<<s,a=i+1,c=a+1,u=s+1,d=(1<<u)-1,p=0,g=0,w=0,y=n[e++],T=new Int32Array(4096),E=null;;){for(;p<16&&y!==0;)g|=n[e++]<<p,p+=8,y===1?y=n[e++]:--y;if(p<u)break;var P=g&d;if(g>>=u,p-=u,P!==i){if(P===a)break;for(var I=P<c?P:E,L=0,F=I;F>i;)F=T[F]>>8,++L;var H=F;if(w+L+(I!==P?1:0)>r)return void Jn.log("Warning, gif stream longer than expected.");t[w++]=H;var te=w+=L;for(I!==P&&(t[w++]=H),F=I;L--;)F=T[F],t[--te]=255&F,F>>=8;E!==null&&c<4096&&(T[c++]=E<<8|H,c>=d+1&&u<12&&(++u,d=d<<1|1)),E=P}else c=a+1,d=(1<<(u=s+1))-1,E=null}return w!==r&&Jn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function v0(n){var e,t,r,s,i,a=Math.floor,c=new Array(64),u=new Array(64),d=new Array(64),p=new Array(64),g=new Array(65535),w=new Array(65535),y=new Array(64),T=new Array(64),E=[],P=0,I=7,L=new Array(64),F=new Array(64),H=new Array(64),te=new Array(256),le=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(M,X){for(var ie=0,he=0,me=new Array,ne=1;ne<=16;ne++){for(var ce=1;ce<=M[ne];ce++)me[X[he]]=[],me[X[he]][0]=ie,me[X[he]][1]=ne,he++,ie++;ie*=2}return me}function Ae(M){for(var X=M[0],ie=M[1]-1;ie>=0;)X&1<<ie&&(P|=1<<I),ie--,--I<0&&(P==255?(re(255),re(0)):re(P),I=7,P=0)}function re(M){E.push(M)}function ye(M){re(M>>8&255),re(255&M)}function fe(M,X,ie,he,me){for(var ne,ce=me[0],ge=me[240],xe=function(Ke,et){var rt,st,vt,jt,Ut,Et,Rt,rn,It,$t,ot=0;for(It=0;It<8;++It){rt=Ke[ot],st=Ke[ot+1],vt=Ke[ot+2],jt=Ke[ot+3],Ut=Ke[ot+4],Et=Ke[ot+5],Rt=Ke[ot+6];var er=rt+(rn=Ke[ot+7]),sn=rt-rn,Tr=st+Rt,dn=st-Rt,Nn=vt+Et,ms=vt-Et,on=jt+Ut,Gs=jt-Ut,Ln=er+on,tr=er-on,Nr=Tr+Nn,jn=Tr-Nn;Ke[ot]=Ln+Nr,Ke[ot+4]=Ln-Nr;var Pt=.707106781*(jn+tr);Ke[ot+2]=tr+Pt,Ke[ot+6]=tr-Pt;var cn=.382683433*((Ln=Gs+ms)-(jn=dn+sn)),ns=.5411961*Ln+cn,ir=1.306562965*jn+cn,Pr=.707106781*(Nr=ms+dn),Kr=sn+Pr,dt=sn-Pr;Ke[ot+5]=dt+ns,Ke[ot+3]=dt-ns,Ke[ot+1]=Kr+ir,Ke[ot+7]=Kr-ir,ot+=8}for(ot=0,It=0;It<8;++It){rt=Ke[ot],st=Ke[ot+8],vt=Ke[ot+16],jt=Ke[ot+24],Ut=Ke[ot+32],Et=Ke[ot+40],Rt=Ke[ot+48];var Yr=rt+(rn=Ke[ot+56]),Ve=rt-rn,it=st+Rt,pt=st-Rt,Tt=vt+Et,Yt=vt-Et,Ot=jt+Ut,Wt=jt-Ut,gn=Yr+Ot,nr=Yr-Ot,Bn=it+Tt,Yn=it-Tt;Ke[ot]=gn+Bn,Ke[ot+32]=gn-Bn;var an=.707106781*(Yn+nr);Ke[ot+16]=nr+an,Ke[ot+48]=nr-an;var St=.382683433*((gn=Wt+Yt)-(Yn=pt+Ve)),gs=.5411961*gn+St,$n=1.306562965*Yn+St,or=.707106781*(Bn=Yt+pt),Xr=Ve+or,Ks=Ve-or;Ke[ot+40]=Ks+gs,Ke[ot+24]=Ks-gs,Ke[ot+8]=Xr+$n,Ke[ot+56]=Xr-$n,ot++}for(It=0;It<64;++It)$t=Ke[It]*et[It],y[It]=$t>0?$t+.5|0:$t-.5|0;return y}(M,X),je=0;je<64;++je)T[U[je]]=xe[je];var ze=T[0]-ie;ie=T[0],ze==0?Ae(he[0]):(Ae(he[w[ne=32767+ze]]),Ae(g[ne]));for(var He=63;He>0&&T[He]==0;)He--;if(He==0)return Ae(ce),ie;for(var ht,Oe=1;Oe<=He;){for(var ue=Oe;T[Oe]==0&&Oe<=He;)++Oe;var xt=Oe-ue;if(xt>=16){ht=xt>>4;for(var ut=1;ut<=ht;++ut)Ae(ge);xt&=15}ne=32767+T[Oe],Ae(me[(xt<<4)+w[ne]]),Ae(g[ne]),Oe++}return He!=63&&Ae(ce),ie}function oe(M){M=Math.min(Math.max(M,1),100),i!=M&&(function(X){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var me=a((ie[he]*X+50)/100);me=Math.min(Math.max(me,1),255),c[U[he]]=me}for(var ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var ge=a((ne[ce]*X+50)/100);ge=Math.min(Math.max(ge,1),255),u[U[ce]]=ge}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,ze=0;ze<8;ze++)for(var He=0;He<8;He++)d[je]=1/(c[U[je]]*xe[ze]*xe[He]*8),p[je]=1/(u[U[je]]*xe[ze]*xe[He]*8),je++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,X){X&&oe(X),E=new Array,P=0,I=7,ye(65496),ye(65504),ye(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),ye(1),ye(1),re(0),re(0),function(){ye(65499),ye(132),re(0);for(var st=0;st<64;st++)re(c[st]);re(1);for(var vt=0;vt<64;vt++)re(u[vt])}(),function(st,vt){ye(65472),ye(17),re(8),ye(vt),ye(st),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(M.width,M.height),function(){ye(65476),ye(418),re(0);for(var st=0;st<16;st++)re(k[st+1]);for(var vt=0;vt<=11;vt++)re(B[vt]);re(16);for(var jt=0;jt<16;jt++)re(W[jt+1]);for(var Ut=0;Ut<=161;Ut++)re(j[Ut]);re(1);for(var Et=0;Et<16;Et++)re(D[Et+1]);for(var Rt=0;Rt<=11;Rt++)re(V[Rt]);re(17);for(var rn=0;rn<16;rn++)re(ee[rn+1]);for(var It=0;It<=161;It++)re(Ee[It])}(),ye(65498),ye(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var ie=0,he=0,me=0;P=0,I=7,this.encode.displayName="_encode_";for(var ne,ce,ge,xe,je,ze,He,ht,Oe,ue=M.data,xt=M.width,ut=M.height,Ke=4*xt,et=0;et<ut;){for(ne=0;ne<Ke;){for(je=Ke*et+ne,He=-1,ht=0,Oe=0;Oe<64;Oe++)ze=je+(ht=Oe>>3)*Ke+(He=4*(7&Oe)),et+ht>=ut&&(ze-=Ke*(et+1+ht-ut)),ne+He>=Ke&&(ze-=ne+He-Ke+4),ce=ue[ze++],ge=ue[ze++],xe=ue[ze++],L[Oe]=(le[ce]+le[ge+256>>0]+le[xe+512>>0]>>16)-128,F[Oe]=(le[ce+768>>0]+le[ge+1024>>0]+le[xe+1280>>0]>>16)-128,H[Oe]=(le[ce+1280>>0]+le[ge+1536>>0]+le[xe+1792>>0]>>16)-128;ie=fe(L,d,ie,e,r),he=fe(F,p,he,t,s),me=fe(H,p,me,t,s),ne+=32}et+=8}if(I>=0){var rt=[];rt[1]=I+1,rt[0]=(1<<I+1)-1,Ae(rt)}return ye(65497),new Uint8Array(E)},n=n||50,function(){for(var M=String.fromCharCode,X=0;X<256;X++)te[X]=M(X)}(),e=de(k,B),t=de(D,V),r=de(W,j),s=de(ee,Ee),function(){for(var M=1,X=2,ie=1;ie<=15;ie++){for(var he=M;he<X;he++)w[32767+he]=ie,g[32767+he]=[],g[32767+he][1]=ie,g[32767+he][0]=he;for(var me=-(X-1);me<=-M;me++)w[32767+me]=ie,g[32767+me]=[],g[32767+me][1]=ie,g[32767+me][0]=X-1+me;M<<=1,X<<=1}}(),function(){for(var M=0;M<256;M++)le[M]=19595*M,le[M+256>>0]=38470*M,le[M+512>>0]=7471*M+32768,le[M+768>>0]=-11059*M,le[M+1024>>0]=-21709*M,le[M+1280>>0]=32768*M+8421375,le[M+1536>>0]=-27439*M,le[M+1792>>0]=-5329*M}(),oe(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ya(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function l_(n){function e(k){if(!k)throw Error("assert :P")}function t(k,B,W){for(var j=0;4>j;j++)if(k[B+j]!=W.charCodeAt(j))return!0;return!1}function r(k,B,W,j,D){for(var V=0;V<D;V++)k[B+V]=W[j+V]}function s(k,B,W,j){for(var D=0;D<j;D++)k[B+D]=W}function i(k){return new Int32Array(k)}function a(k,B){for(var W=[],j=0;j<k;j++)W.push(new B);return W}function c(k,B){var W=[];return function j(D,V,ee){for(var Ee=ee[V],de=0;de<Ee&&(D.push(ee.length>V+1?[]:new B),!(ee.length<V+1));de++)j(D[de],V+1,ee)}(W,0,k),W}var u=function(){var k=this;function B(f,x){for(var A=1<<x-1>>>0;f&A;)A>>>=1;return A?(f&A-1)+A:f}function W(f,x,A,R,q){e(!(R%A));do f[x+(R-=A)]=q;while(0<R)}function j(f,x,A,R,q){if(e(2328>=q),512>=q)var G=i(512);else if((G=i(q))==null)return 0;return function(Y,Q,Z,se,we,Ie){var ke,Pe,We=Q,Fe=1<<Z,_e=i(16),Se=i(16);for(e(we!=0),e(se!=null),e(Y!=null),e(0<Z),Pe=0;Pe<we;++Pe){if(15<se[Pe])return 0;++_e[se[Pe]]}if(_e[0]==we)return 0;for(Se[1]=0,ke=1;15>ke;++ke){if(_e[ke]>1<<ke)return 0;Se[ke+1]=Se[ke]+_e[ke]}for(Pe=0;Pe<we;++Pe)ke=se[Pe],0<se[Pe]&&(Ie[Se[ke]++]=Pe);if(Se[15]==1)return(se=new D).g=0,se.value=Ie[0],W(Y,We,1,Fe,se),Fe;var qe,Ue=-1,$e=Fe-1,ft=0,lt=1,kt=1,ct=1<<Z;for(Pe=0,ke=1,we=2;ke<=Z;++ke,we<<=1){if(lt+=kt<<=1,0>(kt-=_e[ke]))return 0;for(;0<_e[ke];--_e[ke])(se=new D).g=ke,se.value=Ie[Pe++],W(Y,We+ft,we,ct,se),ft=B(ft,ke)}for(ke=Z+1,we=2;15>=ke;++ke,we<<=1){if(lt+=kt<<=1,0>(kt-=_e[ke]))return 0;for(;0<_e[ke];--_e[ke]){if(se=new D,(ft&$e)!=Ue){for(We+=ct,qe=1<<(Ue=ke)-Z;15>Ue&&!(0>=(qe-=_e[Ue]));)++Ue,qe<<=1;Fe+=ct=1<<(qe=Ue-Z),Y[Q+(Ue=ft&$e)].g=qe+Z,Y[Q+Ue].value=We-Q-Ue}se.g=ke-Z,se.value=Ie[Pe++],W(Y,We+(ft>>Z),we,ct,se),ft=B(ft,ke)}}return lt!=2*Se[15]-1?0:Fe}(f,x,A,R,q,G)}function D(){this.value=this.g=0}function V(){this.value=this.g=0}function ee(){this.G=a(5,D),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(yr,V)}function Ee(f,x,A,R){e(f!=null),e(x!=null),e(2147483648>R),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=x,f.pa=A,f.Jd=x,f.Yc=A+R,f.Zc=4<=R?A+R-4+1:A,ne(f)}function de(f,x){for(var A=0;0<x--;)A|=ge(f,128)<<x;return A}function Ae(f,x){var A=de(f,x);return ce(f)?-A:A}function re(f,x,A,R){var q,G=0;for(e(f!=null),e(x!=null),e(4294967288>R),f.Sb=R,f.Ra=0,f.u=0,f.h=0,4<R&&(R=4),q=0;q<R;++q)G+=x[A+q]<<8*q;f.Ra=G,f.bb=R,f.oa=x,f.pa=A}function ye(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<hc-8>>>0,++f.bb,f.u-=8;ie(f)&&(f.h=1,f.u=0)}function fe(f,x){if(e(0<=x),!f.h&&x<=uc){var A=X(f)&cc[x];return f.u+=x,ye(f),A}return f.h=1,f.u=0}function oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(f){return f.Ra>>>(f.u&hc-1)>>>0}function ie(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>hc}function he(f,x){f.u=x,f.h=ie(f)}function me(f){f.u>=dc&&(e(f.u>=dc),ye(f))}function ne(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function ce(f){return de(f,1)}function ge(f,x){var A=f.Ca;0>f.b&&ne(f);var R=f.b,q=A*x>>>8,G=(f.I>>>R>q)+0;for(G?(A-=q,f.I-=q+1<<R>>>0):A=q+1,R=A,q=0;256<=R;)q+=8,R>>=8;return R=7^q+Os[R],f.b-=R,f.Ca=(A<<R)-1,G}function xe(f,x,A){f[x+0]=A>>24&255,f[x+1]=A>>16&255,f[x+2]=A>>8&255,f[x+3]=A>>0&255}function je(f,x){return f[x+0]<<0|f[x+1]<<8}function ze(f,x){return je(f,x)|f[x+2]<<16}function He(f,x){return je(f,x)|je(f,x+2)<<16}function ht(f,x){var A=1<<x;return e(f!=null),e(0<x),f.X=i(A),f.X==null?0:(f.Mb=32-x,f.Xa=x,1)}function Oe(f,x){e(f!=null),e(x!=null),e(f.Xa==x.Xa),r(x.X,0,f.X,0,1<<x.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function xt(f,x,A,R){e(A!=null),e(R!=null);var q=A[0],G=R[0];return q==0&&(q=(f*G+x/2)/x),G==0&&(G=(x*q+f/2)/f),0>=q||0>=G?0:(A[0]=q,R[0]=G,1)}function ut(f,x){return f+(1<<x)-1>>>x}function Ke(f,x){return((4278255360&f)+(4278255360&x)>>>0&4278255360)+((16711935&f)+(16711935&x)>>>0&16711935)>>>0}function et(f,x){k[x]=function(A,R,q,G,Y,Q,Z){var se;for(se=0;se<Y;++se){var we=k[f](Q[Z+se-1],q,G+se);Q[Z+se]=Ke(A[R+se],we)}}}function rt(){this.ud=this.hd=this.jd=0}function st(f,x){return((4278124286&(f^x))>>>1)+(f&x)>>>0}function vt(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function jt(f,x){return vt(f+(f-x+.5>>1))}function Ut(f,x,A){return Math.abs(x-A)-Math.abs(f-A)}function Et(f,x,A,R,q,G,Y){for(R=G[Y-1],A=0;A<q;++A)G[Y+A]=R=Ke(f[x+A],R)}function Rt(f,x,A,R,q){var G;for(G=0;G<A;++G){var Y=f[x+G],Q=Y>>8&255,Z=16711935&(Z=(Z=16711935&Y)+((Q<<16)+Q));R[q+G]=(4278255360&Y)+Z>>>0}}function rn(f,x){x.jd=f>>0&255,x.hd=f>>8&255,x.ud=f>>16&255}function It(f,x,A,R,q,G){var Y;for(Y=0;Y<R;++Y){var Q=x[A+Y],Z=Q>>>8,se=Q,we=255&(we=(we=Q>>>16)+((f.jd<<24>>24)*(Z<<24>>24)>>>5));se=255&(se=(se=se+((f.hd<<24>>24)*(Z<<24>>24)>>>5))+((f.ud<<24>>24)*(we<<24>>24)>>>5)),q[G+Y]=(4278255360&Q)+(we<<16)+se}}function $t(f,x,A,R,q){k[x]=function(G,Y,Q,Z,se,we,Ie,ke,Pe){for(Z=Ie;Z<ke;++Z)for(Ie=0;Ie<Pe;++Ie)se[we++]=q(Q[R(G[Y++])])},k[f]=function(G,Y,Q,Z,se,we,Ie){var ke=8>>G.b,Pe=G.Ea,We=G.K[0],Fe=G.w;if(8>ke)for(G=(1<<G.b)-1,Fe=(1<<ke)-1;Y<Q;++Y){var _e,Se=0;for(_e=0;_e<Pe;++_e)_e&G||(Se=R(Z[se++])),we[Ie++]=q(We[Se&Fe]),Se>>=ke}else k["VP8LMapColor"+A](Z,se,We,Fe,we,Ie,Y,Q,Pe)}}function ot(f,x,A,R,q){for(A=x+A;x<A;){var G=f[x++];R[q++]=G>>16&255,R[q++]=G>>8&255,R[q++]=G>>0&255}}function er(f,x,A,R,q){for(A=x+A;x<A;){var G=f[x++];R[q++]=G>>16&255,R[q++]=G>>8&255,R[q++]=G>>0&255,R[q++]=G>>24&255}}function sn(f,x,A,R,q){for(A=x+A;x<A;){var G=(Y=f[x++])>>16&240|Y>>12&15,Y=Y>>0&240|Y>>28&15;R[q++]=G,R[q++]=Y}}function Tr(f,x,A,R,q){for(A=x+A;x<A;){var G=(Y=f[x++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;R[q++]=G,R[q++]=Y}}function dn(f,x,A,R,q){for(A=x+A;x<A;){var G=f[x++];R[q++]=G>>0&255,R[q++]=G>>8&255,R[q++]=G>>16&255}}function Nn(f,x,A,R,q,G){if(G==0)for(A=x+A;x<A;)xe(R,((G=f[x++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),q+=32;else r(R,q,f,x,A)}function ms(f,x){k[x][0]=k[f+"0"],k[x][1]=k[f+"1"],k[x][2]=k[f+"2"],k[x][3]=k[f+"3"],k[x][4]=k[f+"4"],k[x][5]=k[f+"5"],k[x][6]=k[f+"6"],k[x][7]=k[f+"7"],k[x][8]=k[f+"8"],k[x][9]=k[f+"9"],k[x][10]=k[f+"10"],k[x][11]=k[f+"11"],k[x][12]=k[f+"12"],k[x][13]=k[f+"13"],k[x][14]=k[f+"0"],k[x][15]=k[f+"0"]}function on(f){return f==vc||f==Al||f==Eu||f==Tu}function Gs(){this.eb=[],this.size=this.A=this.fb=0}function Ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function tr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Gs,this.f.kb=new Ln,this.sd=null}function Nr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Pt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function cn(f,x){var A=f.T,R=x.ba.f.RGBA,q=R.eb,G=R.fb+f.ka*R.A,Y=Zs[x.ba.S],Q=f.y,Z=f.O,se=f.f,we=f.N,Ie=f.ea,ke=f.W,Pe=x.cc,We=x.dc,Fe=x.Mc,_e=x.Nc,Se=f.ka,qe=f.ka+f.T,Ue=f.U,$e=Ue+1>>1;for(Se==0?Y(Q,Z,null,null,se,we,Ie,ke,se,we,Ie,ke,q,G,null,null,Ue):(Y(x.ec,x.fc,Q,Z,Pe,We,Fe,_e,se,we,Ie,ke,q,G-R.A,q,G,Ue),++A);Se+2<qe;Se+=2)Pe=se,We=we,Fe=Ie,_e=ke,we+=f.Rc,ke+=f.Rc,G+=2*R.A,Y(Q,(Z+=2*f.fa)-f.fa,Q,Z,Pe,We,Fe,_e,se,we,Ie,ke,q,G-R.A,q,G,Ue);return Z+=f.fa,f.j+qe<f.o?(r(x.ec,x.fc,Q,Z,Ue),r(x.cc,x.dc,se,we,$e),r(x.Mc,x.Nc,Ie,ke,$e),A--):1&qe||Y(Q,Z,null,null,se,we,Ie,ke,se,we,Ie,ke,q,G+R.A,null,null,Ue),A}function ns(f,x,A){var R=f.F,q=[f.J];if(R!=null){var G=f.U,Y=x.ba.S,Q=Y==Au||Y==Eu;x=x.ba.f.RGBA;var Z=[0],se=f.ka;Z[0]=f.T,f.Kb&&(se==0?--Z[0]:(--se,q[0]-=f.width),f.j+f.ka+f.T==f.o&&(Z[0]=f.o-f.j-se));var we=x.eb;se=x.fb+se*x.A,f=Mn(R,q[0],f.width,G,Z,we,se+(Q?0:3),x.A),e(A==Z),f&&on(Y)&&Qs(we,se,Q,G,Z,x.A)}return 0}function ir(f){var x=f.ma,A=x.ba.S,R=11>A,q=A==Fa||A==Su||A==Au||A==Gn||A==12||on(A);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!ac(x.Oa,f,q?11:12))return 0;if(q&&on(A)&&Ye(),f.da)alert("todo:use_scaling");else{if(R){if(x.Ib=Pt,f.Kb){if(A=f.U+1>>1,x.memory=i(f.U+2*A),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+f.U,x.Mc=x.cc,x.Nc=x.dc+A,x.Ib=cn,Ye()}}else alert("todo:EmitYUV");q&&(x.Jb=ns,R&&Ce())}if(R&&!hs){for(f=0;256>f;++f)ei[f]=89858*(f-128)+lo>>sa,ti[f]=-22014*(f-128)+lo,_c[f]=-45773*(f-128),Pl[f]=113618*(f-128)+lo>>sa;for(f=Fn;f<Un;++f)x=76283*(f-16)+lo>>sa,yh[f-Fn]=Cn(x,255),ep[f-Fn]=Cn(x+8>>4,15);hs=1}return 1}function Pr(f){var x=f.ma,A=f.U,R=f.T;return e(!(1&f.ka)),0>=A||0>=R?0:(A=x.Ib(f,x),x.Jb!=null&&x.Jb(f,x,A),x.Dc+=A,1)}function Kr(f){f.ma.memory=null}function dt(f,x,A,R){return fe(f,8)!=47?0:(x[0]=fe(f,14)+1,A[0]=fe(f,14)+1,R[0]=fe(f,1),fe(f,3)!=0?0:!f.h)}function Yr(f,x){if(4>f)return f+1;var A=f-2>>1;return(2+(1&f)<<A)+fe(x,A)+1}function Ve(f,x){return 120<x?x-120:1<=(A=((A=Ug[x-1])>>4)*f+(8-(15&A)))?A:1;var A}function it(f,x,A){var R=X(A),q=f[x+=255&R].g-8;return 0<q&&(he(A,A.u+8),R=X(A),x+=f[x].value,x+=R&(1<<q)-1),he(A,A.u+f[x].g),f[x].value}function pt(f,x,A){return A.g+=f.g,A.value+=f.value<<x>>>0,e(8>=A.g),f.g}function Tt(f,x,A){var R=f.xc;return e((x=R==0?0:f.vc[f.md*(A>>R)+(x>>R)])<f.Wb),f.Ya[x]}function Yt(f,x,A,R){var q=f.ab,G=f.c*x,Y=f.C;x=Y+x;var Q=A,Z=R;for(R=f.Ta,A=f.Ua;0<q--;){var se=f.gc[q],we=Y,Ie=x,ke=Q,Pe=Z,We=(Z=R,Q=A,se.Ea);switch(e(we<Ie),e(Ie<=se.nc),se.hc){case 2:dh(ke,Pe,(Ie-we)*We,Z,Q);break;case 0:var Fe=we,_e=Ie,Se=Z,qe=Q,Ue=(ct=se).Ea;Fe==0&&(vl(ke,Pe,null,null,1,Se,qe),Et(ke,Pe+1,0,0,Ue-1,Se,qe+1),Pe+=Ue,qe+=Ue,++Fe);for(var $e=1<<ct.b,ft=$e-1,lt=ut(Ue,ct.b),kt=ct.K,ct=ct.w+(Fe>>ct.b)*lt;Fe<_e;){var xn=kt,bn=ct,fn=1;for(Xo(ke,Pe,Se,qe-Ue,1,Se,qe);fn<Ue;){var nn=(fn&~ft)+$e;nn>Ue&&(nn=Ue),(0,Co[xn[bn++]>>8&15])(ke,Pe+ +fn,Se,qe+fn-Ue,nn-fn,Se,qe+fn),fn=nn}Pe+=Ue,qe+=Ue,++Fe&ft||(ct+=lt)}Ie!=se.nc&&r(Z,Q-We,Z,Q+(Ie-we-1)*We,We);break;case 1:for(We=ke,_e=Pe,Ue=(ke=se.Ea)-(qe=ke&~(Se=(Pe=1<<se.b)-1)),Fe=ut(ke,se.b),$e=se.K,se=se.w+(we>>se.b)*Fe;we<Ie;){for(ft=$e,lt=se,kt=new rt,ct=_e+qe,xn=_e+ke;_e<ct;)rn(ft[lt++],kt),Da(kt,We,_e,Pe,Z,Q),_e+=Pe,Q+=Pe;_e<xn&&(rn(ft[lt++],kt),Da(kt,We,_e,Ue,Z,Q),_e+=Ue,Q+=Ue),++we&Se||(se+=Fe)}break;case 3:if(ke==Z&&Pe==Q&&0<se.b){for(_e=Z,ke=We=Q+(Ie-we)*We-(qe=(Ie-we)*ut(se.Ea,se.b)),Pe=Z,Se=Q,Fe=[],qe=(Ue=qe)-1;0<=qe;--qe)Fe[qe]=Pe[Se+qe];for(qe=Ue-1;0<=qe;--qe)_e[ke+qe]=Fe[qe];Ms(se,we,Ie,Z,We,Z,Q)}else Ms(se,we,Ie,ke,Pe,Z,Q)}Q=R,Z=A}Z!=A&&r(R,A,Q,Z,G)}function Ot(f,x){var A=f.V,R=f.Ba+f.c*f.C,q=x-f.C;if(e(x<=f.l.o),e(16>=q),0<q){var G=f.l,Y=f.Ta,Q=f.Ua,Z=G.width;if(Yt(f,q,A,R),q=Q=[Q],e((A=f.C)<(R=x)),e(G.v<G.va),R>G.o&&(R=G.o),A<G.j){var se=G.j-A;A=G.j,q[0]+=se*Z}if(A>=R?A=0:(q[0]+=4*G.v,G.ka=A-G.j,G.U=G.va-G.v,G.T=R-A,A=1),A){if(Q=Q[0],11>(A=f.ca).S){var we=A.f.RGBA,Ie=(R=A.S,q=G.U,G=G.T,se=we.eb,we.A),ke=G;for(we=we.fb+f.Ma*we.A;0<ke--;){var Pe=Y,We=Q,Fe=q,_e=se,Se=we;switch(R){case fh:Fs(Pe,We,Fe,_e,Se);break;case Fa:xs(Pe,We,Fe,_e,Se);break;case vc:xs(Pe,We,Fe,_e,Se),Qs(_e,Se,0,Fe,1,0);break;case Yf:Jo(Pe,We,Fe,_e,Se);break;case Su:Nn(Pe,We,Fe,_e,Se,1);break;case Al:Nn(Pe,We,Fe,_e,Se,1),Qs(_e,Se,0,Fe,1,0);break;case Au:Nn(Pe,We,Fe,_e,Se,0);break;case Eu:Nn(Pe,We,Fe,_e,Se,0),Qs(_e,Se,1,Fe,1,0);break;case Gn:Oa(Pe,We,Fe,_e,Se);break;case Tu:Oa(Pe,We,Fe,_e,Se),Wn(_e,Se,Fe,1,0);break;case ph:Qo(Pe,We,Fe,_e,Se);break;default:e(0)}Q+=Z,we+=Ie}f.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=A.height)}}f.C=x,e(f.C<=f.i)}function Wt(f){var x;if(0<f.ua)return 0;for(x=0;x<f.Wb;++x){var A=f.Ya[x].G,R=f.Ya[x].H;if(0<A[1][R[1]+0].g||0<A[2][R[2]+0].g||0<A[3][R[3]+0].g)return 0}return 1}function gn(f,x,A,R,q,G){if(f.Z!=0){var Y=f.qd,Q=f.rd;for(e(_s[f.Z]!=null);x<A;++x)_s[f.Z](Y,Q,R,q,R,q,G),Y=R,Q=q,q+=G;f.qd=Y,f.rd=Q}}function nr(f,x){var A=f.l.ma,R=A.Z==0||A.Z==1?f.l.j:f.C;if(R=f.C<R?R:f.C,e(x<=f.l.o),x>R){var q=f.l.width,G=A.ca,Y=A.tb+q*R,Q=f.V,Z=f.Ba+f.c*R,se=f.gc;e(f.ab==1),e(se[0].hc==3),xu(se[0],R,x,Q,Z,G,Y),gn(A,R,x,G,Y,q)}f.C=f.Ma=x}function Bn(f,x,A,R,q,G,Y){var Q=f.$/R,Z=f.$%R,se=f.m,we=f.s,Ie=A+f.$,ke=Ie;q=A+R*q;var Pe=A+R*G,We=280+we.ua,Fe=f.Pb?Q:16777216,_e=0<we.ua?we.Wa:null,Se=we.wc,qe=Ie<Pe?Tt(we,Z,Q):null;e(f.C<G),e(Pe<=q);var Ue=!1;e:for(;;){for(;Ue||Ie<Pe;){var $e=0;if(Q>=Fe){var ft=Ie-A;e((Fe=f).Pb),Fe.wd=Fe.m,Fe.xd=ft,0<Fe.s.ua&&Oe(Fe.s.Wa,Fe.s.vb),Fe=Q+gh}if(Z&Se||(qe=Tt(we,Z,Q)),e(qe!=null),qe.Qb&&(x[Ie]=qe.qb,Ue=!0),!Ue)if(me(se),qe.jc){$e=se,ft=x;var lt=Ie,kt=qe.pd[X($e)&yr-1];e(qe.jc),256>kt.g?(he($e,$e.u+kt.g),ft[lt]=kt.value,$e=0):(he($e,$e.u+kt.g-256),e(256<=kt.value),$e=kt.value),$e==0&&(Ue=!0)}else $e=it(qe.G[0],qe.H[0],se);if(se.h)break;if(Ue||256>$e){if(!Ue)if(qe.nd)x[Ie]=(qe.qb|$e<<8)>>>0;else{if(me(se),Ue=it(qe.G[1],qe.H[1],se),me(se),ft=it(qe.G[2],qe.H[2],se),lt=it(qe.G[3],qe.H[3],se),se.h)break;x[Ie]=(lt<<24|Ue<<16|$e<<8|ft)>>>0}if(Ue=!1,++Ie,++Z>=R&&(Z=0,++Q,Y!=null&&Q<=G&&!(Q%16)&&Y(f,Q),_e!=null))for(;ke<Ie;)$e=x[ke++],_e.X[(506832829*$e&4294967295)>>>_e.Mb]=$e}else if(280>$e){if($e=Yr($e-256,se),ft=it(qe.G[4],qe.H[4],se),me(se),ft=Ve(R,ft=Yr(ft,se)),se.h)break;if(Ie-A<ft||q-Ie<$e)break e;for(lt=0;lt<$e;++lt)x[Ie+lt]=x[Ie+lt-ft];for(Ie+=$e,Z+=$e;Z>=R;)Z-=R,++Q,Y!=null&&Q<=G&&!(Q%16)&&Y(f,Q);if(e(Ie<=q),Z&Se&&(qe=Tt(we,Z,Q)),_e!=null)for(;ke<Ie;)$e=x[ke++],_e.X[(506832829*$e&4294967295)>>>_e.Mb]=$e}else{if(!($e<We))break e;for(Ue=$e-280,e(_e!=null);ke<Ie;)$e=x[ke++],_e.X[(506832829*$e&4294967295)>>>_e.Mb]=$e;$e=Ie,e(!(Ue>>>(ft=_e).Xa)),x[$e]=ft.X[Ue],Ue=!0}Ue||e(se.h==ie(se))}if(f.Pb&&se.h&&Ie<q)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Oe(f.s.vb,f.s.Wa);else{if(se.h)break e;Y!=null&&Y(f,Q>G?G:Q),f.a=0,f.$=Ie-A}return 1}return f.a=3,0}function Yn(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var x=f.Wa;x!=null&&(x.X=null),f.vb=null,e(f!=null)}function an(){var f=new oc;return f==null?null:(f.a=0,f.xb=xc,ms("Predictor","VP8LPredictors"),ms("Predictor","VP8LPredictors_C"),ms("PredictorAdd","VP8LPredictorsAdd"),ms("PredictorAdd","VP8LPredictorsAdd_C"),dh=Rt,Da=It,Fs=ot,xs=er,Oa=sn,Qo=Tr,Jo=dn,k.VP8LMapColor32b=fc,k.VP8LMapColor8b=pc,f)}function St(f,x,A,R,q){var G=1,Y=[f],Q=[x],Z=R.m,se=R.s,we=null,Ie=0;e:for(;;){if(A)for(;G&&fe(Z,1);){var ke=Y,Pe=Q,We=R,Fe=1,_e=We.m,Se=We.gc[We.ab],qe=fe(_e,2);if(We.Oc&1<<qe)G=0;else{switch(We.Oc|=1<<qe,Se.hc=qe,Se.Ea=ke[0],Se.nc=Pe[0],Se.K=[null],++We.ab,e(4>=We.ab),qe){case 0:case 1:Se.b=fe(_e,3)+2,Fe=St(ut(Se.Ea,Se.b),ut(Se.nc,Se.b),0,We,Se.K),Se.K=Se.K[0];break;case 3:var Ue,$e=fe(_e,8)+1,ft=16<$e?0:4<$e?1:2<$e?2:3;if(ke[0]=ut(Se.Ea,ft),Se.b=ft,Ue=Fe=St($e,1,0,We,Se.K)){var lt,kt=$e,ct=Se,xn=1<<(8>>ct.b),bn=i(xn);if(bn==null)Ue=0;else{var fn=ct.K[0],nn=ct.w;for(bn[0]=ct.K[0][0],lt=1;lt<1*kt;++lt)bn[lt]=Ke(fn[nn+lt],bn[lt-1]);for(;lt<4*xn;++lt)bn[lt]=0;ct.K[0]=null,ct.K[0]=bn,Ue=1}}Fe=Ue;break;case 2:break;default:e(0)}G=Fe}}if(Y=Y[0],Q=Q[0],G&&fe(Z,1)&&!(G=1<=(Ie=fe(Z,4))&&11>=Ie)){R.a=3;break e}var Vn;if(Vn=G)t:{var zn,Ht,cr,Us=R,br=Y,Mr=Q,In=Ie,Ss=A,As=Us.m,ur=Us.s,Fr=[null],ds=1,ni=0,zi=Qf[In];n:for(;;){if(Ss&&fe(As,1)){var hr=fe(As,3)+2,kr=ut(br,hr),Ei=ut(Mr,hr),Ua=kr*Ei;if(!St(kr,Ei,0,Us,Fr))break n;for(Fr=Fr[0],ur.xc=hr,zn=0;zn<Ua;++zn){var oa=Fr[zn]>>8&65535;Fr[zn]=oa,oa>=ds&&(ds=oa+1)}}if(As.h)break n;for(Ht=0;5>Ht;++Ht){var kn=El[Ht];!Ht&&0<In&&(kn+=1<<In),ni<kn&&(ni=kn)}var jo=a(ds*zi,D),vh=ds,Dd=a(vh,ee);if(Dd==null)var qi=null;else e(65536>=vh),qi=Dd;var $i=i(ni);if(qi==null||$i==null||jo==null){Us.a=1;break n}var Il=jo;for(zn=cr=0;zn<ds;++zn){var Hi=qi[zn],aa=Hi.G,kl=Hi.H,Sc=0,Ti=1,Ac=0;for(Ht=0;5>Ht;++Ht){kn=El[Ht],aa[Ht]=Il,kl[Ht]=cr,!Ht&&0<In&&(kn+=1<<In);s:{var za,la=kn,Ec=Us,Do=$i,np=Il,Od=cr,Qn=0,co=Ec.m,Md=fe(co,1);if(s(Do,0,0,la),Md){var Fd=fe(co,1)+1,wh=fe(co,1),xh=fe(co,wh==0?1:8);Do[xh]=1,Fd==2&&(Do[xh=fe(co,8)]=1);var Oo=1}else{var rr=i(19),Rr=fe(co,4)+4;if(19<Rr){Ec.a=3;var _r=0;break s}for(za=0;za<Rr;++za)rr[Bg[za]]=fe(co,3);var Tc=void 0,ca=void 0,Nc=Ec,Wg=rr,Vr=la,bh=Do,ku=0,Mo=Nc.m,uo=8,Ni=a(128,D);r:for(;j(Ni,0,7,Wg,19);){if(fe(Mo,1)){var Ru=2+2*fe(Mo,3);if((Tc=2+fe(Mo,Ru))>Vr)break r}else Tc=Vr;for(ca=0;ca<Vr&&Tc--;){me(Mo);var _h=Ni[0+(127&X(Mo))];he(Mo,Mo.u+_h.g);var qa=_h.value;if(16>qa)bh[ca++]=qa,qa!=0&&(uo=qa);else{var rp=qa==16,Vd=qa-16,sp=mh[Vd],Bd=fe(Mo,Nu[Vd])+sp;if(ca+Bd>Vr)break r;for(var ip=rp?uo:0;0<Bd--;)bh[ca++]=ip}}ku=1;break r}ku||(Nc.a=3),Oo=ku}(Oo=Oo&&!co.h)&&(Qn=j(np,Od,8,Do,la)),Oo&&Qn!=0?_r=Qn:(Ec.a=3,_r=0)}if(_r==0)break n;if(Ti&&Xf[Ht]==1&&(Ti=Il[cr].g==0),Sc+=Il[cr].g,cr+=_r,3>=Ht){var Pc,Sh=$i[0];for(Pc=1;Pc<kn;++Pc)$i[Pc]>Sh&&(Sh=$i[Pc]);Ac+=Sh}}if(Hi.nd=Ti,Hi.Qb=0,Ti&&(Hi.qb=(aa[3][kl[3]+0].value<<24|aa[1][kl[1]+0].value<<16|aa[2][kl[2]+0].value)>>>0,Sc==0&&256>aa[0][kl[0]+0].value&&(Hi.Qb=1,Hi.qb+=aa[0][kl[0]+0].value<<8)),Hi.jc=!Hi.Qb&&6>Ac,Hi.jc){var Lu,Pi=Hi;for(Lu=0;Lu<yr;++Lu){var ua=Lu,ho=Pi.pd[ua],Rl=Pi.G[0][Pi.H[0]+ua];256<=Rl.value?(ho.g=Rl.g+256,ho.value=Rl.value):(ho.g=0,ho.value=0,ua>>=pt(Rl,8,ho),ua>>=pt(Pi.G[1][Pi.H[1]+ua],16,ho),ua>>=pt(Pi.G[2][Pi.H[2]+ua],0,ho),pt(Pi.G[3][Pi.H[3]+ua],24,ho))}}}ur.vc=Fr,ur.Wb=ds,ur.Ya=qi,ur.yc=jo,Vn=1;break t}Vn=0}if(!(G=Vn)){R.a=3;break e}if(0<Ie){if(se.ua=1<<Ie,!ht(se.Wa,Ie)){R.a=1,G=0;break e}}else se.ua=0;var Ah=R,Eh=Y,op=Q,Th=Ah.s,Nh=Th.xc;if(Ah.c=Eh,Ah.i=op,Th.md=ut(Eh,Nh),Th.wc=Nh==0?-1:(1<<Nh)-1,A){R.xb=Lo;break e}if((we=i(Y*Q))==null){R.a=1,G=0;break e}G=(G=Bn(R,we,0,Y,Q,Q,null))&&!Z.h;break e}return G?(q!=null?q[0]=we:(e(we==null),e(A)),R.$=0,A||Yn(se)):Yn(se),G}function gs(f,x){var A=f.c*f.i,R=A+x+16*x;return e(f.c<=x),f.V=i(R),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+A+x,1)}function $n(f,x){var A=f.C,R=x-A,q=f.V,G=f.Ba+f.c*A;for(e(x<=f.l.o);0<R;){var Y=16<R?16:R,Q=f.l.ma,Z=f.l.width,se=Z*Y,we=Q.ca,Ie=Q.tb+Z*A,ke=f.Ta,Pe=f.Ua;Yt(f,Y,q,G),vr(ke,Pe,we,Ie,se),gn(Q,A,A+Y,we,Ie,Z),R-=Y,q+=Y*f.c,A+=Y}e(A==x),f.C=f.Ma=x}function or(){this.ub=this.yd=this.td=this.Rb=0}function Xr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ks(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Zi(){this.Yb=function(){var f=[];return function x(A,R,q){for(var G=q[R],Y=0;Y<G&&(A.push(q.length>R+1?[]:0),!(q.length<R+1));Y++)x(A[Y],R+1,q)}(f,0,[3,11]),f}()}function Ct(){this.jb=i(3),this.Wc=c([4,8],Zi),this.Xc=c([4,17],Zi)}function Hn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function pr(){this.ld=this.La=this.dd=this.tc=0}function ar(){this.Na=this.la=0}function rs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ri(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nc(){this.uc=this.M=this.Nb=0,this.wa=Array(new pr),this.Y=0,this.ya=Array(new Ri),this.aa=0,this.l=new $o}function vo(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Rs(){this.cb=this.a=0,this.sc="",this.m=new oe,this.Od=new or,this.Kc=new Xr,this.ed=new Hn,this.Qa=new Ks,this.Ic=this.$c=this.Aa=0,this.D=new nc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,oe),this.ia=0,this.pb=a(4,rs),this.Pa=new Ct,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vo),this.Hd=0,this.rb=Array(new ar),this.sb=0,this.wa=Array(new pr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ri),this.L=this.aa=0,this.gd=c([4,2],pr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $o(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ss(){var f=new Rs;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Tl||(Tl=Ho)),f}function Xn(f,x,A){return f.a==0&&(f.a=x,f.sc=A,f.cb=0),0}function hl(f,x,A){return 3<=A&&f[x+0]==157&&f[x+1]==1&&f[x+2]==42}function dl(f,x){if(f==null)return 0;if(f.a=0,f.sc="OK",x==null)return Xn(f,2,"null VP8Io passed to VP8GetHeaders()");var A=x.data,R=x.w,q=x.ha;if(4>q)return Xn(f,7,"Truncated header.");var G=A[R+0]|A[R+1]<<8|A[R+2]<<16,Y=f.Od;if(Y.Rb=!(1&G),Y.td=G>>1&7,Y.yd=G>>4&1,Y.ub=G>>5,3<Y.td)return Xn(f,3,"Incorrect keyframe parameters.");if(!Y.yd)return Xn(f,4,"Frame not displayable.");R+=3,q-=3;var Q=f.Kc;if(Y.Rb){if(7>q)return Xn(f,7,"cannot parse picture header");if(!hl(A,R,q))return Xn(f,3,"Bad code word");Q.c=16383&(A[R+4]<<8|A[R+3]),Q.Td=A[R+4]>>6,Q.i=16383&(A[R+6]<<8|A[R+5]),Q.Ud=A[R+6]>>6,R+=7,q-=7,f.za=Q.c+15>>4,f.Ub=Q.i+15>>4,x.width=Q.c,x.height=Q.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,s((G=f.Pa).jb,0,255,G.jb.length),e((G=f.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,s(G.Zb,0,0,G.Zb.length),s(G.Lb,0,0,G.Lb)}if(Y.ub>q)return Xn(f,7,"bad partition length");Ee(G=f.m,A,R,Y.ub),R+=Y.ub,q-=Y.ub,Y.Rb&&(Q.Ld=ce(G),Q.Kd=ce(G)),Q=f.Qa;var Z,se=f.Pa;if(e(G!=null),e(Q!=null),Q.Cb=ce(G),Q.Cb){if(Q.Bb=ce(G),ce(G)){for(Q.Fb=ce(G),Z=0;4>Z;++Z)Q.Zb[Z]=ce(G)?Ae(G,7):0;for(Z=0;4>Z;++Z)Q.Lb[Z]=ce(G)?Ae(G,6):0}if(Q.Bb)for(Z=0;3>Z;++Z)se.jb[Z]=ce(G)?de(G,8):255}else Q.Bb=0;if(G.Ka)return Xn(f,3,"cannot parse segment header");if((Q=f.ed).zd=ce(G),Q.Tb=de(G,6),Q.wb=de(G,3),Q.Pc=ce(G),Q.Pc&&ce(G)){for(se=0;4>se;++se)ce(G)&&(Q.vd[se]=Ae(G,6));for(se=0;4>se;++se)ce(G)&&(Q.od[se]=Ae(G,6))}if(f.L=Q.Tb==0?0:Q.zd?1:2,G.Ka)return Xn(f,3,"cannot parse filter header");var we=q;if(q=Z=R,R=Z+we,Q=we,f.Xb=(1<<de(f.m,2))-1,we<3*(se=f.Xb))A=7;else{for(Z+=3*se,Q-=3*se,we=0;we<se;++we){var Ie=A[q+0]|A[q+1]<<8|A[q+2]<<16;Ie>Q&&(Ie=Q),Ee(f.Jc[+we],A,Z,Ie),Z+=Ie,Q-=Ie,q+=3}Ee(f.Jc[+se],A,Z,Q),A=Z<R?0:5}if(A!=0)return Xn(f,A,"cannot parse partitions");for(A=de(Z=f.m,7),q=ce(Z)?Ae(Z,4):0,R=ce(Z)?Ae(Z,4):0,Q=ce(Z)?Ae(Z,4):0,se=ce(Z)?Ae(Z,4):0,Z=ce(Z)?Ae(Z,4):0,we=f.Qa,Ie=0;4>Ie;++Ie){if(we.Cb){var ke=we.Zb[Ie];we.Fb||(ke+=A)}else{if(0<Ie){f.pb[Ie]=f.pb[0];continue}ke=A}var Pe=f.pb[Ie];Pe.Sc[0]=wc[Cn(ke+q,127)],Pe.Sc[1]=Pu[Cn(ke+0,127)],Pe.Eb[0]=2*wc[Cn(ke+R,127)],Pe.Eb[1]=101581*Pu[Cn(ke+Q,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=wc[Cn(ke+se,117)],Pe.Qc[1]=Pu[Cn(ke+Z,127)],Pe.lc=ke+Z}if(!Y.Rb)return Xn(f,4,"Not a key frame.");for(ce(G),Y=f.Pa,A=0;4>A;++A){for(q=0;8>q;++q)for(R=0;3>R;++R)for(Q=0;11>Q;++Q)se=ge(G,qg[A][q][R][Q])?de(G,8):Zf[A][q][R][Q],Y.Wc[A][q].Yb[R][Q]=se;for(q=0;17>q;++q)Y.Xc[A][q]=Y.Wc[A][Rd[q]]}return f.kc=ce(G),f.kc&&(f.Bd=de(G,8)),f.cb=1}function Ho(f,x,A,R,q,G,Y){var Q=x[q].Yb[A];for(A=0;16>q;++q){if(!ge(f,Q[A+0]))return q;for(;!ge(f,Q[A+1]);)if(Q=x[++q].Yb[0],A=0,q==16)return 16;var Z=x[q+1].Yb;if(ge(f,Q[A+2])){var se=f,we=0;if(ge(se,(ke=Q)[(Ie=A)+3]))if(ge(se,ke[Ie+6])){for(Q=0,Ie=2*(we=ge(se,ke[Ie+8]))+(ke=ge(se,ke[Ie+9+we])),we=0,ke=Id[Ie];ke[Q];++Q)we+=we+ge(se,ke[Q]);we+=3+(8<<Ie)}else ge(se,ke[Ie+7])?(we=7+2*ge(se,165),we+=ge(se,145)):we=5+ge(se,159);else we=ge(se,ke[Ie+4])?3+ge(se,ke[Ie+5]):2;Q=Z[2]}else we=1,Q=Z[1];Z=Y+kd[q],0>(se=f).b&&ne(se);var Ie,ke=se.b,Pe=(Ie=se.Ca>>1)-(se.I>>ke)>>31;--se.b,se.Ca+=Pe,se.Ca|=1,se.I-=(Ie+1&Pe)<<ke,G[Z]=((we^Pe)-Pe)*R[(0<q)+0]}return 16}function wo(f){var x=f.rb[f.sb-1];x.la=0,x.Na=0,s(f.zc,0,0,f.zc.length),f.ja=0}function xo(f,x){if(f==null)return 0;if(x==null)return Xn(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!dl(f,x))return 0;if(e(f.cb),x.ac==null||x.ac(x)){x.ob&&(f.L=0);var A=Cl[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=x.v-A>>4,f.zb=x.j-A>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=x.o+15+A>>4,f.Hb=x.va+15+A>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var R=f.ed;for(A=0;4>A;++A){var q;if(f.Qa.Cb){var G=f.Qa.Lb[A];f.Qa.Fb||(G+=R.Tb)}else G=R.Tb;for(q=0;1>=q;++q){var Y=f.gd[A][q],Q=G;if(R.Pc&&(Q+=R.vd[0],q&&(Q+=R.od[0])),0<(Q=0>Q?0:63<Q?63:Q)){var Z=Q;0<R.wb&&(Z=4<R.wb?Z>>2:Z>>1)>9-R.wb&&(Z=9-R.wb),1>Z&&(Z=1),Y.dd=Z,Y.tc=2*Q+Z,Y.ld=40<=Q?2:15<=Q?1:0}else Y.tc=0;Y.La=q}}}A=0}else Xn(f,6,"Frame setup failed"),A=f.a;if(A=A==0){if(A){f.$c=0,0<f.Aa||(f.Ic=ia);e:{A=f.Ic,R=4*(Z=f.za);var se=32*Z,we=Z+1,Ie=0<f.L?Z*(0<f.Aa?2:1):0,ke=(f.Aa==2?2:1)*Z;if((Y=R+832+(q=3*(16*A+Cl[f.L])/2*se)+(G=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=Y)A=0;else{if(Y>f.Vb){if(f.Vb=0,f.Ec=i(Y),f.Fc=0,f.Ec==null){A=Xn(f,1,"no memory during frame initialization.");break e}f.Vb=Y}Y=f.Ec,Q=f.Fc,f.Ac=Y,f.Bc=Q,Q+=R,f.Gd=a(se,vo),f.Hd=0,f.rb=a(we+1,ar),f.sb=1,f.wa=Ie?a(Ie,pr):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=Z),e(!0),f.oc=Y,f.pc=Q,Q+=832,f.ya=a(ke,Ri),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=Z),f.R=16*Z,f.B=8*Z,Z=(se=Cl[f.L])*f.R,se=se/2*f.B,f.sa=Y,f.ta=Q+Z,f.qa=f.sa,f.ra=f.ta+16*A*f.R+se,f.Ha=f.qa,f.Ia=f.ra+8*A*f.B+se,f.$c=0,Q+=q,f.mb=G?Y:null,f.nb=G?Q:null,e(Q+G<=f.Fc+f.Vb),wo(f),s(f.Ac,f.Bc,0,R),A=1}}if(A){if(x.ka=0,x.y=f.sa,x.O=f.ta,x.f=f.qa,x.N=f.ra,x.ea=f.Ha,x.Vd=f.Ia,x.fa=f.R,x.Rc=f.B,x.F=null,x.J=0,!_u){for(A=-255;255>=A;++A)Ir[255+A]=0>A?-A:A;for(A=-1020;1020>=A;++A)ko[1020+A]=-128>A?-128:127<A?127:A;for(A=-112;112>=A;++A)gc[112+A]=-16>A?-16:15<A?15:A;for(A=-255;510>=A;++A)Sl[255+A]=0>A?0:255<A?255:A;_u=1}mc=ln,Zo=_o,ea=eo,bs=Dn,Si=to,An=bo,wl=Yo,bu=lr,xl=Mi,bl=gl,_l=bi,Ai=ro,ta=No,Io=Fi,na=vs,ra=js,Ma=gr,us=ml,Ui[0]=Oi,Ui[1]=rc,Ui[2]=Xs,Ui[3]=Di,Ui[4]=fl,Ui[5]=Ca,Ui[6]=as,Ui[7]=Ia,Ui[8]=Go,Ui[9]=no,Bs[0]=vi,Bs[1]=sc,Bs[2]=ji,Bs[3]=Wo,Bs[4]=wn,Bs[5]=wi,Bs[6]=Ys,Js[0]=ys,Js[1]=Pa,Js[2]=ic,Js[3]=Ls,Js[4]=Pn,Js[5]=Ao,Js[6]=pl,A=1}else A=0}A&&(A=function(Pe,We){for(Pe.M=0;Pe.M<Pe.Va;++Pe.M){var Fe,_e=Pe.Jc[Pe.M&Pe.Xb],Se=Pe.m,qe=Pe;for(Fe=0;Fe<qe.za;++Fe){var Ue=Se,$e=qe,ft=$e.Ac,lt=$e.Bc+4*Fe,kt=$e.zc,ct=$e.ya[$e.aa+Fe];if($e.Qa.Bb?ct.$b=ge(Ue,$e.Pa.jb[0])?2+ge(Ue,$e.Pa.jb[2]):ge(Ue,$e.Pa.jb[1]):ct.$b=0,$e.kc&&(ct.Ad=ge(Ue,$e.Bd)),ct.Za=!ge(Ue,145)+0,ct.Za){var xn=ct.Ob,bn=0;for($e=0;4>$e;++$e){var fn,nn=kt[0+$e];for(fn=0;4>fn;++fn){nn=zg[ft[lt+fn]][nn];for(var Vn=Jf[ge(Ue,nn[0])];0<Vn;)Vn=Jf[2*Vn+ge(Ue,nn[Vn])];nn=-Vn,ft[lt+fn]=nn}r(xn,bn,ft,lt,4),bn+=4,kt[0+$e]=nn}}else nn=ge(Ue,156)?ge(Ue,128)?1:3:ge(Ue,163)?2:0,ct.Ob[0]=nn,s(ft,lt,nn,4),s(kt,0,nn,4);ct.Dd=ge(Ue,142)?ge(Ue,114)?ge(Ue,183)?1:3:2:0}if(qe.m.Ka)return Xn(Pe,7,"Premature end-of-partition0 encountered.");for(;Pe.ja<Pe.za;++Pe.ja){if(qe=_e,Ue=(Se=Pe).rb[Se.sb-1],ft=Se.rb[Se.sb+Se.ja],Fe=Se.ya[Se.aa+Se.ja],lt=Se.kc?Fe.Ad:0)Ue.la=ft.la=0,Fe.Za||(Ue.Na=ft.Na=0),Fe.Hc=0,Fe.Gc=0,Fe.ia=0;else{var zn,Ht;if(Ue=ft,ft=qe,lt=Se.Pa.Xc,kt=Se.ya[Se.aa+Se.ja],ct=Se.pb[kt.$b],$e=kt.ad,xn=0,bn=Se.rb[Se.sb-1],nn=fn=0,s($e,xn,0,384),kt.Za)var cr=0,Us=lt[3];else{Vn=i(16);var br=Ue.Na+bn.Na;if(br=Tl(ft,lt[1],br,ct.Eb,0,Vn,0),Ue.Na=bn.Na=(0<br)+0,1<br)mc(Vn,0,$e,xn);else{var Mr=Vn[0]+3>>3;for(Vn=0;256>Vn;Vn+=16)$e[xn+Vn]=Mr}cr=1,Us=lt[0]}var In=15&Ue.la,Ss=15&bn.la;for(Vn=0;4>Vn;++Vn){var As=1&Ss;for(Mr=Ht=0;4>Mr;++Mr)In=In>>1|(As=(br=Tl(ft,Us,br=As+(1&In),ct.Sc,cr,$e,xn))>cr)<<7,Ht=Ht<<2|(3<br?3:1<br?2:$e[xn+0]!=0),xn+=16;In>>=4,Ss=Ss>>1|As<<7,fn=(fn<<8|Ht)>>>0}for(Us=In,cr=Ss>>4,zn=0;4>zn;zn+=2){for(Ht=0,In=Ue.la>>4+zn,Ss=bn.la>>4+zn,Vn=0;2>Vn;++Vn){for(As=1&Ss,Mr=0;2>Mr;++Mr)br=As+(1&In),In=In>>1|(As=0<(br=Tl(ft,lt[2],br,ct.Qc,0,$e,xn)))<<3,Ht=Ht<<2|(3<br?3:1<br?2:$e[xn+0]!=0),xn+=16;In>>=2,Ss=Ss>>1|As<<5}nn|=Ht<<4*zn,Us|=In<<4<<zn,cr|=(240&Ss)<<zn}Ue.la=Us,bn.la=cr,kt.Hc=fn,kt.Gc=nn,kt.ia=43690&nn?0:ct.ia,lt=!(fn|nn)}if(0<Se.L&&(Se.wa[Se.Y+Se.ja]=Se.gd[Fe.$b][Fe.Za],Se.wa[Se.Y+Se.ja].La|=!lt),qe.Ka)return Xn(Pe,7,"Premature end-of-file encountered.")}if(wo(Pe),Se=We,qe=1,Fe=(_e=Pe).D,Ue=0<_e.L&&_e.M>=_e.zb&&_e.M<=_e.Va,_e.Aa==0)e:{if(Fe.M=_e.M,Fe.uc=Ue,oo(_e,Fe),qe=1,Fe=(Ht=_e.D).Nb,Ue=(nn=Cl[_e.L])*_e.R,ft=nn/2*_e.B,Vn=16*Fe*_e.R,Mr=8*Fe*_e.B,lt=_e.sa,kt=_e.ta-Ue+Vn,ct=_e.qa,$e=_e.ra-ft+Mr,xn=_e.Ha,bn=_e.Ia-ft+Mr,Ss=(In=Ht.M)==0,fn=In>=_e.Va-1,_e.Aa==2&&oo(_e,Ht),Ht.uc)for(As=(br=_e).D.M,e(br.D.uc),Ht=br.yb;Ht<br.Hb;++Ht){cr=Ht,Us=As;var ur=(Fr=(kn=br).D).Nb;zn=kn.R;var Fr=Fr.wa[Fr.Y+cr],ds=kn.sa,ni=kn.ta+16*ur*zn+16*cr,zi=Fr.dd,hr=Fr.tc;if(hr!=0)if(e(3<=hr),kn.L==1)0<cr&&ra(ds,ni,zn,hr+4),Fr.La&&us(ds,ni,zn,hr),0<Us&&na(ds,ni,zn,hr+4),Fr.La&&Ma(ds,ni,zn,hr);else{var kr=kn.B,Ei=kn.qa,Ua=kn.ra+8*ur*kr+8*cr,oa=kn.Ha,kn=kn.Ia+8*ur*kr+8*cr;ur=Fr.ld,0<cr&&(bu(ds,ni,zn,hr+4,zi,ur),bl(Ei,Ua,oa,kn,kr,hr+4,zi,ur)),Fr.La&&(Ai(ds,ni,zn,hr,zi,ur),Io(Ei,Ua,oa,kn,kr,hr,zi,ur)),0<Us&&(wl(ds,ni,zn,hr+4,zi,ur),xl(Ei,Ua,oa,kn,kr,hr+4,zi,ur)),Fr.La&&(_l(ds,ni,zn,hr,zi,ur),ta(Ei,Ua,oa,kn,kr,hr,zi,ur))}}if(_e.ia&&alert("todo:DitherRow"),Se.put!=null){if(Ht=16*In,In=16*(In+1),Ss?(Se.y=_e.sa,Se.O=_e.ta+Vn,Se.f=_e.qa,Se.N=_e.ra+Mr,Se.ea=_e.Ha,Se.W=_e.Ia+Mr):(Ht-=nn,Se.y=lt,Se.O=kt,Se.f=ct,Se.N=$e,Se.ea=xn,Se.W=bn),fn||(In-=nn),In>Se.o&&(In=Se.o),Se.F=null,Se.J=null,_e.Fa!=null&&0<_e.Fa.length&&Ht<In&&(Se.J=ja(_e,Se,Ht,In-Ht),Se.F=_e.mb,Se.F==null&&Se.F.length==0)){qe=Xn(_e,3,"Could not decode alpha data.");break e}Ht<Se.j&&(nn=Se.j-Ht,Ht=Se.j,e(!(1&nn)),Se.O+=_e.R*nn,Se.N+=_e.B*(nn>>1),Se.W+=_e.B*(nn>>1),Se.F!=null&&(Se.J+=Se.width*nn)),Ht<In&&(Se.O+=Se.v,Se.N+=Se.v>>1,Se.W+=Se.v>>1,Se.F!=null&&(Se.J+=Se.v),Se.ka=Ht-Se.j,Se.U=Se.va-Se.v,Se.T=In-Ht,qe=Se.put(Se))}Fe+1!=_e.Ic||fn||(r(_e.sa,_e.ta-Ue,lt,kt+16*_e.R,Ue),r(_e.qa,_e.ra-ft,ct,$e+8*_e.B,ft),r(_e.Ha,_e.Ia-ft,xn,bn+8*_e.B,ft))}if(!qe)return Xn(Pe,6,"Output aborted.")}return 1}(f,x)),x.bc!=null&&x.bc(x),A&=1}return A?(f.cb=0,A):0}function is(f,x,A,R,q){q=f[x+A+32*R]+(q>>3),f[x+A+32*R]=-256&q?0>q?0:255:q}function Na(f,x,A,R,q,G){is(f,x,0,A,R+q),is(f,x,1,A,R+G),is(f,x,2,A,R-G),is(f,x,3,A,R-q)}function mr(f){return(20091*f>>16)+f}function os(f,x,A,R){var q,G=0,Y=i(16);for(q=0;4>q;++q){var Q=f[x+0]+f[x+8],Z=f[x+0]-f[x+8],se=(35468*f[x+4]>>16)-mr(f[x+12]),we=mr(f[x+4])+(35468*f[x+12]>>16);Y[G+0]=Q+we,Y[G+1]=Z+se,Y[G+2]=Z-se,Y[G+3]=Q-we,G+=4,x++}for(q=G=0;4>q;++q)Q=(f=Y[G+0]+4)+Y[G+8],Z=f-Y[G+8],se=(35468*Y[G+4]>>16)-mr(Y[G+12]),is(A,R,0,0,Q+(we=mr(Y[G+4])+(35468*Y[G+12]>>16))),is(A,R,1,0,Z+se),is(A,R,2,0,Z-se),is(A,R,3,0,Q-we),G++,R+=32}function bo(f,x,A,R){var q=f[x+0]+4,G=35468*f[x+4]>>16,Y=mr(f[x+4]),Q=35468*f[x+1]>>16;Na(A,R,0,q+Y,f=mr(f[x+1]),Q),Na(A,R,1,q+G,f,Q),Na(A,R,2,q-G,f,Q),Na(A,R,3,q-Y,f,Q)}function _o(f,x,A,R,q){os(f,x,A,R),q&&os(f,x+16,A,R+4)}function eo(f,x,A,R){Zo(f,x+0,A,R,1),Zo(f,x+32,A,R+128,1)}function Dn(f,x,A,R){var q;for(f=f[x+0]+4,q=0;4>q;++q)for(x=0;4>x;++x)is(A,R,x,q,f)}function to(f,x,A,R){f[x+0]&&bs(f,x+0,A,R),f[x+16]&&bs(f,x+16,A,R+4),f[x+32]&&bs(f,x+32,A,R+128),f[x+48]&&bs(f,x+48,A,R+128+4)}function ln(f,x,A,R){var q,G=i(16);for(q=0;4>q;++q){var Y=f[x+0+q]+f[x+12+q],Q=f[x+4+q]+f[x+8+q],Z=f[x+4+q]-f[x+8+q],se=f[x+0+q]-f[x+12+q];G[0+q]=Y+Q,G[8+q]=Y-Q,G[4+q]=se+Z,G[12+q]=se-Z}for(q=0;4>q;++q)Y=(f=G[0+4*q]+3)+G[3+4*q],Q=G[1+4*q]+G[2+4*q],Z=G[1+4*q]-G[2+4*q],se=f-G[3+4*q],A[R+0]=Y+Q>>3,A[R+16]=se+Z>>3,A[R+32]=Y-Q>>3,A[R+48]=se-Z>>3,R+=64}function Li(f,x,A){var R,q=x-32,G=Vs,Y=255-f[q-1];for(R=0;R<A;++R){var Q,Z=G,se=Y+f[x-1];for(Q=0;Q<A;++Q)f[x+Q]=Z[se+f[q+Q]];x+=32}}function rc(f,x){Li(f,x,4)}function Pa(f,x){Li(f,x,8)}function sc(f,x){Li(f,x,16)}function ji(f,x){var A;for(A=0;16>A;++A)r(f,x+32*A,f,x-32,16)}function Wo(f,x){var A;for(A=16;0<A;--A)s(f,x,f[x-1],16),x+=32}function So(f,x,A){var R;for(R=0;16>R;++R)s(x,A+32*R,f,16)}function vi(f,x){var A,R=16;for(A=0;16>A;++A)R+=f[x-1+32*A]+f[x+A-32];So(R>>5,f,x)}function wn(f,x){var A,R=8;for(A=0;16>A;++A)R+=f[x-1+32*A];So(R>>4,f,x)}function wi(f,x){var A,R=8;for(A=0;16>A;++A)R+=f[x+A-32];So(R>>4,f,x)}function Ys(f,x){So(128,f,x)}function Dt(f,x,A){return f+2*x+A+2>>2}function Xs(f,x){var A,R=x-32;for(R=new Uint8Array([Dt(f[R-1],f[R+0],f[R+1]),Dt(f[R+0],f[R+1],f[R+2]),Dt(f[R+1],f[R+2],f[R+3]),Dt(f[R+2],f[R+3],f[R+4])]),A=0;4>A;++A)r(f,x+32*A,R,0,R.length)}function Di(f,x){var A=f[x-1],R=f[x-1+32],q=f[x-1+64],G=f[x-1+96];xe(f,x+0,16843009*Dt(f[x-1-32],A,R)),xe(f,x+32,16843009*Dt(A,R,q)),xe(f,x+64,16843009*Dt(R,q,G)),xe(f,x+96,16843009*Dt(q,G,G))}function Oi(f,x){var A,R=4;for(A=0;4>A;++A)R+=f[x+A-32]+f[x-1+32*A];for(R>>=3,A=0;4>A;++A)s(f,x+32*A,R,4)}function fl(f,x){var A=f[x-1+0],R=f[x-1+32],q=f[x-1+64],G=f[x-1-32],Y=f[x+0-32],Q=f[x+1-32],Z=f[x+2-32],se=f[x+3-32];f[x+0+96]=Dt(R,q,f[x-1+96]),f[x+1+96]=f[x+0+64]=Dt(A,R,q),f[x+2+96]=f[x+1+64]=f[x+0+32]=Dt(G,A,R),f[x+3+96]=f[x+2+64]=f[x+1+32]=f[x+0+0]=Dt(Y,G,A),f[x+3+64]=f[x+2+32]=f[x+1+0]=Dt(Q,Y,G),f[x+3+32]=f[x+2+0]=Dt(Z,Q,Y),f[x+3+0]=Dt(se,Z,Q)}function as(f,x){var A=f[x+1-32],R=f[x+2-32],q=f[x+3-32],G=f[x+4-32],Y=f[x+5-32],Q=f[x+6-32],Z=f[x+7-32];f[x+0+0]=Dt(f[x+0-32],A,R),f[x+1+0]=f[x+0+32]=Dt(A,R,q),f[x+2+0]=f[x+1+32]=f[x+0+64]=Dt(R,q,G),f[x+3+0]=f[x+2+32]=f[x+1+64]=f[x+0+96]=Dt(q,G,Y),f[x+3+32]=f[x+2+64]=f[x+1+96]=Dt(G,Y,Q),f[x+3+64]=f[x+2+96]=Dt(Y,Q,Z),f[x+3+96]=Dt(Q,Z,Z)}function Ca(f,x){var A=f[x-1+0],R=f[x-1+32],q=f[x-1+64],G=f[x-1-32],Y=f[x+0-32],Q=f[x+1-32],Z=f[x+2-32],se=f[x+3-32];f[x+0+0]=f[x+1+64]=G+Y+1>>1,f[x+1+0]=f[x+2+64]=Y+Q+1>>1,f[x+2+0]=f[x+3+64]=Q+Z+1>>1,f[x+3+0]=Z+se+1>>1,f[x+0+96]=Dt(q,R,A),f[x+0+64]=Dt(R,A,G),f[x+0+32]=f[x+1+96]=Dt(A,G,Y),f[x+1+32]=f[x+2+96]=Dt(G,Y,Q),f[x+2+32]=f[x+3+96]=Dt(Y,Q,Z),f[x+3+32]=Dt(Q,Z,se)}function Ia(f,x){var A=f[x+0-32],R=f[x+1-32],q=f[x+2-32],G=f[x+3-32],Y=f[x+4-32],Q=f[x+5-32],Z=f[x+6-32],se=f[x+7-32];f[x+0+0]=A+R+1>>1,f[x+1+0]=f[x+0+64]=R+q+1>>1,f[x+2+0]=f[x+1+64]=q+G+1>>1,f[x+3+0]=f[x+2+64]=G+Y+1>>1,f[x+0+32]=Dt(A,R,q),f[x+1+32]=f[x+0+96]=Dt(R,q,G),f[x+2+32]=f[x+1+96]=Dt(q,G,Y),f[x+3+32]=f[x+2+96]=Dt(G,Y,Q),f[x+3+64]=Dt(Y,Q,Z),f[x+3+96]=Dt(Q,Z,se)}function no(f,x){var A=f[x-1+0],R=f[x-1+32],q=f[x-1+64],G=f[x-1+96];f[x+0+0]=A+R+1>>1,f[x+2+0]=f[x+0+32]=R+q+1>>1,f[x+2+32]=f[x+0+64]=q+G+1>>1,f[x+1+0]=Dt(A,R,q),f[x+3+0]=f[x+1+32]=Dt(R,q,G),f[x+3+32]=f[x+1+64]=Dt(q,G,G),f[x+3+64]=f[x+2+64]=f[x+0+96]=f[x+1+96]=f[x+2+96]=f[x+3+96]=G}function Go(f,x){var A=f[x-1+0],R=f[x-1+32],q=f[x-1+64],G=f[x-1+96],Y=f[x-1-32],Q=f[x+0-32],Z=f[x+1-32],se=f[x+2-32];f[x+0+0]=f[x+2+32]=A+Y+1>>1,f[x+0+32]=f[x+2+64]=R+A+1>>1,f[x+0+64]=f[x+2+96]=q+R+1>>1,f[x+0+96]=G+q+1>>1,f[x+3+0]=Dt(Q,Z,se),f[x+2+0]=Dt(Y,Q,Z),f[x+1+0]=f[x+3+32]=Dt(A,Y,Q),f[x+1+32]=f[x+3+64]=Dt(R,A,Y),f[x+1+64]=f[x+3+96]=Dt(q,R,A),f[x+1+96]=Dt(G,q,R)}function ic(f,x){var A;for(A=0;8>A;++A)r(f,x+32*A,f,x-32,8)}function Ls(f,x){var A;for(A=0;8>A;++A)s(f,x,f[x-1],8),x+=32}function ls(f,x,A){var R;for(R=0;8>R;++R)s(x,A+32*R,f,8)}function ys(f,x){var A,R=8;for(A=0;8>A;++A)R+=f[x+A-32]+f[x-1+32*A];ls(R>>4,f,x)}function Ao(f,x){var A,R=4;for(A=0;8>A;++A)R+=f[x+A-32];ls(R>>3,f,x)}function Pn(f,x){var A,R=4;for(A=0;8>A;++A)R+=f[x-1+32*A];ls(R>>3,f,x)}function pl(f,x){ls(128,f,x)}function Eo(f,x,A){var R=f[x-A],q=f[x+0],G=3*(q-R)+Ro[1020+f[x-2*A]-f[x+A]],Y=yc[112+(G+4>>3)];f[x-A]=Vs[255+R+yc[112+(G+3>>3)]],f[x+0]=Vs[255+q-Y]}function To(f,x,A,R){var q=f[x+0],G=f[x+A];return Bi[255+f[x-2*A]-f[x-A]]>R||Bi[255+G-q]>R}function Ko(f,x,A,R){return 4*Bi[255+f[x-A]-f[x+0]]+Bi[255+f[x-2*A]-f[x+A]]<=R}function ka(f,x,A,R,q){var G=f[x-3*A],Y=f[x-2*A],Q=f[x-A],Z=f[x+0],se=f[x+A],we=f[x+2*A],Ie=f[x+3*A];return 4*Bi[255+Q-Z]+Bi[255+Y-se]>R?0:Bi[255+f[x-4*A]-G]<=q&&Bi[255+G-Y]<=q&&Bi[255+Y-Q]<=q&&Bi[255+Ie-we]<=q&&Bi[255+we-se]<=q&&Bi[255+se-Z]<=q}function vs(f,x,A,R){var q=2*R+1;for(R=0;16>R;++R)Ko(f,x+R,A,q)&&Eo(f,x+R,A)}function js(f,x,A,R){var q=2*R+1;for(R=0;16>R;++R)Ko(f,x+R*A,1,q)&&Eo(f,x+R*A,1)}function gr(f,x,A,R){var q;for(q=3;0<q;--q)vs(f,x+=4*A,A,R)}function ml(f,x,A,R){var q;for(q=3;0<q;--q)js(f,x+=4,A,R)}function xi(f,x,A,R,q,G,Y,Q){for(G=2*G+1;0<q--;){if(ka(f,x,A,G,Y))if(To(f,x,A,Q))Eo(f,x,A);else{var Z=f,se=x,we=A,Ie=Z[se-2*we],ke=Z[se-we],Pe=Z[se+0],We=Z[se+we],Fe=Z[se+2*we],_e=27*(qe=Ro[1020+3*(Pe-ke)+Ro[1020+Ie-We]])+63>>7,Se=18*qe+63>>7,qe=9*qe+63>>7;Z[se-3*we]=Vs[255+Z[se-3*we]+qe],Z[se-2*we]=Vs[255+Ie+Se],Z[se-we]=Vs[255+ke+_e],Z[se+0]=Vs[255+Pe-_e],Z[se+we]=Vs[255+We-Se],Z[se+2*we]=Vs[255+Fe-qe]}x+=R}}function Cr(f,x,A,R,q,G,Y,Q){for(G=2*G+1;0<q--;){if(ka(f,x,A,G,Y))if(To(f,x,A,Q))Eo(f,x,A);else{var Z=f,se=x,we=A,Ie=Z[se-we],ke=Z[se+0],Pe=Z[se+we],We=yc[112+((Fe=3*(ke-Ie))+4>>3)],Fe=yc[112+(Fe+3>>3)],_e=We+1>>1;Z[se-2*we]=Vs[255+Z[se-2*we]+_e],Z[se-we]=Vs[255+Ie+Fe],Z[se+0]=Vs[255+ke-We],Z[se+we]=Vs[255+Pe-_e]}x+=R}}function Yo(f,x,A,R,q,G){xi(f,x,A,1,16,R,q,G)}function lr(f,x,A,R,q,G){xi(f,x,1,A,16,R,q,G)}function bi(f,x,A,R,q,G){var Y;for(Y=3;0<Y;--Y)Cr(f,x+=4*A,A,1,16,R,q,G)}function ro(f,x,A,R,q,G){var Y;for(Y=3;0<Y;--Y)Cr(f,x+=4,1,A,16,R,q,G)}function Mi(f,x,A,R,q,G,Y,Q){xi(f,x,q,1,8,G,Y,Q),xi(A,R,q,1,8,G,Y,Q)}function gl(f,x,A,R,q,G,Y,Q){xi(f,x,1,q,8,G,Y,Q),xi(A,R,1,q,8,G,Y,Q)}function No(f,x,A,R,q,G,Y,Q){Cr(f,x+4*q,q,1,8,G,Y,Q),Cr(A,R+4*q,q,1,8,G,Y,Q)}function Fi(f,x,A,R,q,G,Y,Q){Cr(f,x+4,1,q,8,G,Y,Q),Cr(A,R+4,1,q,8,G,Y,Q)}function _i(){this.ba=new tr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function so(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Po(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ra(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new D}function oc(){this.xb=this.a=0,this.l=new $o,this.ca=new tr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ra,this.ab=0,this.gc=a(4,Po),this.Oc=0}function io(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $o,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vi(f,x,A,R,q,G,Y){for(f=f==null?0:f[x+0],x=0;x<Y;++x)q[G+x]=f+A[R+x]&255,f=q[G+x]}function La(f,x,A,R,q,G,Y){var Q;if(f==null)Vi(null,null,A,R,q,G,Y);else for(Q=0;Q<Y;++Q)q[G+Q]=f[x+Q]+A[R+Q]&255}function ws(f,x,A,R,q,G,Y){if(f==null)Vi(null,null,A,R,q,G,Y);else{var Q,Z=f[x+0],se=Z,we=Z;for(Q=0;Q<Y;++Q)se=we+(Z=f[x+Q])-se,we=A[R+Q]+(-256&se?0>se?0:255:se)&255,se=Z,q[G+Q]=we}}function ja(f,x,A,R){var q=x.width,G=x.o;if(e(f!=null&&x!=null),0>A||0>=R||A+R>G)return null;if(!f.Cc){if(f.ga==null){var Y;if(f.ga=new io,(Y=f.ga==null)||(Y=x.width*x.o,e(f.Gb.length==0),f.Gb=i(Y),f.Uc=0,f.Gb==null?Y=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,Y=1),Y=!Y),!Y){Y=f.ga;var Q=f.Fa,Z=f.P,se=f.qc,we=f.mb,Ie=f.nb,ke=Z+1,Pe=se-1,We=Y.l;if(e(Q!=null&&we!=null&&x!=null),_s[0]=null,_s[1]=Vi,_s[2]=La,_s[3]=ws,Y.ca=we,Y.tb=Ie,Y.c=x.width,Y.i=x.height,e(0<Y.c&&0<Y.i),1>=se)x=0;else if(Y.$a=Q[Z+0]>>0&3,Y.Z=Q[Z+0]>>2&3,Y.Lc=Q[Z+0]>>4&3,Z=Q[Z+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||Z)x=0;else if(We.put=Pr,We.ac=ir,We.bc=Kr,We.ma=Y,We.width=x.width,We.height=x.height,We.Da=x.Da,We.v=x.v,We.va=x.va,We.j=x.j,We.o=x.o,Y.$a)e:{e(Y.$a==1),x=an();t:for(;;){if(x==null){x=0;break e}if(e(Y!=null),Y.mc=x,x.c=Y.c,x.i=Y.i,x.l=Y.l,x.l.ma=Y,x.l.width=Y.c,x.l.height=Y.i,x.a=0,re(x.m,Q,ke,Pe),!St(Y.c,Y.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Wt(x.s)?(Y.ic=1,Q=x.c*x.i,x.Ta=null,x.Ua=0,x.V=i(Q),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(Y.ic=0,x=gs(x,Y.c)),!x))break t;x=1;break e}Y.mc=null,x=0}else x=Pe>=Y.c*Y.i;Y=!x}if(Y)return null;f.ga.Lc!=1?f.Ga=0:R=G-A}e(f.ga!=null),e(A+R<=G);e:{if(x=(Q=f.ga).c,G=Q.l.o,Q.$a==0){if(ke=f.rc,Pe=f.Vc,We=f.Fa,Z=f.P+1+A*x,se=f.mb,we=f.nb+A*x,e(Z<=f.P+f.qc),Q.Z!=0)for(e(_s[Q.Z]!=null),Y=0;Y<R;++Y)_s[Q.Z](ke,Pe,We,Z,se,we,x),ke=se,Pe=we,we+=x,Z+=x;else for(Y=0;Y<R;++Y)r(se,we,We,Z,x),ke=se,Pe=we,we+=x,Z+=x;f.rc=ke,f.Vc=Pe}else{if(e(Q.mc!=null),x=A+R,e((Y=Q.mc)!=null),e(x<=Y.i),Y.C>=x)x=1;else if(Q.ic||Ce(),Q.ic){Q=Y.V,ke=Y.Ba,Pe=Y.c;var Fe=Y.i,_e=(We=1,Z=Y.$/Pe,se=Y.$%Pe,we=Y.m,Ie=Y.s,Y.$),Se=Pe*Fe,qe=Pe*x,Ue=Ie.wc,$e=_e<qe?Tt(Ie,se,Z):null;e(_e<=Se),e(x<=Fe),e(Wt(Ie));t:for(;;){for(;!we.h&&_e<qe;){if(se&Ue||($e=Tt(Ie,se,Z)),e($e!=null),me(we),256>(Fe=it($e.G[0],$e.H[0],we)))Q[ke+_e]=Fe,++_e,++se>=Pe&&(se=0,++Z<=x&&!(Z%16)&&nr(Y,Z));else{if(!(280>Fe)){We=0;break t}Fe=Yr(Fe-256,we);var ft,lt=it($e.G[4],$e.H[4],we);if(me(we),!(_e>=(lt=Ve(Pe,lt=Yr(lt,we)))&&Se-_e>=Fe)){We=0;break t}for(ft=0;ft<Fe;++ft)Q[ke+_e+ft]=Q[ke+_e+ft-lt];for(_e+=Fe,se+=Fe;se>=Pe;)se-=Pe,++Z<=x&&!(Z%16)&&nr(Y,Z);_e<qe&&se&Ue&&($e=Tt(Ie,se,Z))}e(we.h==ie(we))}nr(Y,Z>x?x:Z);break t}!We||we.h&&_e<Se?(We=0,Y.a=we.h?5:3):Y.$=_e,x=We}else x=Bn(Y,Y.V,Y.Ba,Y.c,Y.i,x,$n);if(!x){R=0;break e}}A+R>=G&&(f.Cc=1),R=1}if(!R)return null;if(f.Cc&&((R=f.ga)!=null&&(R.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+A*q}function _(f,x,A,R,q,G){for(;0<q--;){var Y,Q=f,Z=x+(A?1:0),se=f,we=x+(A?0:3);for(Y=0;Y<R;++Y){var Ie=se[we+4*Y];Ie!=255&&(Ie*=32897,Q[Z+4*Y+0]=Q[Z+4*Y+0]*Ie>>23,Q[Z+4*Y+1]=Q[Z+4*Y+1]*Ie>>23,Q[Z+4*Y+2]=Q[Z+4*Y+2]*Ie>>23)}x+=G}}function $(f,x,A,R,q){for(;0<R--;){var G;for(G=0;G<A;++G){var Y=f[x+2*G+0],Q=15&(se=f[x+2*G+1]),Z=4369*Q,se=(240&se|se>>4)*Z>>16;f[x+2*G+0]=(240&Y|Y>>4)*Z>>16&240|(15&Y|Y<<4)*Z>>16>>4&15,f[x+2*G+1]=240&se|Q}x+=q}}function ae(f,x,A,R,q,G,Y,Q){var Z,se,we=255;for(se=0;se<q;++se){for(Z=0;Z<R;++Z){var Ie=f[x+Z];G[Y+4*Z]=Ie,we&=Ie}x+=A,Y+=Q}return we!=255}function ve(f,x,A,R,q){var G;for(G=0;G<q;++G)A[R+G]=f[x+G]>>8}function Ce(){Qs=_,Wn=$,Mn=ae,vr=ve}function Be(f,x,A){k[f]=function(R,q,G,Y,Q,Z,se,we,Ie,ke,Pe,We,Fe,_e,Se,qe,Ue){var $e,ft=Ue-1>>1,lt=Q[Z+0]|se[we+0]<<16,kt=Ie[ke+0]|Pe[We+0]<<16;e(R!=null);var ct=3*lt+kt+131074>>2;for(x(R[q+0],255&ct,ct>>16,Fe,_e),G!=null&&(ct=3*kt+lt+131074>>2,x(G[Y+0],255&ct,ct>>16,Se,qe)),$e=1;$e<=ft;++$e){var xn=Q[Z+$e]|se[we+$e]<<16,bn=Ie[ke+$e]|Pe[We+$e]<<16,fn=lt+xn+kt+bn+524296,nn=fn+2*(xn+kt)>>3;ct=nn+lt>>1,lt=(fn=fn+2*(lt+bn)>>3)+xn>>1,x(R[q+2*$e-1],255&ct,ct>>16,Fe,_e+(2*$e-1)*A),x(R[q+2*$e-0],255&lt,lt>>16,Fe,_e+(2*$e-0)*A),G!=null&&(ct=fn+kt>>1,lt=nn+bn>>1,x(G[Y+2*$e-1],255&ct,ct>>16,Se,qe+(2*$e-1)*A),x(G[Y+2*$e+0],255&lt,lt>>16,Se,qe+(2*$e+0)*A)),lt=xn,kt=bn}1&Ue||(ct=3*lt+kt+131074>>2,x(R[q+Ue-1],255&ct,ct>>16,Fe,_e+(Ue-1)*A),G!=null&&(ct=3*kt+lt+131074>>2,x(G[Y+Ue-1],255&ct,ct>>16,Se,qe+(Ue-1)*A)))}}function Ye(){Zs[fh]=$g,Zs[Fa]=Va,Zs[Yf]=Hg,Zs[Su]=bc,Zs[Au]=Nl,Zs[Gn]=Cu,Zs[ph]=Ld,Zs[vc]=Va,Zs[Al]=bc,Zs[Eu]=Nl,Zs[Tu]=Cu}function at(f){return f&-16384?0>f?0:255:f>>Ba}function m(f,x){return at((19077*f>>8)+(26149*x>>8)-14234)}function N(f,x,A){return at((19077*f>>8)-(6419*x>>8)-(13320*A>>8)+8708)}function O(f,x){return at((19077*f>>8)+(33050*x>>8)-17685)}function J(f,x,A,R,q){R[q+0]=m(f,A),R[q+1]=N(f,x,A),R[q+2]=O(f,x)}function Ne(f,x,A,R,q){R[q+0]=O(f,x),R[q+1]=N(f,x,A),R[q+2]=m(f,A)}function Le(f,x,A,R,q){var G=N(f,x,A);x=G<<3&224|O(f,x)>>3,R[q+0]=248&m(f,A)|G>>5,R[q+1]=x}function Xe(f,x,A,R,q){var G=240&O(f,x)|15;R[q+0]=240&m(f,A)|N(f,x,A)>>4,R[q+1]=G}function Xt(f,x,A,R,q){R[q+0]=255,J(f,x,A,R,q+1)}function un(f,x,A,R,q){Ne(f,x,A,R,q),R[q+3]=255}function Qt(f,x,A,R,q){J(f,x,A,R,q),R[q+3]=255}function Cn(f,x){return 0>f?0:f>x?x:f}function On(f,x,A){k[f]=function(R,q,G,Y,Q,Z,se,we,Ie){for(var ke=we+(-2&Ie)*A;we!=ke;)x(R[q+0],G[Y+0],Q[Z+0],se,we),x(R[q+1],G[Y+0],Q[Z+0],se,we+A),q+=2,++Y,++Z,we+=2*A;1&Ie&&x(R[q+0],G[Y+0],Q[Z+0],se,we)}}function Ds(f,x,A){return A==0?f==0?x==0?6:5:x==0?4:0:A}function cs(f,x,A,R,q){switch(f>>>30){case 3:Zo(x,A,R,q,0);break;case 2:An(x,A,R,q);break;case 1:bs(x,A,R,q)}}function oo(f,x){var A,R,q=x.M,G=x.Nb,Y=f.oc,Q=f.pc+40,Z=f.oc,se=f.pc+584,we=f.oc,Ie=f.pc+600;for(A=0;16>A;++A)Y[Q+32*A-1]=129;for(A=0;8>A;++A)Z[se+32*A-1]=129,we[Ie+32*A-1]=129;for(0<q?Y[Q-1-32]=Z[se-1-32]=we[Ie-1-32]=129:(s(Y,Q-32-1,127,21),s(Z,se-32-1,127,9),s(we,Ie-32-1,127,9)),R=0;R<f.za;++R){var ke=x.ya[x.aa+R];if(0<R){for(A=-1;16>A;++A)r(Y,Q+32*A-4,Y,Q+32*A+12,4);for(A=-1;8>A;++A)r(Z,se+32*A-4,Z,se+32*A+4,4),r(we,Ie+32*A-4,we,Ie+32*A+4,4)}var Pe=f.Gd,We=f.Hd+R,Fe=ke.ad,_e=ke.Hc;if(0<q&&(r(Y,Q-32,Pe[We].y,0,16),r(Z,se-32,Pe[We].f,0,8),r(we,Ie-32,Pe[We].ea,0,8)),ke.Za){var Se=Y,qe=Q-32+16;for(0<q&&(R>=f.za-1?s(Se,qe,Pe[We].y[15],4):r(Se,qe,Pe[We+1].y,0,4)),A=0;4>A;A++)Se[qe+128+A]=Se[qe+256+A]=Se[qe+384+A]=Se[qe+0+A];for(A=0;16>A;++A,_e<<=2)Se=Y,qe=Q+jd[A],Ui[ke.Ob[A]](Se,qe),cs(_e,Fe,16*+A,Se,qe)}else if(Se=Ds(R,q,ke.Ob[0]),Bs[Se](Y,Q),_e!=0)for(A=0;16>A;++A,_e<<=2)cs(_e,Fe,16*+A,Y,Q+jd[A]);for(A=ke.Gc,Se=Ds(R,q,ke.Dd),Js[Se](Z,se),Js[Se](we,Ie),_e=Fe,Se=Z,qe=se,255&(ke=A>>0)&&(170&ke?ea(_e,256,Se,qe):Si(_e,256,Se,qe)),ke=we,_e=Ie,255&(A>>=8)&&(170&A?ea(Fe,320,ke,_e):Si(Fe,320,ke,_e)),q<f.Ub-1&&(r(Pe[We].y,0,Y,Q+480,16),r(Pe[We].f,0,Z,se+224,8),r(Pe[We].ea,0,we,Ie+224,8)),A=8*G*f.B,Pe=f.sa,We=f.ta+16*R+16*G*f.R,Fe=f.qa,ke=f.ra+8*R+A,_e=f.Ha,Se=f.Ia+8*R+A,A=0;16>A;++A)r(Pe,We+A*f.R,Y,Q+32*A,16);for(A=0;8>A;++A)r(Fe,ke+A*f.B,Z,se+32*A,8),r(_e,Se+A*f.B,we,Ie+32*A,8)}}function ao(f,x,A,R,q,G,Y,Q,Z){var se=[0],we=[0],Ie=0,ke=Z!=null?Z.kd:0,Pe=Z??new so;if(f==null||12>A)return 7;Pe.data=f,Pe.w=x,Pe.ha=A,x=[x],A=[A],Pe.gb=[Pe.gb];e:{var We=x,Fe=A,_e=Pe.gb;if(e(f!=null),e(Fe!=null),e(_e!=null),_e[0]=0,12<=Fe[0]&&!t(f,We[0],"RIFF")){if(t(f,We[0]+8,"WEBP")){_e=3;break e}var Se=He(f,We[0]+4);if(12>Se||4294967286<Se){_e=3;break e}if(ke&&Se>Fe[0]-8){_e=7;break e}_e[0]=Se,We[0]+=12,Fe[0]-=12}_e=0}if(_e!=0)return _e;for(Se=0<Pe.gb[0],A=A[0];;){e:{var qe=f;Fe=x,_e=A;var Ue=se,$e=we,ft=We=[0];if((ct=Ie=[Ie])[0]=0,8>_e[0])_e=7;else{if(!t(qe,Fe[0],"VP8X")){if(He(qe,Fe[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var lt=He(qe,Fe[0]+8),kt=1+ze(qe,Fe[0]+12);if(2147483648<=kt*(qe=1+ze(qe,Fe[0]+15))){_e=3;break e}ft!=null&&(ft[0]=lt),Ue!=null&&(Ue[0]=kt),$e!=null&&($e[0]=qe),Fe[0]+=18,_e[0]-=18,ct[0]=1}_e=0}}if(Ie=Ie[0],We=We[0],_e!=0)return _e;if(Fe=!!(2&We),!Se&&Ie)return 3;if(G!=null&&(G[0]=!!(16&We)),Y!=null&&(Y[0]=Fe),Q!=null&&(Q[0]=0),Y=se[0],We=we[0],Ie&&Fe&&Z==null){_e=0;break}if(4>A){_e=7;break}if(Se&&Ie||!Se&&!Ie&&!t(f,x[0],"ALPH")){A=[A],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{lt=f,_e=x,Se=A;var ct=Pe.gb;Ue=Pe.na,$e=Pe.P,ft=Pe.Sa,kt=22,e(lt!=null),e(Se!=null),qe=_e[0];var xn=Se[0];for(e(Ue!=null),e(ft!=null),Ue[0]=null,$e[0]=null,ft[0]=0;;){if(_e[0]=qe,Se[0]=xn,8>xn){_e=7;break e}var bn=He(lt,qe+4);if(4294967286<bn){_e=3;break e}var fn=8+bn+1&-2;if(kt+=fn,0<ct&&kt>ct){_e=3;break e}if(!t(lt,qe,"VP8 ")||!t(lt,qe,"VP8L")){_e=0;break e}if(xn[0]<fn){_e=7;break e}t(lt,qe,"ALPH")||(Ue[0]=lt,$e[0]=qe+8,ft[0]=bn),qe+=fn,xn-=fn}}if(A=A[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],_e!=0)break}A=[A],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(ct=f,_e=x,Se=A,Ue=Pe.gb[0],$e=Pe.Ja,ft=Pe.xa,lt=_e[0],qe=!t(ct,lt,"VP8 "),kt=!t(ct,lt,"VP8L"),e(ct!=null),e(Se!=null),e($e!=null),e(ft!=null),8>Se[0])_e=7;else{if(qe||kt){if(ct=He(ct,lt+4),12<=Ue&&ct>Ue-12){_e=3;break e}if(ke&&ct>Se[0]-8){_e=7;break e}$e[0]=ct,_e[0]+=8,Se[0]-=8,ft[0]=kt}else ft[0]=5<=Se[0]&&ct[lt+0]==47&&!(ct[lt+4]>>5),$e[0]=Se[0];_e=0}if(A=A[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],x=x[0],_e!=0)break;if(4294967286<Pe.Ja)return 3;if(Q==null||Fe||(Q[0]=Pe.xa?2:1),Y=[Y],We=[We],Pe.xa){if(5>A){_e=7;break}Q=Y,ke=We,Fe=G,f==null||5>A?f=0:5<=A&&f[x+0]==47&&!(f[x+4]>>5)?(Se=[0],ct=[0],Ue=[0],re($e=new M,f,x,A),dt($e,Se,ct,Ue)?(Q!=null&&(Q[0]=Se[0]),ke!=null&&(ke[0]=ct[0]),Fe!=null&&(Fe[0]=Ue[0]),f=1):f=0):f=0}else{if(10>A){_e=7;break}Q=We,f==null||10>A||!hl(f,x+3,A-3)?f=0:(ke=f[x+0]|f[x+1]<<8|f[x+2]<<16,Fe=16383&(f[x+7]<<8|f[x+6]),f=16383&(f[x+9]<<8|f[x+8]),1&ke||3<(ke>>1&7)||!(ke>>4&1)||ke>>5>=Pe.Ja||!Fe||!f?f=0:(Y&&(Y[0]=Fe),Q&&(Q[0]=f),f=1))}if(!f||(Y=Y[0],We=We[0],Ie&&(se[0]!=Y||we[0]!=We)))return 3;Z!=null&&(Z[0]=Pe,Z.offset=x-Z.w,e(4294967286>x-Z.w),e(Z.offset==Z.ha-A));break}return _e==0||_e==7&&Ie&&Z==null?(G!=null&&(G[0]|=Pe.na!=null&&0<Pe.na.length),R!=null&&(R[0]=Y),q!=null&&(q[0]=We),0):_e}function ac(f,x,A){var R=x.width,q=x.height,G=0,Y=0,Q=R,Z=q;if(x.Da=f!=null&&0<f.Da,x.Da&&(Q=f.cd,Z=f.bd,G=f.v,Y=f.j,11>A||(G&=-2,Y&=-2),0>G||0>Y||0>=Q||0>=Z||G+Q>R||Y+Z>q))return 0;if(x.v=G,x.j=Y,x.va=G+Q,x.o=Y+Z,x.U=Q,x.T=Z,x.da=f!=null&&0<f.da,x.da){if(!xt(Q,Z,A=[f.ib],G=[f.hb]))return 0;x.ib=A[0],x.hb=G[0]}return x.ob=f!=null&&f.ob,x.Kb=f==null||!f.Sd,x.da&&(x.ob=x.ib<3*R/4&&x.hb<3*q/4,x.Kb=0),1}function lc(f){if(f==null)return 2;if(11>f.S){var x=f.f.RGBA;x.fb+=(f.height-1)*x.A,x.A=-x.A}else x=f.f.kb,f=f.height,x.O+=(f-1)*x.fa,x.fa=-x.fa,x.N+=(f-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(f-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(f-1)*x.lb,x.lb=-x.lb);return 0}function yl(f,x,A,R){if(R==null||0>=f||0>=x)return 2;if(A!=null){if(A.Da){var q=A.cd,G=A.bd,Y=-2&A.v,Q=-2&A.j;if(0>Y||0>Q||0>=q||0>=G||Y+q>f||Q+G>x)return 2;f=q,x=G}if(A.da){if(!xt(f,x,q=[A.ib],G=[A.hb]))return 2;f=q[0],x=G[0]}}R.width=f,R.height=x;e:{var Z=R.width,se=R.height;if(f=R.S,0>=Z||0>=se||!(f>=fh&&13>f))f=2;else{if(0>=R.Rd&&R.sd==null){Y=G=q=x=0;var we=(Q=Z*Iu[f])*se;if(11>f||(G=(se+1)/2*(x=(Z+1)/2),f==12&&(Y=(q=Z)*se)),(se=i(we+2*G+Y))==null){f=1;break e}R.sd=se,11>f?((Z=R.f.RGBA).eb=se,Z.fb=0,Z.A=Q,Z.size=we):((Z=R.f.kb).y=se,Z.O=0,Z.fa=Q,Z.Fd=we,Z.f=se,Z.N=0+we,Z.Ab=x,Z.Cd=G,Z.ea=se,Z.W=0+we+G,Z.Db=x,Z.Ed=G,f==12&&(Z.F=se,Z.J=0+we+2*G),Z.Tc=Y,Z.lb=q)}if(x=1,q=R.S,G=R.width,Y=R.height,q>=fh&&13>q)if(11>q)f=R.f.RGBA,x&=(Q=Math.abs(f.A))*(Y-1)+G<=f.size,x&=Q>=G*Iu[q],x&=f.eb!=null;else{f=R.f.kb,Q=(G+1)/2,we=(Y+1)/2,Z=Math.abs(f.fa),se=Math.abs(f.Ab);var Ie=Math.abs(f.Db),ke=Math.abs(f.lb),Pe=ke*(Y-1)+G;x&=Z*(Y-1)+G<=f.Fd,x&=se*(we-1)+Q<=f.Cd,x=(x&=Ie*(we-1)+Q<=f.Ed)&Z>=G&se>=Q&Ie>=Q,x&=f.y!=null,x&=f.f!=null,x&=f.ea!=null,q==12&&(x&=ke>=G,x&=Pe<=f.Tc,x&=f.F!=null)}else x=0;f=x?0:2}}return f!=0||A!=null&&A.fd&&(f=lc(R)),f}var yr=64,cc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],uc=24,hc=32,dc=8,Os=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(f){return f},k.Predictor2=function(f,x,A){return x[A+0]},k.Predictor3=function(f,x,A){return x[A+1]},k.Predictor4=function(f,x,A){return x[A-1]},k.Predictor5=function(f,x,A){return st(st(f,x[A+1]),x[A+0])},k.Predictor6=function(f,x,A){return st(f,x[A-1])},k.Predictor7=function(f,x,A){return st(f,x[A+0])},k.Predictor8=function(f,x,A){return st(x[A-1],x[A+0])},k.Predictor9=function(f,x,A){return st(x[A+0],x[A+1])},k.Predictor10=function(f,x,A){return st(st(f,x[A-1]),st(x[A+0],x[A+1]))},k.Predictor11=function(f,x,A){var R=x[A+0];return 0>=Ut(R>>24&255,f>>24&255,(x=x[A-1])>>24&255)+Ut(R>>16&255,f>>16&255,x>>16&255)+Ut(R>>8&255,f>>8&255,x>>8&255)+Ut(255&R,255&f,255&x)?R:f},k.Predictor12=function(f,x,A){var R=x[A+0];return(vt((f>>24&255)+(R>>24&255)-((x=x[A-1])>>24&255))<<24|vt((f>>16&255)+(R>>16&255)-(x>>16&255))<<16|vt((f>>8&255)+(R>>8&255)-(x>>8&255))<<8|vt((255&f)+(255&R)-(255&x)))>>>0},k.Predictor13=function(f,x,A){var R=x[A-1];return(jt((f=st(f,x[A+0]))>>24&255,R>>24&255)<<24|jt(f>>16&255,R>>16&255)<<16|jt(f>>8&255,R>>8&255)<<8|jt(f>>0&255,R>>0&255))>>>0};var vl=k.PredictorAdd0;k.PredictorAdd1=Et,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var Xo=k.PredictorAdd2;$t("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),$t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var dh,Ms=k.ColorIndexInverseTransform,fc=k.MapARGB,xu=k.VP8LColorIndexInverseTransformAlpha,pc=k.MapAlpha,Co=k.VP8LPredictorsAdd=[];Co.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Da,Fs,xs,Oa,Qo,Jo,mc,Zo,An,ea,bs,Si,wl,bu,xl,bl,_l,Ai,ta,Io,na,ra,Ma,us,Qs,Wn,Mn,vr,Ir=i(511),ko=i(2041),gc=i(225),Sl=i(767),_u=0,Ro=ko,yc=gc,Vs=Sl,Bi=Ir,fh=0,Fa=1,Yf=2,Su=3,Au=4,Gn=5,ph=6,vc=7,Al=8,Eu=9,Tu=10,Nu=[2,3,7],mh=[3,3,11],El=[280,256,256,256,40],Xf=[0,1,1,1,0],Bg=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ug=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Qf=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gh=8,wc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Pu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Tl=null,Id=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],kd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Jf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Zf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zg=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],qg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Rd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bs=[],Ui=[],Js=[],Lo=1,xc=2,_s=[],Zs=[];Be("UpsampleRgbLinePair",J,3),Be("UpsampleBgrLinePair",Ne,3),Be("UpsampleRgbaLinePair",Qt,4),Be("UpsampleBgraLinePair",un,4),Be("UpsampleArgbLinePair",Xt,4),Be("UpsampleRgba4444LinePair",Xe,2),Be("UpsampleRgb565LinePair",Le,2);var $g=k.UpsampleRgbLinePair,Hg=k.UpsampleBgrLinePair,Va=k.UpsampleRgbaLinePair,bc=k.UpsampleBgraLinePair,Nl=k.UpsampleArgbLinePair,Cu=k.UpsampleRgba4444LinePair,Ld=k.UpsampleRgb565LinePair,sa=16,lo=1<<sa-1,Fn=-227,Un=482,Ba=6,hs=0,ei=i(256),Pl=i(256),_c=i(256),ti=i(256),yh=i(Un-Fn),ep=i(Un-Fn);On("YuvToRgbRow",J,3),On("YuvToBgrRow",Ne,3),On("YuvToRgbaRow",Qt,4),On("YuvToBgraRow",un,4),On("YuvToArgbRow",Xt,4),On("YuvToRgba4444Row",Xe,2),On("YuvToRgb565Row",Le,2);var jd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cl=[0,2,8],tp=[8,7,6,4,4,2,2,2,1,1,1,1],ia=1;this.WebPDecodeRGBA=function(f,x,A,R,q){var G=Fa,Y=new _i,Q=new tr;Y.ba=Q,Q.S=G,Q.width=[Q.width],Q.height=[Q.height];var Z=Q.width,se=Q.height,we=new Nr;if(we==null||f==null)var Ie=2;else e(we!=null),Ie=ao(f,x,A,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Ie!=0?Z=0:(Z!=null&&(Z[0]=we.width[0]),se!=null&&(se[0]=we.height[0]),Z=1),Z){Q.width=Q.width[0],Q.height=Q.height[0],R!=null&&(R[0]=Q.width),q!=null&&(q[0]=Q.height);e:{if(R=new $o,(q=new so).data=f,q.w=x,q.ha=A,q.kd=1,x=[0],e(q!=null),((f=ao(q.data,q.w,q.ha,null,null,null,x,null,q))==0||f==7)&&x[0]&&(f=4),(x=f)==0){if(e(Y!=null),R.data=q.data,R.w=q.w+q.offset,R.ha=q.ha-q.offset,R.put=Pr,R.ac=ir,R.bc=Kr,R.ma=Y,q.xa){if((f=an())==null){Y=1;break e}if(function(ke,Pe){var We=[0],Fe=[0],_e=[0];t:for(;;){if(ke==null)return 0;if(Pe==null)return ke.a=2,0;if(ke.l=Pe,ke.a=0,re(ke.m,Pe.data,Pe.w,Pe.ha),!dt(ke.m,We,Fe,_e)){ke.a=3;break t}if(ke.xb=xc,Pe.width=We[0],Pe.height=Fe[0],!St(We[0],Fe[0],1,ke,null))break t;return 1}return e(ke.a!=0),0}(f,R)){if(R=(x=yl(R.width,R.height,Y.Oa,Y.ba))==0){t:{R=f;n:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((A=R.l)!=null),e((q=A.ma)!=null),R.xb!=0){if(R.ca=q.ba,R.tb=q.tb,e(R.ca!=null),!ac(q.Oa,A,Su)){R.a=2;break n}if(!gs(R,A.width)||A.da)break n;if((A.da||on(R.ca.S))&&Ce(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&Ce()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!ht(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!Bn(R,R.V,R.Ba,R.c,R.i,A.o,Ot))break n;q.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(x=f.a)}else x=f.a}else{if((f=new ss)==null){Y=1;break e}if(f.Fa=q.na,f.P=q.P,f.qc=q.Sa,dl(f,R)){if((x=yl(R.width,R.height,Y.Oa,Y.ba))==0){if(f.Aa=0,A=Y.Oa,e((q=f)!=null),A!=null){if(0<(Z=0>(Z=A.Md)?0:100<Z?255:255*Z/100)){for(se=we=0;4>se;++se)12>(Ie=q.pb[se]).lc&&(Ie.ia=Z*tp[0>Ie.lc?0:Ie.lc]>>3),we|=Ie.ia;we&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=A.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}xo(f,R)||(x=f.a)}}else x=f.a}x==0&&Y.Oa!=null&&Y.Oa.fd&&(x=lc(Y.ba))}Y=x}G=Y!=0?null:11>G?Q.f.RGBA.eb:Q.f.kb.y}else G=null;return G};var Iu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(k,B){for(var W="",j=0;j<4;j++)W+=String.fromCharCode(k[B++]);return W}function p(k,B){return(k[B+0]<<0|k[B+1]<<8|k[B+2]<<16)>>>0}function g(k,B){return(k[B+0]<<0|k[B+1]<<8|k[B+2]<<16|k[B+3]<<24)>>>0}new u;var w=[0],y=[0],T=[],E=new u,P=n,I=function(k,B){var W={},j=0,D=!1,V=0,ee=0;if(W.frames=[],!function(X,ie,he,me){for(var ne=0;ne<me;ne++)if(X[ie+ne]!=he.charCodeAt(ne))return!0;return!1}(k,B,"RIFF",4)){for(g(k,B+=4),B+=8;B<k.length;){var Ee=d(k,B),de=g(k,B+=4);B+=4;var Ae=de+(1&de);switch(Ee){case"VP8 ":case"VP8L":W.frames[j]===void 0&&(W.frames[j]={}),(fe=W.frames[j]).src_off=D?ee:B-8,fe.src_size=V+de+8,j++,D&&(D=!1,V=0,ee=0);break;case"VP8X":(fe=W.header={}).feature_flags=k[B];var re=B+4;fe.canvas_width=1+p(k,re),re+=3,fe.canvas_height=1+p(k,re),re+=3;break;case"ALPH":D=!0,V=Ae+8,ee=B-8;break;case"ANIM":(fe=W.header).bgcolor=g(k,B),re=B+4,fe.loop_count=(oe=k)[(M=re)+0]<<0|oe[M+1]<<8,re+=2;break;case"ANMF":var ye,fe;(fe=W.frames[j]={}).offset_x=2*p(k,B),B+=3,fe.offset_y=2*p(k,B),B+=3,fe.width=1+p(k,B),B+=3,fe.height=1+p(k,B),B+=3,fe.duration=p(k,B),B+=3,ye=k[B++],fe.dispose=1&ye,fe.blend=ye>>1&1}Ee!="ANMF"&&(B+=Ae)}var oe,M;return W}}(P,0);I.response=P,I.rgbaoutput=!0,I.dataurl=!1;var L=I.header?I.header:null,F=I.frames?I.frames:null;if(L){L.loop_counter=L.loop_count,w=[L.canvas_height],y=[L.canvas_width];for(var H=0;H<F.length&&F[H].blend!=0;H++);}var te=F[0],le=E.WebPDecodeRGBA(P,te.src_off,te.src_size,y,w);te.rgba=le,te.imgwidth=y[0],te.imgheight=w[0];for(var U=0;U<y[0]*w[0]*4;U++)T[U]=le[U];return this.width=y,this.height=w,this.data=T,this}(function(n){var e=function(){return typeof Cy=="function"},t=function(w,y,T,E){var P=4,I=a;switch(E){case n.image_compression.FAST:P=1,I=i;break;case n.image_compression.MEDIUM:P=6,I=c;break;case n.image_compression.SLOW:P=9,I=u}w=r(w,y,T,I);var L=Cy(w,{level:P});return n.__addimage__.arrayBufferToBinaryString(L)},r=function(w,y,T,E){for(var P,I,L,F=w.length/y,H=new Uint8Array(w.length+F),te=p(),le=0;le<F;le+=1){if(L=le*y,P=w.subarray(L,L+y),E)H.set(E(P,T,I),L+le);else{for(var U,k=te.length,B=[];U<k;U+=1)B[U]=te[U](P,T,I);var W=g(B.concat());H.set(B[W],L+le)}I=P}return H},s=function(w){var y=Array.apply([],w);return y.unshift(0),y},i=function(w,y){var T,E=[],P=w.length;E[0]=1;for(var I=0;I<P;I+=1)T=w[I-y]||0,E[I+1]=w[I]-T+256&255;return E},a=function(w,y,T){var E,P=[],I=w.length;P[0]=2;for(var L=0;L<I;L+=1)E=T&&T[L]||0,P[L+1]=w[L]-E+256&255;return P},c=function(w,y,T){var E,P,I=[],L=w.length;I[0]=3;for(var F=0;F<L;F+=1)E=w[F-y]||0,P=T&&T[F]||0,I[F+1]=w[F]+256-(E+P>>>1)&255;return I},u=function(w,y,T){var E,P,I,L,F=[],H=w.length;F[0]=4;for(var te=0;te<H;te+=1)E=w[te-y]||0,P=T&&T[te]||0,I=T&&T[te-y]||0,L=d(E,P,I),F[te+1]=w[te]-L+256&255;return F},d=function(w,y,T){if(w===y&&y===T)return w;var E=Math.abs(y-T),P=Math.abs(w-T),I=Math.abs(w+y-T-T);return E<=P&&E<=I?w:P<=I?y:T},p=function(){return[s,i,a,c,u]},g=function(w){var y=w.map(function(T){return T.reduce(function(E,P){return E+Math.abs(P)},0)});return y.indexOf(Math.min.apply(null,y))};n.processPNG=function(w,y,T,E){var P,I,L,F,H,te,le,U,k,B,W,j,D,V,ee,Ee=this.decode.FLATE_DECODE,de="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(L=new WV(w)).imgData,I=L.bits,P=L.colorSpace,H=L.colors,[4,6].indexOf(L.colorType)!==-1){if(L.bits===8){k=(U=L.pixelBitlength==32?new Uint32Array(L.decodePixels().buffer):L.pixelBitlength==16?new Uint16Array(L.decodePixels().buffer):new Uint8Array(L.decodePixels().buffer)).length,W=new Uint8Array(k*L.colors),B=new Uint8Array(k);var Ae,re=L.pixelBitlength-L.bits;for(V=0,ee=0;V<k;V++){for(D=U[V],Ae=0;Ae<re;)W[ee++]=D>>>Ae&255,Ae+=L.bits;B[V]=D>>>Ae&255}}if(L.bits===16){k=(U=new Uint32Array(L.decodePixels().buffer)).length,W=new Uint8Array(k*(32/L.pixelBitlength)*L.colors),B=new Uint8Array(k*(32/L.pixelBitlength)),j=L.colors>1,V=0,ee=0;for(var ye=0;V<k;)D=U[V++],W[ee++]=D>>>0&255,j&&(W[ee++]=D>>>16&255,D=U[V++],W[ee++]=D>>>0&255),B[ye++]=D>>>16&255;I=8}E!==n.image_compression.NONE&&e()?(w=t(W,L.width*L.colors,L.colors,E),le=t(B,L.width,1,E)):(w=W,le=B,Ee=void 0)}if(L.colorType===3&&(P=this.color_spaces.INDEXED,te=L.palette,L.transparency.indexed)){var fe=L.transparency.indexed,oe=0;for(V=0,k=fe.length;V<k;++V)oe+=fe[V];if((oe/=255)===k-1&&fe.indexOf(0)!==-1)F=[fe.indexOf(0)];else if(oe!==k){for(U=L.decodePixels(),B=new Uint8Array(U.length),V=0,k=U.length;V<k;V++)B[V]=fe[U[V]];le=t(B,L.width,1)}}var M=function(X){var ie;switch(X){case n.image_compression.FAST:ie=11;break;case n.image_compression.MEDIUM:ie=13;break;case n.image_compression.SLOW:ie=14;break;default:ie=12}return ie}(E);return Ee===this.decode.FLATE_DECODE&&(de="/Predictor "+M+" "),de+="/Colors "+H+" /BitsPerComponent "+I+" /Columns "+L.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(le&&this.__addimage__.isArrayBuffer(le)||this.__addimage__.isArrayBufferView(le))&&(le=this.__addimage__.arrayBufferToBinaryString(le)),{alias:T,data:w,index:y,filter:Ee,decodeParameters:de,transparency:F,palette:te,sMask:le,predictor:M,width:L.width,height:L.height,bitsPerComponent:I,colorSpace:P}}}})(Bt.API),function(n){n.processGIF89A=function(e,t,r,s){var i=new GV(e),a=i.width,c=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:a,height:c},p=new v0(100).encode(d,100);return n.processJPEG.call(this,p,t,r,s)},n.processGIF87A=n.processGIF89A}(Bt.API),ya.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ya.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Jn.log("bit decode error:"+t)}},ya.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var u=this.palette[i>>7-c&1];this.data[a+4*c]=u.blue,this.data[a+4*c+1]=u.green,this.data[a+4*c+2]=u.red,this.data[a+4*c+3]=255}t!==0&&(this.pos+=4-t)}},ya.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*s*4,c=i>>4,u=15&i,d=this.palette[c];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*s+1>=this.width)break;d=this.palette[u],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},ya.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}n!==0&&(this.pos+=4-n)}},ya.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,c=(i>>5&e)/e*255|0,u=(i>>10&e)/e*255|0,d=i>>15?255:0,p=r*this.width*4+4*s;this.data[p]=u,this.data[p+1]=c,this.data[p+2]=a,this.data[p+3]=d}this.pos+=n}},ya.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(a&e)/e*255|0,u=(a>>5&t)/t*255|0,d=(a>>11)/e*255|0,p=s*this.width*4+4*i;this.data[p]=d,this.data[p+1]=u,this.data[p+2]=c,this.data[p+3]=255}this.pos+=n}},ya.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},ya.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=i,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=a}},ya.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,s){var i=new ya(e,!1),a=i.width,c=i.height,u={data:i.getData(),width:a,height:c},d=new v0(100).encode(u,100);return n.processJPEG.call(this,d,t,r,s)}}(Bt.API),l_.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,s){var i=new l_(e),a=i.width,c=i.height,u={data:i.getData(),width:a,height:c},d=new v0(100).encode(u,100);return n.processJPEG.call(this,d,t,r,s)}}(Bt.API),Bt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),c=0,u=0,d=0;d<s;d+=4){var p=r[d],g=r[d+1],w=r[d+2],y=r[d+3];i[c++]=p,i[c++]=g,i[c++]=w,a[u++]=y}var T=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:T,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Bt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},jh=Bt.API,Yp=jh.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,u=c.fof?c.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,p=d.fof?d.fof:1,g=e.doKerning!==!1,w=0,y=n.length,T=0,E=c[0]||u,P=[];for(t=0;t<y;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?P.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(w=g&&Kn(d[r])==="object"&&!isNaN(parseInt(d[r][T],10))?d[r][T]/p:0,P.push((c[r]||E)/u+w)),T=r;return P},s_=jh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return jh.processArabic&&(n=jh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:Yp.apply(this,arguments).reduce(function(i,a){return i+a},0)},i_=function(n,e,t,r){for(var s=[],i=0,a=n.length,c=0;i!==a&&c+e[i]<t;)c+=e[i],i++;s.push(n.slice(0,i));var u=i;for(c=0;i!==a;)c+e[i]>r&&(s.push(n.slice(u,i)),c=0,u=i),c+=e[i],i++;return u!==i&&s.push(n.slice(u,i)),s},o_=function(n,e,t){t||(t={});var r,s,i,a,c,u,d,p=[],g=[p],w=t.textIndent||0,y=0,T=0,E=n.split(" "),P=Yp.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?E[0].length+2:t.lineIndent||0){var I=Array(u).join(" "),L=[];E.map(function(H){(H=H.split(/\s*\n/)).length>1?L=L.concat(H.map(function(te,le){return(le&&te.length?`
`:"")+te})):L.push(H[0])}),E=L,u=s_.apply(this,[I,t])}for(i=0,a=E.length;i<a;i++){var F=0;if(r=E[i],u&&r[0]==`
`&&(r=r.substr(1),F=1),w+y+(T=(s=Yp.apply(this,[r,t])).reduce(function(H,te){return H+te},0))>e||F){if(T>e){for(c=i_.apply(this,[r,s,e-(w+y),e]),p.push(c.shift()),p=[c.pop()];c.length;)g.push([c.shift()]);T=s.slice(r.length-(p[0]?p[0].length:0)).reduce(function(H,te){return H+te},0)}else p=[r];g.push(p),w=T+u,y=P}else p.push(r),w+=y+T,y=P}return d=u?function(H,te){return(te?I:"")+H.join(" ")}:function(H){return H.join(" ")},g.map(d)},jh.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var g=this.internal.getFont(p.fontName,p.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var c,u,d=[];for(c=0,u=r.length;c<u;c++)d=d.concat(o_.apply(this,[r[c],a,i]));return d},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},s=0;s<e.length;s++)t[e[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=e[s];var i=function(g){return"0x"+parseInt(g,10).toString(16)},a=n.__fontmetrics__.compress=function(g){var w,y,T,E,P=["{"];for(var I in g){if(w=g[I],isNaN(parseInt(I,10))?y="'"+I+"'":(I=parseInt(I,10),y=(y=i(I).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof w=="number")w<0?(T=i(w).slice(3),E="-"):(T=i(w).slice(2),E=""),T=E+T.slice(0,-1)+r[T.slice(-1)];else{if(Kn(w)!=="object")throw new Error("Don't know what to do with value type "+Kn(w)+".");T=a(w)}P.push(y+T)}return P.push("}"),P.join("")},c=n.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,y,T,E,P={},I=1,L=P,F=[],H="",te="",le=g.length-1,U=1;U<le;U+=1)(E=g[U])=="'"?w?(T=w.join(""),w=void 0):w=[]:w?w.push(E):E=="{"?(F.push([L,T]),L={},T=void 0):E=="}"?((y=F.pop())[0][y[1]]=L,T=void 0,L=y[0]):E=="-"?I=-1:T===void 0?t.hasOwnProperty(E)?(H+=t[E],T=parseInt(H,16)*I,I=1,H=""):H+=E:t.hasOwnProperty(E)?(te+=t[E],L[T]=parseInt(te,16)*I,I=1,T=void 0,te=""):te+=E;return P},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(g){var w=g.font,y=p.Unicode[w.postScriptName];y&&(w.metadata.Unicode={},w.metadata.Unicode.widths=y.widths,w.metadata.Unicode.kerning=y.kerning);var T=d.Unicode[w.postScriptName];T&&(w.metadata.Unicode.encoding=T,w.encoding=T.codePages[0])}])}(Bt.API),function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=t.charCodeAt(i);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(vf(c)),a.metadata=n.API.TTFFont.open(c),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,r)}}])}(Bt),function(n){function e(){return(qt.canvg?Promise.resolve(qt.canvg):Ay(()=>import("./index.es-Dg72w4Xu.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Bt.API.addSvgAsImage=function(t,r,s,i,a,c,u,d){if(isNaN(r)||isNaN(s))throw Jn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Jn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=i,p.height=a;var g=p.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,p.width,p.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then(function(T){return T.fromString(g,t,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(w)}).then(function(){y.addImage(p.toDataURL("image/jpeg",1),r,s,i,a,u,d)})}}(),Bt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},Bt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(a),u=[],d=0,p=0,g=0;function w(T,E){var P,I=!1;for(P=0;P<T.length;P+=1)T[P]===E&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var y=c.length;for(g=0;g<y;g+=1)t[c[g]].value=t[c[g]].defaultValue,t[c[g]].explicitSet=!1}if(Kn(n)==="object"){for(s in n)if(i=n[s],w(c,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&w(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(d=0;d<i.length;d+=1)if(r=!0,i[d].length===1&&typeof i[d][0]=="number")u.push(String(i[d]-1));else if(i[d].length>1){for(p=0;p<i[d].length;p+=1)typeof i[d][p]!="number"&&(r=!1);r===!0&&u.push([i[d][0]-1,i[d][1]-1].join(" "))}t[s].value="["+u.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,E=[];for(T in t)t[T].explicitSet===!0&&(t[T].type==="name"?E.push("/"+T+" /"+t[T].value):E.push("/"+T+" "+t[T].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+a.length+c.length+s.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+c+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Bt.API),function(n){var e=n.API,t=e.pdfEscape16=function(i,a){for(var c,u=a.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],g=0,w=i.length;g<w;++g){if(c=a.metadata.characterToGlyph(i.charCodeAt(g)),a.metadata.glyIdsUsed.push(c),a.metadata.toUnicode[c]=i.charCodeAt(g),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(a.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(d[4-c.length],c)}return p.join("")},r=function(i){var a,c,u,d,p,g,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],g=0,w=(c=Object.keys(i).sort(function(y,T){return y-T})).length;g<w;g++)a=c[g],u.length>=100&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(d=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+d+">"));return u.length&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var c=a.font,u=a.out,d=a.newObject,p=a.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var g=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",T=0;T<w.length;T++)y+=String.fromCharCode(w[T]);var E=d();p({data:y,addLength1:!0,objectId:E}),u("endobj");var P=d();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:P}),u("endobj");var I=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Bh(c.fontName)),u("/FontFile2 "+E+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var L=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+Bh(c.fontName)),u("/FontDescriptor "+I+" 0 R"),u("/W "+n.API.PDFObject.convert(g)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+P+" 0 R"),u("/BaseFont /"+Bh(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+L+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var c=a.font,u=a.out,d=a.newObject,p=a.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var g=c.metadata.rawData,w="",y=0;y<g.length;y++)w+=String.fromCharCode(g[y]);var T=d();p({data:w,addLength1:!0,objectId:T}),u("endobj");var E=d();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:E}),u("endobj");var P=d();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+T+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Bh(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=d();for(var I=0;I<c.metadata.hmtx.widths.length;I++)c.metadata.hmtx.widths[I]=parseInt(c.metadata.hmtx.widths[I]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Bh(c.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,c=i.text||"",u=i.x,d=i.y,p=i.options||{},g=i.mutex||{},w=g.pdfEscape,y=g.activeFontKey,T=g.fonts,E=y,P="",I=0,L="",F=T[E].encoding;if(T[E].encoding!=="Identity-H")return{text:c,x:u,y:d,options:p,mutex:g};for(L=c,E=y,Array.isArray(c)&&(L=c[0]),I=0;I<L.length;I+=1)T[E].metadata.hasOwnProperty("cmap")&&(a=T[E].metadata.cmap.unicode.codeMap[L[I].charCodeAt(0)]),a||L[I].charCodeAt(0)<256&&T[E].metadata.hasOwnProperty("Unicode")?P+=L[I]:P+="";var H="";return parseInt(E.slice(1))<14||F==="WinAnsiEncoding"?H=w(P,E).split("").map(function(te){return te.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(H=t(P,T[E])),g.isHex=!0,{text:H,x:u,y:d,options:p,mutex:g}};e.events.push(["postProcessText",function(i){var a=i.text||"",c=[],u={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?c.push([s(Object.assign({},u,{text:a[d][0]})).text,a[d][1],a[d][2]]):c.push(s(Object.assign({},u,{text:a[d]})).text);i.text=c}else i.text=s(Object.assign({},u,{text:a})).text}])}(Bt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Bt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,i,a,c,u,d,p,g=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,F=0;this.__bidiEngine__={};var H=function(j){var D=j.charCodeAt(),V=D>>8,ee=E[V];return ee!==void 0?g[256*ee+(255&D)]:V===252||V===253?"AL":I.test(V)?"L":V===8?"R":"N"},te=function(j){for(var D,V=0;V<j.length;V++){if((D=H(j.charAt(V)))==="L")return!1;if(D==="R")return!0}return!1},le=function(j,D,V,ee){var Ee,de,Ae,re,ye=D[ee];switch(ye){case"L":case"R":L=!1;break;case"N":case"AN":break;case"EN":L&&(ye="AN");break;case"AL":L=!0,ye="R";break;case"WS":ye="N";break;case"CS":ee<1||ee+1>=D.length||(Ee=V[ee-1])!=="EN"&&Ee!=="AN"||(de=D[ee+1])!=="EN"&&de!=="AN"?ye="N":L&&(de="AN"),ye=de===Ee?de:"N";break;case"ES":ye=(Ee=ee>0?V[ee-1]:"B")==="EN"&&ee+1<D.length&&D[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&V[ee-1]==="EN"){ye="EN";break}if(L){ye="N";break}for(Ae=ee+1,re=D.length;Ae<re&&D[Ae]==="ET";)Ae++;ye=Ae<re&&D[Ae]==="EN"?"EN":"N";break;case"NSM":if(a&&!c){for(re=D.length,Ae=ee+1;Ae<re&&D[Ae]==="NSM";)Ae++;if(Ae<re){var fe=j[ee],oe=fe>=1425&&fe<=2303||fe===64286;if(Ee=D[Ae],oe&&(Ee==="R"||Ee==="AL")){ye="R";break}}}ye=ee<1||(Ee=D[ee-1])==="B"?"N":V[ee-1];break;case"B":L=!1,s=!0,ye=F;break;case"S":i=!0,ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"BN":ye="N"}return ye},U=function(j,D,V){var ee=j.split("");return V&&k(ee,V,{hiLevel:F}),ee.reverse(),D&&D.reverse(),ee.join("")},k=function(j,D,V){var ee,Ee,de,Ae,re,ye=-1,fe=j.length,oe=0,M=[],X=F?y:w,ie=[];for(L=!1,s=!1,i=!1,Ee=0;Ee<fe;Ee++)ie[Ee]=H(j[Ee]);for(de=0;de<fe;de++){if(re=oe,M[de]=le(j,ie,M,de),ee=240&(oe=X[re][T[M[de]]]),oe&=15,D[de]=Ae=X[oe][5],ee>0)if(ee===16){for(Ee=ye;Ee<de;Ee++)D[Ee]=1;ye=-1}else ye=-1;if(X[oe][6])ye===-1&&(ye=de);else if(ye>-1){for(Ee=ye;Ee<de;Ee++)D[Ee]=Ae;ye=-1}ie[de]==="B"&&(D[de]=0),V.hiLevel|=Ae}i&&function(he,me,ne){for(var ce=0;ce<ne;ce++)if(he[ce]==="S"){me[ce]=F;for(var ge=ce-1;ge>=0&&he[ge]==="WS";ge--)me[ge]=F}}(ie,D,fe)},B=function(j,D,V,ee,Ee){if(!(Ee.hiLevel<j)){if(j===1&&F===1&&!s)return D.reverse(),void(V&&V.reverse());for(var de,Ae,re,ye,fe=D.length,oe=0;oe<fe;){if(ee[oe]>=j){for(re=oe+1;re<fe&&ee[re]>=j;)re++;for(ye=oe,Ae=re-1;ye<Ae;ye++,Ae--)de=D[ye],D[ye]=D[Ae],D[Ae]=de,V&&(de=V[ye],V[ye]=V[Ae],V[Ae]=de);oe=re}oe++}}},W=function(j,D,V){var ee=j.split(""),Ee={hiLevel:F};return V||(V=[]),k(ee,V,Ee),function(de,Ae,re){if(re.hiLevel!==0&&p)for(var ye,fe=0;fe<de.length;fe++)Ae[fe]===1&&(ye=P.indexOf(de[fe]))>=0&&(de[fe]=P[ye+1])}(ee,V,Ee),B(2,ee,D,V,Ee),B(1,ee,D,V,Ee),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(j,D,V){if(function(Ee,de){if(de)for(var Ae=0;Ae<Ee.length;Ae++)de[Ae]=Ae;c===void 0&&(c=te(Ee)),d===void 0&&(d=te(Ee))}(j,D),a||!u||d)if(a&&u&&c^d)F=c?1:0,j=U(j,D,V);else if(!a&&u&&d)F=c?1:0,j=W(j,D,V),j=U(j,D);else if(!a||c||u||d){if(a&&!u&&c^d)j=U(j,D),c?(F=0,j=W(j,D,V)):(F=1,j=W(j,D,V),j=U(j,D));else if(a&&c&&!u&&d)F=1,j=W(j,D,V),j=U(j,D);else if(!a&&!u&&c^d){var ee=p;c?(F=1,j=W(j,D,V),F=0,p=!1,j=W(j,D,V),p=ee):(F=0,j=W(j,D,V),j=U(j,D),F=1,p=!1,j=W(j,D,V),p=ee,j=U(j,D))}}else F=0,j=W(j,D,V);else F=c?1:0,j=W(j,D,V);return j},this.__bidiEngine__.setOptions=function(j){j&&(a=j.isInputVisual,u=j.isOutputVisual,c=j.isInputRtl,d=j.isOutputRtl,p=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(a=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?a.push([t.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):a.push([t.doBidiReorder(s[c])]);r.text=a}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}(Bt),Bt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new mu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new lB(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new KV(this.contents),this.head=new XV(this),this.name=new tB(this),this.cmap=new TT(this),this.toUnicode={},this.hhea=new QV(this),this.maxp=new nB(this),this.hmtx=new rB(this),this.post=new ZV(this),this.os2=new JV(this),this.loca=new aB(this),this.glyf=new sB(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,c,u,d;for(d=[],a=0,c=(u=this.bbox).length;a<c;a++)e=u[a],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),(32768&(t=s>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,i,a,c;for(a=0,i=0,c=(e=""+e).length;0<=c?i<c:i>c;i=0<=c?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var Ta,mu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,i,a,c,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),c=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^c)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*i+65536*a+256*c+u},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)t=e[r],i.push(this.writeByte(t));return i},n}(),KV=function(){var n;function e(t){var r,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,i,a,c,u,d,p,g,w,y,T,E;for(E in y=Object.keys(t).length,u=Math.log(2),g=16*Math.floor(Math.log(y)/u),a=Math.floor(g/u),p=16*y-g,(s=new mu).writeInt(this.scalarType),s.writeShort(y),s.writeShort(g),s.writeShort(a),s.writeShort(p),i=16*y,d=s.pos+i,c=null,T=[],t)for(w=t[E],s.writeString(E),s.writeInt(n(w)),s.writeInt(d),s.writeInt(w.length),T=T.concat(w),E==="head"&&(c=d),d+=w.length;d%4;)T.push(0),d++;return s.write(T),r=2981146554-n(s.data),s.pos=c+8,s.writeUInt32(r),s.data},n=function(t){var r,s,i,a;for(t=NT.call(t);t.length%4;)t.push(0);for(i=new mu(t),s=0,r=0,a=t.length;r<a;r=r+=4)s+=i.readUInt32();return 4294967295&s},e}(),YV={}.hasOwnProperty,ul=function(n,e){for(var t in e)YV.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Ta=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var XV=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,Ta),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new mu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),c_=function(){function n(e,t){var r,s,i,a,c,u,d,p,g,w,y,T,E,P,I,L,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(y=e.readUInt16(),w=y/2,e.pos+=6,i=function(){var H,te;for(te=[],u=H=0;0<=w?H<w:H>w;u=0<=w?++H:--H)te.push(e.readUInt16());return te}(),e.pos+=2,E=function(){var H,te;for(te=[],u=H=0;0<=w?H<w:H>w;u=0<=w?++H:--H)te.push(e.readUInt16());return te}(),d=function(){var H,te;for(te=[],u=H=0;0<=w?H<w:H>w;u=0<=w?++H:--H)te.push(e.readUInt16());return te}(),p=function(){var H,te;for(te=[],u=H=0;0<=w?H<w:H>w;u=0<=w?++H:--H)te.push(e.readUInt16());return te}(),s=(this.length-e.pos+this.offset)/2,c=function(){var H,te;for(te=[],u=H=0;0<=s?H<s:H>s;u=0<=s?++H:--H)te.push(e.readUInt16());return te}(),u=I=0,F=i.length;I<F;u=++I)for(P=i[u],r=L=T=E[u];T<=P?L<=P:L>=P;r=T<=P?++L:--L)p[u]===0?a=r+d[u]:(a=c[p[u]/2+(r-T)-(w-u)]||0)!==0&&(a+=d[u]),this.codeMap[r]=65535&a}e.pos=g}return n.encode=function(e,t){var r,s,i,a,c,u,d,p,g,w,y,T,E,P,I,L,F,H,te,le,U,k,B,W,j,D,V,ee,Ee,de,Ae,re,ye,fe,oe,M,X,ie,he,me,ne,ce,ge,xe,je,ze;switch(ee=new mu,a=Object.keys(e).sort(function(He,ht){return He-ht}),t){case"macroman":for(E=0,P=function(){var He=[];for(T=0;T<256;++T)He.push(0);return He}(),L={0:0},i={},Ee=0,ye=a.length;Ee<ye;Ee++)L[ge=e[s=a[Ee]]]==null&&(L[ge]=++E),i[s]={old:e[s],new:L[e[s]]},P[s]=L[e[s]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(P),{charMap:i,subtable:ee.data,maxGlyphID:E+1};case"unicode":for(D=[],g=[],F=0,L={},r={},I=d=null,de=0,fe=a.length;de<fe;de++)L[te=e[s=a[de]]]==null&&(L[te]=++F),r[s]={old:te,new:L[te]},c=L[te]-s,I!=null&&c===d||(I&&g.push(I),D.push(s),d=c),I=s;for(I&&g.push(I),g.push(65535),D.push(65535),W=2*(B=D.length),k=2*Math.pow(Math.log(B)/Math.LN2,2),w=Math.log(k/2)/Math.LN2,U=2*B-k,u=[],le=[],y=[],T=Ae=0,oe=D.length;Ae<oe;T=++Ae){if(j=D[T],p=g[T],j===65535){u.push(0),le.push(0);break}if(j-(V=r[j].new)>=32768)for(u.push(0),le.push(2*(y.length+B-T)),s=re=j;j<=p?re<=p:re>=p;s=j<=p?++re:--re)y.push(r[s].new);else u.push(V-j),le.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*B+2*y.length),ee.writeUInt16(0),ee.writeUInt16(W),ee.writeUInt16(k),ee.writeUInt16(w),ee.writeUInt16(U),ne=0,M=g.length;ne<M;ne++)s=g[ne],ee.writeUInt16(s);for(ee.writeUInt16(0),ce=0,X=D.length;ce<X;ce++)s=D[ce],ee.writeUInt16(s);for(xe=0,ie=u.length;xe<ie;xe++)c=u[xe],ee.writeUInt16(c);for(je=0,he=le.length;je<he;je++)H=le[je],ee.writeUInt16(H);for(ze=0,me=y.length;ze<me;ze++)E=y[ze],ee.writeUInt16(E);return{charMap:r,subtable:ee.data,maxGlyphID:F+1}}},n}(),TT=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,Ta),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,s,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r=new c_(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var s,i;return r==null&&(r="macroman"),s=c_.encode(t,r),(i=new mu).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),QV=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,Ta),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),JV=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,Ta),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(t.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),ZV=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,Ta),e.prototype.tag="post",e.prototype.parse=function(t){var r,s,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(s=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=(function(){var c,u,d;for(d=[],a=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;a=0<=u?++c:--c)d.push(t.readUInt32());return d}).call(this)}},e}(),eB=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},tB=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,Ta),e.prototype.tag="name",e.prototype.parse=function(t){var r,s,i,a,c,u,d,p,g,w,y;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),s=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},a=g=0,w=s.length;g<w;a=++g)i=s[a],t.pos=i.offset,p=t.readString(i.length),c=new eB(p,i),d[y=i.nameID]==null&&(d[y]=[]),d[i.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),nB=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,Ta),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),rB=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,Ta),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,s,i,a,c,u,d;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,g;for(g=[],r=p=0;0<=i?p<i:p>i;r=0<=i?++p:--p)g.push(t.readInt16());return g}(),this.widths=(function(){var p,g,w,y;for(y=[],p=0,g=(w=this.metrics).length;p<g;p++)a=w[p],y.push(a.advance);return y}).call(this),s=this.widths[this.widths.length-1],d=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)d.push(this.widths.push(s));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),NT=[].slice,sB=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,Ta),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,s,i,a,c,u,d,p,g,w;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,s=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+s,c=(u=new mu(r.read(i))).readShort(),p=u.readShort(),w=u.readShort(),d=u.readShort(),g=u.readShort(),this.cache[t]=c===-1?new oB(u,p,w,d,g):new iB(u,c,p,w,d,g),this.cache[t]))},e.prototype.encode=function(t,r,s){var i,a,c,u,d;for(c=[],a=[],u=0,d=r.length;u<d;u++)i=t[r[u]],a.push(c.length),i&&(c=c.concat(i.encode(s)));return a.push(c.length),{table:c,offsets:a}},e}(),iB=function(){function n(e,t,r,s,i,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),oB=function(){function n(e,t,r,s,i){var a,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;c=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&c;)a.pos+=1&c?4:2,128&c?a.pos+=8:64&c?a.pos+=4:8&c&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new mu(NT.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),aB=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,Ta),e.prototype.tag="loca",e.prototype.parse=function(t){var r,s;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,c=0;c<s.length;++c)if(s[c]=i,a<r.length&&r[a]==c){++a,s[c]=i;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(i+=d)}for(var p=new Array(4*s.length),g=0;g<s.length;++g)p[4*g+3]=255&s[g],p[4*g+2]=(65280&s[g])>>8,p[4*g+1]=(16711680&s[g])>>16,p[4*g]=(4278190080&s[g])>>24;return p},e}(),lB=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,i;for(t in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,i,a,c,u;for(s={},a=0,c=e.length;a<c;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(r=s[i])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(i in u=this.glyphsFor(t))r=u[i],s[i]=r;return s},n.prototype.encode=function(e,t){var r,s,i,a,c,u,d,p,g,w,y,T,E,P,I;for(s in r=TT.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),y={0:0},I=r.charMap)y[(u=I[s]).old]=u.new;for(T in w=r.maxGlyphID,a)T in y||(y[T]=w++);return p=function(L){var F,H;for(F in H={},L)H[L[F]]=F;return H}(y),g=Object.keys(p).sort(function(L,F){return L-F}),E=function(){var L,F,H;for(H=[],L=0,F=g.length;L<F;L++)c=g[L],H.push(p[c]);return H}(),i=this.font.glyf.encode(a,E,y),d=this.font.loca.encode(i.offsets,E),P={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},n}();Bt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,i,a;if(Array.isArray(t))return"["+function(){var c,u,d;for(d=[],c=0,u=t.length;c<u;c++)r=t[c],d.push(e.convert(r));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)a=t[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+t},e}();const cB="karstoq2025",w0="Não Definido",uB=[{id:1,username:"admin",password:"admin",name:"Administrador"}],hB=()=>{const[n,e]=z.useState(""),[t,r]=z.useState(!1),[s,i]=z.useState(!0),[a,c]=z.useState(!1),[u,d]=z.useState(!1),[p,g]=z.useState("general"),[w,y]=z.useState(""),[T,E]=Dl("arkosSoundEnabled",!0),[P,I]=Dl("arkosObservations",""),[L,F]=Dl("arkosTheme",!0),[H,te]=Dl("arkosAllCollectionsData",{}),[le,U]=Dl("arkosCurrentOperator",w0),[k,B]=Dl("arkosOperators",[w0]),[W,j]=Dl("arkosUsers",uB),[D,V]=Dl("arkosLoggedIn",!1),[ee,Ee]=Dl("arkosCurrentUser",null),[de,Ae]=z.useState("Shopfaz"),[re,ye]=z.useState("Manha"),{toast:fe}=ng(),oe=z.useRef(null),[M,X]=z.useState(""),[ie,he]=z.useState(!1),[me,ne]=z.useState(null),[ce,ge]=z.useState(null),xe={bip:z.useRef(null),siren:z.useRef(null)},je=z.useCallback((Ve,it,pt,Tt)=>{const Yt=Tt||new Date().toLocaleDateString("pt-BR").replace(/\//g,"-");return`${Ve}_${it}_${pt}_${Yt}`},[]),[ze,He]=z.useState(()=>je(de,re,le)),[ht,Oe]=z.useState([]),[ue,xt]=z.useState([]),[ut,Ke]=z.useState(null);z.useEffect(()=>{document.documentElement.classList.toggle("dark",L);const Ve=t||a||ie||s||u;return document.body.style.overflow=Ve?"hidden":"auto",D?ee!=null&&ee.isAdmin&&document.documentElement.classList.add("admin-user"):i(!0),()=>{document.body.style.overflow="auto"}},[L,t,a,ie,s,D,ee]),z.useEffect(()=>{const Ve=it=>{it.ctrlKey&&it.shiftKey&&it.key==="A"&&(it.preventDefault(),ee!=null&&ee.isAdmin?(d(!0),fe({title:"Painel Administrativo",description:"Painel administrativo aberto via atalho de teclado.",className:"arkos-toast-info"})):fe({title:"Acesso Negado",description:"Apenas administradores podem acessar o painel administrativo.",className:"arkos-toast-error"}))};return document.addEventListener("keydown",Ve),()=>document.removeEventListener("keydown",Ve)},[ee]),z.useEffect(()=>{const Ve=je(de,re,le);Ve!==ze&&He(Ve)},[de,re,le,je,ze]);const{collections:et,saveCollection:rt,updateCollection:st,logActivity:vt}=qm();z.useEffect(()=>{if(et&&et[ze]){const Ot=et[ze];Oe(Ot.packages||[]),xt(Ot.duplicates||[])}const Ve=et[ze],it=H[ze]||{packages:[],duplicates:[]},pt=Ve||it,Tt=Array.isArray(pt.packages)?pt.packages:[],Yt=Array.isArray(pt.duplicates)?pt.duplicates:[];Oe(Tt),xt(Yt),it&&it.packages&&it.packages.length>0&&!Ve&&rt(ze,it)},[ze,H,et,rt]),z.useEffect(()=>{if(ht.length>0||ue.length>0||H[ze]&&(H[ze].packages.length>0||H[ze].duplicates.length>0)){const Ve={packages:ht,duplicates:ue,store:de,period:re,operator:le,date:new Date().toLocaleDateString("pt-BR"),lastUpdated:new Date().toISOString()};te(it=>{if(Ve.packages.length===0&&Ve.duplicates.length===0&&!(it[ze]&&(it[ze].packages.length>0||it[ze].duplicates.length>0))){const{[ze]:pt,...Tt}=it;return Tt}return{...it,[ze]:Ve}}),(Ve.packages.length>0||Ve.duplicates.length>0)&&(st(ze,Ve),vt({type:"update",message:`atualizou a coleção ${de} - ${re}`,collectionName:ze,packageCount:Ve.packages.length,duplicateCount:Ve.duplicates.length}))}},[ht,ue,ze,de,re,le,te,H,st,vt]);const jt=async Ve=>{if(!T)return;if(!Ve||Ve!=="bip"&&Ve!=="siren"){console.error(`Tipo de som inválido: ${Ve}`);return}const it=async()=>{try{const Ot=window.AudioContext||window.webkitAudioContext;if(Ot){const Wt=new Ot,gn=Wt.createGain();gn.gain.value=8;const nr=`?t=${new Date().getTime()}`,Bn=await fetch(`./sounds/${Ve}.mp3${nr}`);if(!Bn.ok)throw new Error(`Falha ao carregar arquivo de som: ${Bn.status}`);const Yn=await Bn.arrayBuffer(),an=await Wt.decodeAudioData(Yn),St=Wt.createBufferSource();return St.buffer=an,St.connect(gn),gn.connect(Wt.destination),St.start(0),!0}}catch(Ot){console.warn(`Estratégia 1 falhou para som ${Ve}:`,Ot)}try{const Ot=[];for(let Wt=0;Wt<5;Wt++){const gn=new Audio(`./sounds/${Ve}.mp3?t=${new Date().getTime()+Wt}`);gn.volume=1,gn.crossOrigin="anonymous",Ot.push(gn.play())}return await Promise.all(Ot),!0}catch(Ot){console.warn(`Estratégia 2 falhou para som ${Ve}:`,Ot)}if(xe[Ve]&&xe[Ve].current)try{xe[Ve].current.pause(),xe[Ve].current.currentTime=0,xe[Ve].current.volume=1;const Ot=xe[Ve].current.src;xe[Ve].current.src="",xe[Ve].current.src=Ot+"?t="+new Date().getTime();const Wt=xe[Ve].current.play();return Wt!==void 0&&await Wt,!0}catch(Ot){console.warn(`Estratégia 3 falhou para som ${Ve}:`,Ot)}try{const Ot=`?t=${new Date().getTime()}`,Wt=new Audio(`./sounds/${Ve}.mp3${Ot}`);return Wt.volume=1,Wt.crossOrigin="anonymous",await new Promise((gn,nr)=>{Wt.oncanplaythrough=gn,Wt.onerror=nr,Wt.load(),setTimeout(gn,500)}),await Wt.play(),!0}catch(Ot){console.warn(`Estratégia 4 falhou para som ${Ve}:`,Ot)}return!1};let pt=0;const Tt=2,Yt=async()=>{pt++;try{if(await it()){console.log(`Som ${Ve} reproduzido com sucesso na tentativa ${pt}`);return}if(pt<Tt)return await new Promise(Wt=>setTimeout(Wt,100*pt)),Yt();console.error(`Todas as ${Tt} tentativas de reproduzir o som ${Ve} falharam`)}catch(Ot){if(console.error(`Erro na tentativa ${pt} de reproduzir som ${Ve}:`,Ot),pt<Tt)return await new Promise(Wt=>setTimeout(Wt,100*pt)),Yt()}};Yt().catch(Ot=>{console.error(`Erro fatal ao tentar reproduzir som ${Ve}:`,Ot)})},Ut=Ve=>{e(Ve.target.value.replace(/\s/g,""))},Et=Ve=>{if(!H||typeof H!="object")return!1;for(const it in H){const pt=H[it];if(pt&&(pt.packages&&Array.isArray(pt.packages)&&pt.packages.some(Tt=>typeof Tt=="object"?Tt.code===Ve:Tt===Ve)||pt.duplicates&&Array.isArray(pt.duplicates)&&pt.duplicates.some(Tt=>typeof Tt=="object"?Tt.code===Ve:Tt===Ve)))return!0}return!1},{addScannedPackage:Rt,addDuplicatePackage:rn}=qm(),It=async()=>{const Ve=n.trim();if(!Ve){fe({variant:"destructive",title:"Entrada Inválida",description:"Por favor, insira o código do pacote."});return}const pt=new Date().toLocaleTimeString("pt-BR"),Tt={code:Ve,timestamp:pt};try{Et(Ve)?(xt(Ot=>Array.isArray(Ot)?[...Ot,Tt]:[Tt]),fe({variant:"destructive",title:"Pacote Duplicado!",description:`O pacote ${Ve} já foi registrado anteriormente.`}),setTimeout(()=>{jt("siren"),rn(ze,Tt).catch(Ot=>console.error("Erro ao adicionar pacote duplicado:",Ot))},0)):(Oe(Ot=>Array.isArray(Ot)?[...Ot,Tt]:[Tt]),setTimeout(()=>{jt("bip"),Rt(ze,Tt).catch(Ot=>console.error("Erro ao adicionar pacote escaneado:",Ot))},0)),Ke(Tt),e("")}catch(Yt){console.error("Erro ao processar pacote:",Yt),fe({variant:"destructive",title:"Erro ao Processar",description:"Ocorreu um erro ao processar o pacote. Tente novamente."})}e(""),setTimeout(()=>{var Yt;return(Yt=oe.current)==null?void 0:Yt.focus()},100)},$t=()=>{r(!1),me?(y(""),g("duplicate"),c(!0)):setTimeout(()=>{var Ve;return(Ve=oe.current)==null?void 0:Ve.focus()},100),fe({title:"Desbloqueado",description:"Sistema desbloqueado.",className:"arkos-toast-info"})},ot=async Ve=>{try{setTimeout(async()=>{try{if(!W||!Array.isArray(W))j([Ve]);else if(W.findIndex(pt=>pt.id===Ve.id)===-1){const pt=[...W,Ve];j(pt)}Ee(Ve),V(!0),i(!1),Ve.isAdmin?fe({title:"Login de Administrador",description:"Bem-vindo ao painel administrativo! Pressione Ctrl+Shift+A para acessar.",className:"arkos-toast-admin",duration:5e3}):fe({title:"Login Realizado",description:`Bem-vindo, ${Ve.name}!`,className:"arkos-toast-success"})}catch(it){console.error("Erro durante o processamento do login:",it),fe({className:"arkos-toast-error",title:"Erro no Login",description:"Ocorreu um erro ao processar o login. Tente novamente."})}},100)}catch(it){console.error("Erro durante o login:",it),fe({className:"arkos-toast-error",title:"Erro no Login",description:"Ocorreu um erro ao processar o login. Tente novamente."})}},er=()=>{ee&&vt({type:"logout",message:"saiu do sistema",userId:ee.id,userName:ee.name}),Ee(null),V(!1),i(!0),d(!1),fe({title:"Logout",description:"Você saiu do sistema.",className:"arkos-toast-info"})},[sn,Tr]=z.useState(!1),dn="quito123",Nn=()=>{u?d(!1):Tr(!0)},ms=Ve=>{if(!(ee!=null&&ee.isAdmin)){fe({title:"Acesso Negado",description:"Apenas administradores podem acessar este painel.",className:"arkos-toast-error"}),Tr(!1);return}Ve===dn?(Tr(!1),setTimeout(()=>{d(!0),fe({title:"Painel Administrativo",description:"Carregando painel administrativo...",className:"arkos-toast-info"})},100)):fe({title:"Acesso Negado",description:"Senha incorreta. Tente novamente.",className:"arkos-toast-error"})},on=Ve=>{if(p==="duplicate"&&me){const it=`Pacote Duplicado (${me}): ${Ve} - Operador: ${le} - Data: ${new Date().toLocaleString("pt-BR")}
`;I(pt=>pt+it),fe({title:"Observação de Duplicado Salva",className:"arkos-toast-success"})}else p==="general"&&(I(Ve),fe({title:"Observações Gerais Salvas",className:"arkos-toast-success"}));c(!1),ne(null),setTimeout(()=>{var it;return(it=oe.current)==null?void 0:it.focus()},100)},Gs=Ve=>{Ve.key==="Enter"&&(Ve.preventDefault(),It())},Ln=()=>{if(ht.length===0&&ue.length===0){fe({className:"arkos-toast-error",title:"Coleta Visual Vazia",description:`A coleta visual para ${de} (${re}) já está vazia.`});return}Oe([]),xt([]),fe({title:"Contadores Visuais Limpos",description:`Contadores para ${de} (${re}) foram zerados. Histórico mantido.`,className:"arkos-toast-info"})},tr=(Ve,it)=>{Ae(Ve),ye(it);const pt=je(Ve,it,le);He(pt),fe({title:"Nova Coleta Iniciada",description:`Coleta para ${Ve} (${it}) iniciada. Operador: ${le}.`,className:"arkos-toast-info"})},Nr=Ve=>{const it=new Date().toLocaleDateString("pt-BR"),pt={};if(Object.entries(H).filter(([gn,nr])=>nr.date===it).forEach(([gn,nr])=>{pt[gn]=nr}),Object.keys(pt).length===0){fe({className:"arkos-toast-error",title:"Nenhuma coleta hoje",description:"Não há dados de coleta para exportar para a data de hoje."});return}const Tt={collections:pt,observations:P,operator:le,currentCollectionNameForTitle:`Relatório Diário - ${it}`},Yt=Sy(Ve,Tt),Wt=`arkos_relatorio_diario_${it.replace(/\//g,"-")}.${Ve==="excel"?"csv":"txt"}`;lV(Yt,Wt,Ve==="excel"?"text/csv;charset=utf-8;":"text/plain;charset=utf-8;"),fe({title:`Exportação ${Ve.toUpperCase()}`,description:`Relatório "${Wt}" gerado.`})},jn=()=>{const Ve=new Date().toLocaleDateString("pt-BR"),it={};if(Object.entries(H).filter(([Tt,Yt])=>Yt.date===Ve).forEach(([Tt,Yt])=>{it[Tt]=Yt}),Object.keys(it).length===0){fe({className:"arkos-toast-error",title:"Nenhuma coleta hoje",description:"Não há dados de coleta para imprimir para a data de hoje."});return}cV({collections:it,observations:P,operator:le}),fe({title:"Impressão Iniciada",description:"Verifique a janela de impressão."})},Pt=async Ve=>{try{if(X(Ve),!Ve){fe({className:"arkos-toast-error",title:"Erro",description:"Contexto da loja não definido."}),he(!1);return}ge(null),fe({title:"Enviando para o Trello...",description:"Aguarde...",className:"arkos-toast-info"});const it=new Date,pt=it.toLocaleDateString("pt-BR"),Tt=it.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",hour12:!1}).replace(/:/g,""),Ot=`${pt.replace(/\//g,"")}_${Tt}_${Ve.replace(/\s+/g,"_")}.pdf`;requestAnimationFrame(async()=>{try{const Wt=new Promise(Yn=>{const an={};let St=`ROMANEIO ARKOS - ${Ve}
`;St+=`Data: ${pt}
`,St+=`Operador: ${le}

`;let gs=0,$n=0,or=!1;if(H&&typeof H=="object")for(const Ks of["Manha","Tarde"]){const Zi=Object.values(H);if(Array.isArray(Zi)){const Ct=Zi.filter(Hn=>Hn&&Hn.store===Ve&&Hn.period===Ks&&Hn.date===pt);if(Ct.length>0){St+=`--- ${Ks.toUpperCase()} ---
`;let Hn=0,pr=0;Ct.forEach(ar=>{var rs,Ri;ar&&(an[je(ar.store,ar.period,ar.operator,ar.date.replace(/\//g,"-"))]=ar,Hn+=((rs=ar.packages)==null?void 0:rs.length)||0,pr+=((Ri=ar.duplicates)==null?void 0:Ri.length)||0)}),St+=`Total de Pacotes Válidos: ${Hn}
`,pr>0&&(St+=`Pacotes Duplicados: ${pr} (CONTACTAR GERÊNCIA)
`,or=!0),gs+=Hn,$n+=pr,St+=`
`}}}St+=`--- RESUMO ${Ve} ---
`,St+=`Total Geral de Pacotes Válidos (Manhã + Tarde): ${gs}
`,or?(St+=`Total Geral de Duplicados (Manhã + Tarde): ${$n}
`,St+=`Status: Houve duplicação de pacotes.
`):St+=`Status: Nenhum pacote duplicado em ${Ve} hoje.
`,P&&(St+=`
--- Observações Gerais Registradas ---
${P}
`);const Xr=`ARKOS Romaneio: ${Ve} - ${le} - ${pt}`;Yn({collectionsForTrelloReport:an,description:St,cardTitle:Xr})}),{collectionsForTrelloReport:gn,description:nr,cardTitle:Bn}=await Wt;requestAnimationFrame(async()=>{try{const Yn=await new Promise(Ct=>{const Hn=Sy("pdf",{collections:gn,observations:P,operator:le,currentCollectionNameForTitle:Ve});Ct(Hn)}),an=new Bt;an.setFont("helvetica"),an.setFontSize(12),an.setFontSize(16),an.text("Relatório ARKOS",105,15,{align:"center"}),an.setFontSize(12);let St=25;const gs=7,$n=(Ct,Hn,pr=180)=>{const ar=an.splitTextToSize(Ct,pr);return an.text(ar,15,Hn),Hn+ar.length*gs};St=$n(`Coleta: ${Ve}`,St),St=$n(`Operador: ${le}`,St),St=$n(`Data: ${new Date().toLocaleString("pt-BR")}`,St),St+=5;const or=[],Xr=[];if(Object.values(gn).forEach(Ct=>{Ct&&Ct.packages&&or.push(...Ct.packages),Ct&&Ct.duplicates&&Xr.push(...Ct.duplicates)}),St=$n(`Pacotes Válidos (${or.length}):`,St),or.length>0){const Ct=or.length>100?[...or.slice(0,50),"...",...or.slice(-50)]:or;St=$n(Ct.join(", "),St)}else St=$n("Nenhum",St);St+=5,an.setTextColor(255,0,0),St=$n(`Pacotes Duplicados (${Xr.length}):`,St),Xr.length>0?St=$n(Xr.join(", "),St):St=$n("Nenhum",St),an.setTextColor(0,0,0),St+=5,St=$n(`Total Geral Lido: ${or.length+Xr.length}`,St),P&&P.trim()&&(St+=5,St=$n("Observações:",St),St=$n(P,St));const Ks=an.output("blob"),Zi=new File([Ks],Ot,{type:"application/pdf"});requestAnimationFrame(async()=>{try{const Ct=await aV({title:Bn,description:nr,attachments:[{file:Zi,fileName:Ot,mimeType:"application/pdf"}]});if(Ct&&Ct.id){let Hn=`Card "${Bn}" criado com sucesso.`;if(Ct.attachmentErrors&&Ct.attachmentErrors.length>0){const pr=Ct.attachmentErrors.join("; ");Hn=`Card criado, mas alguns anexos falharam: ${pr}`,ge(`Falha em anexos: ${pr}`),fe({className:"arkos-toast-error",title:"Erro em Anexos Trello",description:Hn,duration:1e4})}else fe({title:"Sucesso no Trello!",description:Hn,className:"arkos-toast-success",duration:7e3})}else throw new Error((Ct==null?void 0:Ct.message)||"Resposta inesperada do Trello ao criar card. Verifique se o card foi criado no Trello.")}catch(Ct){console.error("Erro ao interagir com Trello:",Ct);const Hn=Ct.message||"Erro desconhecido ao enviar para o Trello.";ge(Hn),fe({className:"arkos-toast-error",title:"Erro no Trello",description:`Falha: ${Hn}`,duration:1e4})}finally{he(!1),X("")}})}catch(Yn){console.error("Erro ao gerar relatório:",Yn),ge("Erro ao gerar relatório: "+Yn.message),he(!1),fe({className:"arkos-toast-error",title:"Erro ao Gerar Relatório",description:Yn.message,duration:1e4})}})}catch(Wt){console.error("Erro ao processar dados:",Wt),ge("Erro ao processar dados: "+Wt.message),he(!1),fe({className:"arkos-toast-error",title:"Erro ao Processar Dados",description:Wt.message,duration:1e4})}})}catch(it){console.error("Erro geral no processo do Trello:",it),ge("Erro geral: "+it.message),he(!1),fe({className:"arkos-toast-error",title:"Erro",description:it.message,duration:1e4})}},cn=z.useCallback(async Ve=>{try{ge(null),X(Ve),he(!0),requestAnimationFrame(()=>{Promise.resolve().then(()=>{try{Pt(Ve)}catch(it){console.error("Erro ao enviar para Trello:",it),ge("Erro ao processar: "+it.message),he(!1),fe({variant:"destructive",title:"Erro",description:it.message,duration:1e4})}})})}catch(it){console.error("Erro ao iniciar processo do Trello:",it),ge("Erro ao iniciar processo: "+it.message),he(!1),fe({variant:"destructive",title:"Erro",description:it.message,duration:1e4})}},[Pt,fe]),ns=ht.length,ir=ns>0?Math.floor(ns/2):"",Pr=ue.length,Kr=[{id:"shopfaz",name:"Shopfaz",trelloContext:"Shopfaz"},{id:"karbox",name:"Karbox",trelloContext:"Karbox"},{id:"shopfazml",name:"Shopfaz ML",trelloContext:"Shopfaz Mercado Livre"},{id:"amazon",name:"Amazon",trelloContext:"Amazon"}],dt=()=>{g("general"),c(!0)},Yr={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"circOut"}},exit:{opacity:0,y:20,transition:{duration:.2,ease:"circIn"}}};return b.jsxs("div",{className:`min-h-screen bg-background p-3 sm:p-6 md:p-8 flex flex-col items-center text-foreground transition-colors duration-300 font-sans ${L?"dark":"light"}`,children:[b.jsx("audio",{ref:xe.bip,src:"./sounds/bip.mp3",preload:"auto",crossOrigin:"anonymous",controls:!1,onError:Ve=>{console.error("Erro ao carregar áudio bip:",Ve),fe({className:"arkos-toast-error",title:"Erro de Áudio",description:"Não foi possível carregar o som de confirmação."})}}),b.jsx("audio",{ref:xe.siren,src:"./sounds/siren.mp3",preload:"auto",crossOrigin:"anonymous",controls:!1,onError:Ve=>{console.error("Erro ao carregar áudio siren:",Ve),fe({className:"arkos-toast-error",title:"Erro de Áudio",description:"Não foi possível carregar o som de alerta."})}}),b.jsx(wC,{}),b.jsx(MR,{isOpen:s,onClose:()=>i(!1),onLogin:ot,users:W}),b.jsx(ZF,{isOpen:u,onClose:()=>d(!1)}),b.jsx(Zw,{isOpen:t,onClose:()=>{r(!1),ne(null),setTimeout(()=>{var Ve;return(Ve=oe.current)==null?void 0:Ve.focus()},100)},onUnlock:$t,expectedPassword:cB,title:"PACOTE DUPLICADO - CONTACTAR GERÊNCIA",message:"Este pacote já foi lido. Insira a senha para registrar uma observação."}),b.jsx(Zw,{isOpen:sn,onClose:()=>{Tr(!1)},onUnlock:ms,expectedPassword:dn,title:"ACESSO AO PAINEL ADMINISTRATIVO",message:"Insira a senha para acessar o painel administrativo."}),b.jsx(qR,{isOpen:a,onClose:()=>{c(!1),ne(null),setTimeout(()=>{var Ve;return(Ve=oe.current)==null?void 0:Ve.focus()},100)},initialObservation:p==="duplicate"?w:P,onSubmit:on,title:p==="duplicate"?`Observação para Pacote Duplicado: ${me||""}`:"Observações Gerais da Coleta",message:p==="duplicate"?"Descreva o motivo ou ação para este pacote.":"Adicione ou edite observações gerais para o relatório."}),b.jsx(Kl,{mode:"wait",children:D?b.jsxs(qn.div,{variants:Yr,initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-4xl arkos-card",children:[b.jsx(HR,{isDarkMode:L,setIsDarkMode:F,onLogout:er,onAdminPanel:Nn,isAdmin:ee==null?void 0:ee.isAdmin}),b.jsx(KR,{isSoundEnabled:T,onToggleSound:()=>E(Ve=>!Ve)}),b.jsx(zR,{currentOperator:le,operators:k,onSetCurrentOperator:U,onSetOperators:B,initialOperatorName:w0}),b.jsx(WR,{storesConfig:Kr,onStartNewCollectionPeriod:tr}),b.jsxs("div",{className:"my-6 p-4 bg-primary/5 rounded-lg",children:[b.jsxs("h2",{className:"text-xl font-bold text-center mb-4",children:["Coleta Atual: ",b.jsxs("span",{className:"arkos-gradient-text",children:[de," - ",re]})]}),b.jsx(FR,{inputValue:n,onInputChange:Ut,onKeyPress:Gs,onScanPackage:It,inputRef:oe,isPasswordModalOpen:t||ie||a,onClearCurrentCollection:Ln}),ut&&b.jsx(QR,{lastPackage:ut})]}),b.jsxs("div",{className:"mb-4 p-4 bg-primary/5 rounded-lg",children:[b.jsx("h2",{className:"text-lg font-bold mb-2",children:"Atividades em Tempo Real"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx(kL,{}),b.jsx("div",{className:"mt-3",children:b.jsx(RL,{})})]}),b.jsx("div",{children:b.jsx(eV,{})})]})]}),b.jsxs(Kl,{children:[ie&&b.jsx(YR,{message:"Processando com Trello..."}),ce&&b.jsx(XR,{message:ce})]}),b.jsx(BR,{totalScanned:ns,halfScanned:ir,duplicateCount:Pr,storeName:`${de} - ${re}`}),b.jsx(VR,{scannedPackages:ht,duplicatePackages:ue,currentCollectionName:`${de} - ${re}`}),b.jsx(GR,{storesConfig:Kr,onTrelloButtonClick:cn,isLoadingTrello:ie,isPasswordModalOpen:t||a,onOpenObservationModal:dt}),b.jsx(UR,{onExport:Nr,onPrint:jn,showResetAllButton:!1}),b.jsx($R,{allCollectionsData:H,storesConfig:Kr})]},"arkos_app_container"):b.jsxs(qn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center mt-10",children:[b.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sistema ARKOS"}),b.jsx("p",{className:"text-muted-foreground",children:"Faça login para acessar o sistema."}),b.jsx(Jt,{onClick:()=>i(!0),className:"mt-4 arkos-button-primary",children:"Fazer Login"})]},"login_message")}),b.jsxs("footer",{className:"mt-10 sm:mt-16 text-center text-muted-foreground text-xs sm:text-sm",children:[b.jsxs("p",{children:["© ",new Date().getFullYear()," ARKOS. Todos os direitos reservados."]}),b.jsx("p",{children:"Otimizando sua logística com precisão."})]})]})};mN.createRoot(document.getElementById("root")).render(b.jsx(zr.StrictMode,{children:b.jsx(h9,{children:b.jsx(hB,{})})}));export{Kn as _,dB as c,Oy as g};
